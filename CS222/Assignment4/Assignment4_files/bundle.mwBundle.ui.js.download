(function(){var E={"dojo/Deferred":"dojo/Deferred","dojo/Evented":"dojo/Evented","dojo/_base/Deferred":"dojo/_base/Deferred","dojo/_base/array":"dojo/_base/array","dojo/_base/config":"dojo/_base/config","dojo/_base/connect":"dojo/_base/connect","dojo/_base/declare":"dojo/_base/declare","dojo/_base/event":"dojo/_base/event","dojo/_base/json":"dojo/_base/json","dojo/_base/kernel":"dojo/_base/kernel","dojo/_base/lang":"dojo/_base/lang","dojo/_base/sniff":"dojo/_base/sniff","dojo/_base/window":"dojo/_base/window","dojo/_base/xhr":"dojo/_base/xhr","dojo/aspect":"dojo/aspect","dojo/dom-attr":"dojo/dom-attr","dojo/dom-construct":"dojo/dom-construct","dojo/dom-form":"dojo/dom-form","dojo/dom-geometry":"dojo/dom-geometry","dojo/dom-prop":"dojo/dom-prop","dojo/dom-style":"dojo/dom-style","dojo/dom":"dojo/dom","dojo/errors/CancelError":"dojo/errors/CancelError","dojo/errors/RequestError":"dojo/errors/RequestError","dojo/errors/RequestTimeoutError":"dojo/errors/RequestTimeoutError","dojo/errors/create":"dojo/errors/create","dojo/global":"dojo/global","dojo/has":"dojo/has","dojo/i18n":"dojo/i18n","dojo/io-query":"dojo/io-query","dojo/json":"dojo/json","dojo/keys":"dojo/keys","dojo/mouse":"dojo/mouse","dojo/on":"dojo/on","dojo/promise/Promise":"dojo/promise/Promise","dojo/request/handlers":"dojo/request/handlers","dojo/request/script":"dojo/request/script","dojo/request/util":"dojo/request/util","dojo/request/watch":"dojo/request/watch","dojo/request/xhr":"dojo/request/xhr","dojo/sniff":"dojo/sniff","dojo/topic":"dojo/topic","dojo/when":"dojo/when","rtc/dojo/aspect":"rtc/dojo/aspect","7d8508a0e82c941a78f78eb8255bb0a462fdc162":"7d8508a0e82c941a78f78eb8255bb0a462fdc162","dojo/i18n!matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/MATLABTestCreation":"dojo/i18n!matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/MATLABTestCreation","mw-remote/serviceRegistryLookup!":"mw-remote/serviceRegistryLookup!","02f54660960ee2f0b7d714b8ec7c749f28a537c3":"02f54660960ee2f0b7d714b8ec7c749f28a537c3","cometd/AckExtension":"cometd/AckExtension","cometd/cometd":"cometd/cometd","mw-deprecation-utils/deprecation":"mw-deprecation-utils/deprecation","mw-filename-utils/FileNameUtil":"mw-filename-utils/FileNameUtil","mw-html-utils/HtmlUtils":"mw-html-utils/HtmlUtils","mw-html-utils/_parseHtml/sanitize":"mw-html-utils/_parseHtml/sanitize","mw-log/Log":"mw-log/Log","mw-log/impl/Backlog":"mw-log/impl/Backlog","mw-log/impl/Levels":"mw-log/impl/Levels","mw-log/impl/Modes":"mw-log/impl/Modes","mw-log/impl/Type":"mw-log/impl/Type","mw-log/util/LogUtils":"mw-log/util/LogUtils","mw-messageservice/MessageService":"mw-messageservice/MessageService","mw-messageservice/messageserviceimpl/MessageServiceAsync":"mw-messageservice/messageserviceimpl/MessageServiceAsync","mw-messageservice/messageserviceimpl/MessageServiceBase":"mw-messageservice/messageserviceimpl/MessageServiceBase","mw-messageservice/messageserviceimpl/MessageServiceState":"mw-messageservice/messageserviceimpl/MessageServiceState","mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance":"mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance","mw-messageservice/messageserviceimpl/instanceEnums":"mw-messageservice/messageserviceimpl/instanceEnums","mw-messageservice/messageserviceimpl/isValidChannel":"mw-messageservice/messageserviceimpl/isValidChannel","mw-messageservice/messageserviceimpl/messageServiceFactory":"mw-messageservice/messageserviceimpl/messageServiceFactory","mw-messageservice/messageserviceimpl/transportEnums":"mw-messageservice/messageserviceimpl/transportEnums","mw-remote/EndPointsManager":"mw-remote/EndPointsManager","mw-remote/Remote":"mw-remote/Remote","mw-remote/RemoteEndPointsManager":"mw-remote/RemoteEndPointsManager","mw-remote/ReplaceUploadIframe":"mw-remote/ReplaceUploadIframe","mw-remote/UploadToWorker":"mw-remote/UploadToWorker","mw-remote/defaultMessageMapping":"mw-remote/defaultMessageMapping","mw-remote/iframeproxy/CheckUrlService":"mw-remote/iframeproxy/CheckUrlService","mw-remote/iframeproxy/IframeProxyClient":"mw-remote/iframeproxy/IframeProxyClient","mw-remote/impl/AutoDetectedTransaction":"mw-remote/impl/AutoDetectedTransaction","mw-remote/impl/FaultManager":"mw-remote/impl/FaultManager","mw-remote/impl/JsonTransaction":"mw-remote/impl/JsonTransaction","mw-remote/impl/RequestManager":"mw-remote/impl/RequestManager","mw-remote/impl/ResponseManager":"mw-remote/impl/ResponseManager","mw-remote/impl/Transaction":"mw-remote/impl/Transaction","mw-remote/serviceRegistryLookup":"mw-remote/serviceRegistryLookup","mw-remote/utils/RemoteUrlUtils":"mw-remote/utils/RemoteUrlUtils","mw-remote/utils/SecurityUtils":"mw-remote/utils/SecurityUtils","mw-remote/utils/SendMessageUtil":"mw-remote/utils/SendMessageUtil","mw-statemachine/StateMachine":"mw-statemachine/StateMachine","mw-statemachine/statemachineimpl/EventTrigger":"mw-statemachine/statemachineimpl/EventTrigger","mw-statemachine/statemachineimpl/MessageTrigger":"mw-statemachine/statemachineimpl/MessageTrigger","mw-statemachine/statemachineimpl/RemoteTrigger":"mw-statemachine/statemachineimpl/RemoteTrigger","mw-statemachine/statemachineimpl/State":"mw-statemachine/statemachineimpl/State","mw-statemachine/statemachineimpl/TimeoutTrigger":"mw-statemachine/statemachineimpl/TimeoutTrigger","mw-statemachine/statemachineimpl/Transition":"mw-statemachine/statemachineimpl/Transition","mw-statemachine/statemachineimpl/Trigger":"mw-statemachine/statemachineimpl/Trigger","mw-utils/Utils":"mw-utils/Utils","rtc/abstract/AbstractDestroyable":"rtc/abstract/AbstractDestroyable","rtc/abstract/AbstractPlugin":"rtc/abstract/AbstractPlugin","rtc/core/provider/PluginProvider":"rtc/core/provider/PluginProvider","rtc/datamodel/BackingStore":"rtc/datamodel/BackingStore","rtc/datamodel/EditorFileExtensionUtils":"rtc/datamodel/EditorFileExtensionUtils","rtc/datamodel/FileBackingStoreUtilities":"rtc/datamodel/FileBackingStoreUtilities","rtc/datamodel/InMemoryBackingStore":"rtc/datamodel/InMemoryBackingStore","rtc/dirtystate/States":"rtc/dirtystate/States","rtc/pluggability/PluginRegistryModule":"rtc/pluggability/PluginRegistryModule","rtc/plugins/contextmenu/ContextMenuContributor":"rtc/plugins/contextmenu/ContextMenuContributor","rtc/plugins/contextmenu/ContextMenuGroups":"rtc/plugins/contextmenu/ContextMenuGroups","rtc/plugins/contextmenu/ContextMenuItemTypes":"rtc/plugins/contextmenu/ContextMenuItemTypes","rtc/plugins/contextmenu/ContextMenuUtilities":"rtc/plugins/contextmenu/ContextMenuUtilities","matlabtest_testcreation_ui/MatlabTestPluginRegistryModule":"matlabtest_testcreation_ui/MatlabTestPluginRegistryModule","matlabtest_testcreation_ui/plugin/CreateTestFromFunctionContextMenuContributor":"matlabtest_testcreation_ui/plugin/CreateTestFromFunctionContextMenuContributor","matlabtest_testcreation_ui/plugin/CreateTestFromFunctionContextMenuContributorProvider":"matlabtest_testcreation_ui/plugin/CreateTestFromFunctionContextMenuContributorProvider","matlabtest_testcreation_ui/plugin/TestCreationAction":"matlabtest_testcreation_ui/plugin/TestCreationAction","matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/MATLABTestCreation":"matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/MATLABTestCreation","matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/ja-jp/MATLABTestCreation":"matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/ja-jp/MATLABTestCreation","mw-mvm/CapabilitiesList":"mw-mvm/CapabilitiesList","mw-mvm/Capability":"mw-mvm/Capability","mw-mvm/ExecutionStatus":"mw-mvm/ExecutionStatus","mw-mvm/RunOptions":"mw-mvm/RunOptions","mw-mvm/UserMvm":"mw-mvm/UserMvm","mw-mvm/WhenToDequeue":"mw-mvm/WhenToDequeue","mw-mvm/impl/AttachDetach":"mw-mvm/impl/AttachDetach","mw-mvm/impl/Bang":"mw-mvm/impl/Bang","mw-mvm/impl/Connection":"mw-mvm/impl/Connection","mw-mvm/impl/ConnectionData":"mw-mvm/impl/ConnectionData","mw-mvm/impl/Debugger":"mw-mvm/impl/Debugger","mw-mvm/impl/EvalFevalCancel":"mw-mvm/impl/EvalFevalCancel","mw-mvm/impl/EventManager":"mw-mvm/impl/EventManager","mw-mvm/impl/MVM":"mw-mvm/impl/MVM","mw-mvm/impl/MVMConnection":"mw-mvm/impl/MVMConnection","mw-mvm/impl/MVMPromise":"mw-mvm/impl/MVMPromise","mw-mvm/impl/MVMSink":"mw-mvm/impl/MVMSink","mw-mvm/impl/More":"mw-mvm/impl/More","mw-mvm/impl/Pause":"mw-mvm/impl/Pause","mw-mvm/impl/RequestQueue":"mw-mvm/impl/RequestQueue","mw-mvm/impl/RootWindowContainer":"mw-mvm/impl/RootWindowContainer","mw-mvm/impl/RuntimeException":"mw-mvm/impl/RuntimeException","mw-mvm/impl/StackFrame":"mw-mvm/impl/StackFrame","mw-fctrl/Features":"mw-fctrl/Features"},P=this||window,t=P.webpackChunk=P.webpackChunk||[];if(t.registerAbsMids)t.registerAbsMids(E,{MW_BUNDLE_CHUNK_ID:"mwBundle.ui"});else{var y=t.absMidsWaiting=t.absMidsWaiting||[];y.push(E)}})(),(self.webpackChunk=self.webpackChunk||[]).push([["mwBundle.ui"],{"dojo/Deferred":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/has"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/errors/CancelError"]),t(t.dj.r.absMids["dojo/promise/Promise"]),t(t.dj.r.absMids["7d8508a0e82c941a78f78eb8255bb0a462fdc162"])],M=t.dj.d(y,function(c,A,h,l,n){"use strict";var o=0,i=1,m=2,g="This deferred has already been fulfilled.",e=Object.freeze||function(){},a=function(d,u,s,v,T){c("config-deferredInstrumentation")&&u===m&&b.instrumentRejected&&d.length===0&&b.instrumentRejected(s,!1,v,T);for(var R=0;R<d.length;R++)r(d[R],u,s,v)},r=function(d,u,s,v){var T=d[u],R=d.deferred;if(T)try{var D=T(s);if(u===o)typeof D<"u"&&p(R,u,D);else{if(D&&typeof D.then=="function"){d.cancel=D.cancel,D.then(f(R,i),f(R,m),f(R,o));return}p(R,i,D)}}catch(S){p(R,m,S)}else p(R,u,s);c("config-deferredInstrumentation")&&u===m&&b.instrumentRejected&&b.instrumentRejected(s,!!T,v,R.promise)},f=function(d,u){return function(s){p(d,u,s)}},p=function(d,u,s){if(!d.isCanceled())switch(u){case o:d.progress(s);break;case i:d.resolve(s);break;case m:d.reject(s);break}},b=function(d){var u=this.promise=new l,s=this,v,T,R,D=!1,S=[];c("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(s,b),Error.captureStackTrace(u,b)),this.isResolved=u.isResolved=function(){return v===i},this.isRejected=u.isRejected=function(){return v===m},this.isFulfilled=u.isFulfilled=function(){return!!v},this.isCanceled=u.isCanceled=function(){return D},this.progress=function(j,L){if(v){if(L===!0)throw new Error(g);return u}else return a(S,o,j,null,s),u},this.resolve=function(j,L){if(v){if(L===!0)throw new Error(g);return u}else return a(S,v=i,T=j,null,s),S=null,u};var x=this.reject=function(j,L){if(v){if(L===!0)throw new Error(g);return u}else return c("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(R={},x),a(S,v=m,T=j,R,s),S=null,u};this.then=u.then=function(j,L,U){var F=[U,j,L];return F.cancel=u.cancel,F.deferred=new b(function(I){return F.cancel&&F.cancel(I)}),v&&!S?r(F,v,T,R):S.push(F),F.deferred.promise},this.cancel=u.cancel=function(j,L){if(v){if(L===!0)throw new Error(g)}else{if(d){var U=d(j);j=typeof U>"u"?j:U}if(D=!0,v){if(v===m&&T===j)return j}else return typeof j>"u"&&(j=new h),x(j),j}},e(u)};return b.prototype.toString=function(){return"[object Deferred]"},n&&n(b),b},E,P),E.exports=M},"dojo/Evented":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/aspect"]),t(t.dj.r.absMids["dojo/on"])],M=t.dj.d(y,function(c,A){"use strict";var h=c.after;function l(){}return l.prototype={on:function(n,o){return A.parse(this,n,o,function(i,m){return h(i,"on"+m,o,!0)})},emit:function(n,o){var i=[this];return i.push.apply(i,arguments),A.emit.apply(A,i)}},l},E,P),E.exports=M},"dojo/_base/Deferred":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/Deferred"]),t(t.dj.r.absMids["dojo/promise/Promise"]),t(t.dj.r.absMids["dojo/errors/CancelError"]),t(t.dj.r.absMids["dojo/has"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/when"])],M=t.dj.d(y,function(c,A,h,l,n,o,i){var m=function(){},g=Object.freeze||function(){},e=c.Deferred=function(a){var r,f,p,b,d,u,s,v=this.promise=new h;function T(S){if(f)throw new Error("This deferred has already been resolved");r=S,f=!0,R()}function R(){for(var S;!S&&s;){var x=s;s=s.next,(S=x.progress==m)&&(f=!1);var j=d?x.error:x.resolved;if(n("config-useDeferredInstrumentation")&&d&&A.instrumentRejected&&A.instrumentRejected(r,!!j),j)try{var L=j(r);if(L&&typeof L.then=="function"){L.then(o.hitch(x.deferred,"resolve"),o.hitch(x.deferred,"reject"),o.hitch(x.deferred,"progress"));continue}var U=S&&L===void 0;S&&!U&&(d=L instanceof Error),x.deferred[U&&d?"reject":"resolve"](U?r:L)}catch(F){x.deferred.reject(F)}else d?x.deferred.reject(r):x.deferred.resolve(r)}}this.isResolved=v.isResolved=function(){return b==0},this.isRejected=v.isRejected=function(){return b==1},this.isFulfilled=v.isFulfilled=function(){return b>=0},this.isCanceled=v.isCanceled=function(){return p},this.resolve=this.callback=function(S){this.fired=b=0,this.results=[S,null],T(S)},this.reject=this.errback=function(S){d=!0,this.fired=b=1,n("config-useDeferredInstrumentation")&&A.instrumentRejected&&A.instrumentRejected(S,!!s),T(S),this.results=[null,S]},this.progress=function(S){for(var x=s;x;){var j=x.progress;j&&j(S),x=x.next}},this.addCallbacks=function(S,x){return this.then(S,x,m),this},v.then=this.then=function(S,x,j){var L=j==m?this:new e(v.cancel),U={resolved:S,error:x,progress:j,deferred:L};return s?u=u.next=U:s=u=U,f&&R(),L.promise};var D=this;v.cancel=this.cancel=function(){if(!f){var S=a&&a(D);f||(S instanceof Error||(S=new l(S)),S.log=!1,D.reject(S))}p=!0},g(v)};return o.extend(e,{addCallback:function(a){return this.addCallbacks(o.hitch.apply(c,arguments))},addErrback:function(a){return this.addCallbacks(null,o.hitch.apply(c,arguments))},addBoth:function(a){var r=o.hitch.apply(c,arguments);return this.addCallbacks(r,r)},fired:-1}),e.when=c.when=i,e},E,P),E.exports=M},"dojo/_base/array":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/has"]),t(t.dj.r.absMids["dojo/_base/lang"])],M=t.dj.d(y,function(c,A,h){var l={},n,o;A("csp-restrictions")||(o=function(e){return l[e]=new Function("item","index","array",e)});function i(e){var a=!e;return function(r,f,p){var b=0,d=r&&r.length||0,u;if(d&&typeof r=="string"&&(r=r.split("")),typeof f=="string"){if(A("csp-restrictions"))throw new TypeError("callback must be a function");f=l[f]||o(f)}if(p){for(;b<d;++b)if(u=!f.call(p,r[b],b,r),e^u)return!u}else for(;b<d;++b)if(u=!f(r[b],b,r),e^u)return!u;return a}}function m(e){var a=1,r=0,f=0;return e||(a=r=f=-1),function(p,b,d,u){if(u&&a>0)return g.lastIndexOf(p,b,d);var s=p&&p.length||0,v=e?s+f:r,T;for(d===n?T=e?r:s+f:d<0?(T=s+d,T<0&&(T=r)):T=d>=s?s+f:d,s&&typeof p=="string"&&(p=p.split(""));T!=v;T+=a)if(p[T]==b)return T;return-1}}var g={every:i(!1),some:i(!0),indexOf:m(!0),lastIndexOf:m(!1),forEach:function(e,a,r){var f=0,p=e&&e.length||0;if(p&&typeof e=="string"&&(e=e.split("")),typeof a=="string"){if(A("csp-restrictions"))throw new TypeError("callback must be a function");a=l[a]||o(a)}if(r)for(;f<p;++f)a.call(r,e[f],f,e);else for(;f<p;++f)a(e[f],f,e)},map:function(e,a,r,f){var p=0,b=e&&e.length||0,d=new(f||Array)(b);if(b&&typeof e=="string"&&(e=e.split("")),typeof a=="string"){if(A("csp-restrictions"))throw new TypeError("callback must be a function");a=l[a]||o(a)}if(r)for(;p<b;++p)d[p]=a.call(r,e[p],p,e);else for(;p<b;++p)d[p]=a(e[p],p,e);return d},filter:function(e,a,r){var f=0,p=e&&e.length||0,b=[],d;if(p&&typeof e=="string"&&(e=e.split("")),typeof a=="string"){if(A("csp-restrictions"))throw new TypeError("callback must be a function");a=l[a]||o(a)}if(r)for(;f<p;++f)d=e[f],a.call(r,d,f,e)&&b.push(d);else for(;f<p;++f)d=e[f],a(d,f,e)&&b.push(d);return b},clearCache:function(){l={}}};return A("extend-dojo")&&h.mixin(c,g),g},E,P),E.exports=M},"dojo/_base/config":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/global"]),t(t.dj.r.absMids["dojo/has"]),t.dj.c(E)],M=t.dj.d(y,function(c,A,h){var l={};if(A("dojo-config-api")){var n=h.rawConfig,o;for(o in n)l[o]=n[o]}else{var i=function(g,e,a){for(o in g)o!="has"&&A.add(e+o,g[o],0,a)};l=A("dojo-loader")?h.rawConfig:c.dojoConfig||c.djConfig||{},i(l,"config",1),i(l.has,"",1)}if(l.updateLocale=function(g,e){var a,r,f="en-us";if(g.indexOf(e)>=0&&e!=="zh"){l.locale=e;return}if(a=e.split("-")[0],a==="zh"){l.locale=f.toLocaleLowerCase();return}for(var p=0;p<g.length;p=p+1)if(r=g[p].split("-")[0],a===r){l.locale=g[p];break}l.locale||(l.locale=f.toLowerCase())},!l.locale&&typeof navigator<"u"){var m=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage;m=l._testLanguageOverride||m,m&&(m=m.toLowerCase(),l.supportedLocales&&l.updateLocale(l.supportedLocales,m))}return l.locale||(l.locale="en-us"),l},E,P),E.exports=M},"dojo/_base/connect":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/on"]),t(t.dj.r.absMids["dojo/topic"]),t(t.dj.r.absMids["dojo/aspect"]),t(t.dj.r.absMids["dojo/_base/event"]),t(t.dj.r.absMids["dojo/mouse"]),t(t.dj.r.absMids["dojo/_base/sniff"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/keys"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m){i.add("events-keypress-typed",function(){var u={charCode:0};try{u=document.createEvent("KeyboardEvent"),(u.initKeyboardEvent||u.initKeyEvent).call(u,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(s){}return u.charCode==0&&!i("opera")});function g(u,s,v,T,R){if(T=m.hitch(v,T),!u||!(u.addEventListener||u.attachEvent))return l.after(u||c.global,s,T,!0);if(typeof s=="string"&&s.substring(0,2)=="on"&&(s=s.substring(2)),u||(u=c.global),!R)switch(s){case"keypress":s=p;break;case"mouseenter":s=o.enter;break;case"mouseleave":s=o.leave;break}return A(u,s,T,R)}var e={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},a=i("mac")?"metaKey":"ctrlKey",r=function(u,s){var v=m.mixin({},u,s);return f(v),v.preventDefault=function(){u.preventDefault()},v.stopPropagation=function(){u.stopPropagation()},v};function f(u){u.keyChar=u.charCode?String.fromCharCode(u.charCode):"",u.charOrCode=u.keyChar||u.keyCode}var p;if(i("events-keypress-typed")){var b=function(u,s){try{return u.keyCode=s}catch(v){return 0}};p=function(u,s){var v=A(u,"keydown",function(R){var D=R.keyCode,S=D!=13&&D!=32&&(D!=27||!i("ie"))&&(D<48||D>90)&&(D<96||D>111)&&(D<186||D>192)&&(D<219||D>222)&&D!=229;if(S||R.ctrlKey){var x=S?0:D;if(R.ctrlKey){if(D==3||D==13)return s.call(R.currentTarget,R);x>95&&x<106?x-=48:!R.shiftKey&&x>=65&&x<=90?x+=32:x=e[x]||x}var j=r(R,{type:"keypress",faux:!0,charCode:x});s.call(R.currentTarget,j),i("ie")&&b(R,j.keyCode)}}),T=A(u,"keypress",function(R){var D=R.charCode;return D=D>=32?D:0,R=r(R,{charCode:D,faux:!0}),s.call(this,R)});return{remove:function(){v.remove(),T.remove()}}}}else i("opera")?p=function(u,s){return A(u,"keypress",function(v){var T=v.which;return T==3&&(T=99),T=T<32&&!v.shiftKey?0:T,v.ctrlKey&&!v.shiftKey&&T>=65&&T<=90&&(T+=32),s.call(this,r(v,{charCode:T}))})}:p=function(u,s){return A(u,"keypress",function(v){return f(v),s.call(this,v)})};var d={_keypress:p,connect:function(u,s,v,T,R){var D=arguments,S=[],x=0;S.push(typeof D[0]=="string"?null:D[x++],D[x++]);var j=D[x+1];S.push(typeof j=="string"||typeof j=="function"?D[x++]:null,D[x++]);for(var L=D.length;x<L;x++)S.push(D[x]);return g.apply(this,S)},disconnect:function(u){u&&u.remove()},subscribe:function(u,s,v){return h.subscribe(u,m.hitch(s,v))},publish:function(u,s){return h.publish.apply(h,[u].concat(s))},connectPublisher:function(u,s,v){var T=function(){d.publish(u,arguments)};return v?d.connect(s,v,T):d.connect(s,T)},isCopyKey:function(u){return u[a]}};return d.unsubscribe=d.disconnect,i("extend-dojo")&&m.mixin(c,d),d},E,P),E.exports=M},"dojo/_base/declare":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/has"]),t(t.dj.r.absMids["dojo/_base/lang"])],M=t.dj.d(y,function(c,A,h){var l=h.mixin,n=Object.prototype,o=n.toString,i,m=0,g="constructor";A("csp-restrictions")?i=function(){}:i=new Function;function e(F,I){throw new Error("declare"+(I?" "+I:"")+": "+F)}function a(F,I){for(var O=[],B=[{cls:0,refs:[]}],H={},N=1,W=F.length,Y=0,z,K,V,X,J,q,et,st;Y<W;++Y){for(V=F[Y],V?o.call(V)!="[object Function]"&&e("mixin #"+Y+" is not a callable constructor.",I):e("mixin #"+Y+" is unknown. Did you use dojo.require to pull it in?",I),K=V._meta?V._meta.bases:[V],X=0,z=K.length-1;z>=0;--z)J=K[z].prototype,J.hasOwnProperty("declaredClass")||(J.declaredClass="uniqName_"+m++),et=J.declaredClass,H.hasOwnProperty(et)||(H[et]={count:0,refs:[],cls:K[z]},++N),q=H[et],X&&X!==q&&(q.refs.push(X),++X.count),X=q;++X.count,B[0].refs.push(X)}for(;B.length;){for(X=B.pop(),O.push(X.cls),--N;st=X.refs,st.length==1;){if(X=st[0],!X||--X.count){X=0;break}O.push(X.cls),--N}if(X)for(Y=0,W=st.length;Y<W;++Y)X=st[Y],--X.count||B.push(X)}return N&&e("can't build consistent linearization",I),V=F[0],O[0]=V?V._meta&&V===O[O.length-V._meta.bases.length]?V._meta.bases.length:1:0,O}function r(F,I,O,B){var H,N,W,Y,z,K,V,X,J,q=this._inherited=this._inherited||{};if(typeof F=="string"&&(H=F,F=I,I=O,O=B),typeof F=="function")Y=F,F=I,I=O;else try{Y=F.callee}catch(et){if(et instanceof TypeError)e("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw et}if(H=H||Y.nom,H||e("can't deduce a name to call inherited()",this.declaredClass),O=B=0,z=this.constructor._meta,W=z.bases,J=q.p,H!=g){if(q.c!==Y&&(J=0,K=W[0],z=K._meta,z.hidden[H]!==Y)){N=z.chains,N&&typeof N[H]=="string"&&e("calling chained method with inherited: "+H,this.declaredClass);do if(z=K._meta,V=K.prototype,z&&(V[H]===Y&&V.hasOwnProperty(H)||z.hidden[H]===Y))break;while(K=W[++J]);J=K?J:-1}if(K=W[++J],K)if(V=K.prototype,K._meta&&V.hasOwnProperty(H))O=V[H];else{X=n[H];do if(V=K.prototype,O=V[H],O&&(K._meta?V.hasOwnProperty(H):O!==X))break;while(K=W[++J])}O=K&&O||n[H]}else{if(q.c!==Y&&(J=0,z=W[0]._meta,z&&z.ctor!==Y)){for(N=z.chains,(!N||N.constructor!=="manual")&&e("calling chained constructor with inherited",this.declaredClass);(K=W[++J])&&(z=K._meta,!(z&&z.ctor===Y)););J=K?J:-1}for(;(K=W[++J])&&(z=K._meta,O=z?z.ctor:K,!O););O=K&&O}if(q.c=O,q.p=J,O)return I===!0?O:O.apply(this,I||F)}function f(F,I,O){return typeof F=="string"?typeof I=="function"?this.__inherited(F,I,O,!0):this.__inherited(F,I,!0):typeof F=="function"?this.__inherited(F,I,!0):this.__inherited(F,!0)}function p(F,I,O,B){var H=this.getInherited(F,I,O);if(H)return H.apply(this,B||O||I||F)}var b=c.config.isDebug?p:r;function d(F){for(var I=this.constructor._meta.bases,O=0,B=I.length;O<B;++O)if(I[O]===F)return!0;return this instanceof F}function u(F,I){for(var O in I)O!=g&&I.hasOwnProperty(O)&&(F[O]=I[O]);if(A("bug-for-in-skips-shadowed"))for(var B=h._extraNames,H=B.length;H;)O=B[--H],O!=g&&I.hasOwnProperty(O)&&(F[O]=I[O])}function s(F,I){var O,B;for(O in I)B=I[O],(B!==n[O]||!(O in n))&&O!=g&&(o.call(B)=="[object Function]"&&(B.nom=O),F[O]=B);if(A("bug-for-in-skips-shadowed")&&I)for(var H=h._extraNames,N=H.length;N;)O=H[--N],B=I[O],(B!==n[O]||!(O in n))&&O!=g&&(o.call(B)=="[object Function]"&&(B.nom=O),F[O]=B);return F}function v(F){return U.safeMixin(this.prototype,F),this}function T(F,I){return F instanceof Array||typeof F=="function"||(I=F,F=void 0),I=I||{},F=F||[],U([this].concat(F),I)}function R(F,I){return function(){var O=arguments,B=O,H=O[0],N,W,Y,z=F.length,K;if(!(this instanceof O.callee))return L(O);if(I&&(H&&H.preamble||this.preamble))for(K=new Array(F.length),K[0]=O,W=0;H=O[0],H&&(N=H.preamble,N&&(O=N.apply(this,O)||O)),N=F[W].prototype,N=N.hasOwnProperty("preamble")&&N.preamble,N&&(O=N.apply(this,O)||O),++W!=z;)K[W]=O;for(W=z-1;W>=0;--W)N=F[W],Y=N._meta,N=Y?Y.ctor:N,N&&N.apply(this,K?K[W]:O);N=this.postscript,N&&N.apply(this,B)}}function D(F,I){return function(){var O=arguments,B=O,H=O[0],N;if(!(this instanceof O.callee))return L(O);I&&(H&&(N=H.preamble,N&&(B=N.apply(this,B)||B)),N=this.preamble,N&&N.apply(this,B)),F&&F.apply(this,O),N=this.postscript,N&&N.apply(this,O)}}function S(F){return function(){var I=arguments,O=0,B,H;try{if(!(this instanceof I.callee))return L(I)}catch(N){}for(;B=F[O];++O)if(H=B._meta,B=H?H.ctor:B,B){B.apply(this,I);break}B=this.postscript,B&&B.apply(this,I)}}function x(F,I,O){return function(){var B,H,N,W=0,Y=1;for(O&&(W=I.length-1,Y=-1);B=I[W];W+=Y)H=B._meta,N=(H?H.hidden:B.prototype)[F],N&&N.apply(this,arguments)}}function j(F){i.prototype=F.prototype;var I=new i;return i.prototype=null,I}function L(F){var I=F.callee,O=j(I);return I.apply(O,F),O}function U(F,I,O){typeof F!="string"&&(O=I,I=F,F=""),O=O||{};var B,H,N,W,Y,z,K,V=1,X=I;if(o.call(I)=="[object Array]"?(z=a(I,F),N=z[0],V=z.length-N,I=z[V]):(z=[0],I?o.call(I)=="[object Function]"?(N=I._meta,z=z.concat(N?N.bases:I)):e("base class is not a callable constructor.",F):I!==null&&e("unknown base class. Did you use dojo.require to pull it in?",F)),I)for(H=V-1;B=j(I),!!H;--H)N=z[H],(N._meta?u:l)(B,N.prototype),A("csp-restrictions")?W=function(){}:W=new Function,W.superclass=I,W.prototype=B,I=B.constructor=W;else B={};for(U.safeMixin(B,O),N=O.constructor,N!==n.constructor&&(N.nom=g,B.constructor=N),H=V-1;H;--H)N=z[H]._meta,N&&N.chains&&(K=l(K||{},N.chains));if(B["-chains-"]&&(K=l(K||{},B["-chains-"])),I&&I.prototype&&I.prototype["-chains-"]&&(K=l(K||{},I.prototype["-chains-"])),N=!K||!K.hasOwnProperty(g),z[0]=W=K&&K.constructor==="manual"?S(z):z.length==1?D(O.constructor,N):R(z,N),W._meta={bases:z,hidden:O,chains:K,parents:X,ctor:O.constructor},W.superclass=I&&I.prototype,W.extend=v,W.createSubclass=T,W.prototype=B,B.constructor=W,B.getInherited=f,B.isInstanceOf=d,B.inherited=b,B.__inherited=r,F&&(B.declaredClass=F,h.setObject(F,W)),K)for(Y in K)B[Y]&&typeof K[Y]=="string"&&Y!=g&&(N=B[Y]=x(Y,z,K[Y]==="after"),N.nom=Y);return W}return c.safeMixin=U.safeMixin=s,c.declare=U,U},E,P),E.exports=M},"dojo/_base/event":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/on"]),t(t.dj.r.absMids["dojo/has"]),t(t.dj.r.absMids["dojo/dom-geometry"])],M=t.dj.d(y,function(c,A,h,l){if(A._fixEvent){var n=A._fixEvent;A._fixEvent=function(i,m){return i=n(i,m),i&&l.normalizeEvent(i),i}}var o={fix:function(i,m){return A._fixEvent?A._fixEvent(i,m):i},stop:function(i){h("dom-addeventlistener")||i&&i.preventDefault?(i.preventDefault(),i.stopPropagation()):(i=i||window.event,i.cancelBubble=!0,A._preventDefault.call(i))}};return h("extend-dojo")&&(c.fixEvent=o.fix,c.stopEvent=o.stop),o},E,P),E.exports=M},"dojo/_base/json":(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/json"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,function(dojo,json){return dojo.fromJson=function(js){return eval("("+js+")")},dojo._escapeString=json.stringify,dojo.toJsonIndentStr="	",dojo.toJson=function(E,P){return json.stringify(E,function(t,y){if(y){var M=y.__json__||y.json;if(typeof M=="function")return M.call(y)}return y},P&&dojo.toJsonIndentStr)},dojo},module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/_base/kernel":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/global"]),t(t.dj.r.absMids["dojo/has"]),t(t.dj.r.absMids["dojo/_base/config"]),t.dj.c(E),t.dj.m(E)],M=t.dj.d(y,function(c,A,h,l,n){var o,i,m={},g={},e={config:h,global:c,dijit:m,dojox:g},a={dojo:["dojo",e],dijit:["dijit",m],dojox:["dojox",g]},r=l.map&&l.map[n.id.match(/[^\/]+/)[0]],f;for(i in r)a[i]?a[i][0]=r[i]:a[i]=[r[i],{}];for(i in a)f=a[i],f[1]._scopeName=f[0],h.noGlobals||(c[f[0]]=f[1]);e.scopeMap=a,e.baseUrl=e.config.baseUrl=l.baseUrl,e.isAsync=!A("dojo-loader")||l.async,e.locale=h.locale;var p="$Rev:$".match(/[0-9a-f]{7,}/);if(e.version={major:1,minor:17,patch:1,flag:"",revision:p?p[0]:NaN,toString:function(){var s=e.version;return s.major+"."+s.minor+"."+s.patch+s.flag+" ("+s.revision+")"}},A.add("extend-dojo",1),A("csp-restrictions")||Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(e),A("host-rhino")?e.exit=function(s){quit(s)}:e.exit=function(){},A("host-webworker")||A.add("dojo-guarantee-console",1),A("dojo-guarantee-console")){A.add("console-as-object",function(){return Function.prototype.bind&&console&&typeof console.log=="object"}),typeof console<"u"||(console={});var b=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"],d;for(o=0;d=b[o++];)console[d]?A("console-as-object")&&(console[d]=Function.prototype.bind.call(console[d],console)):function(){var s=d+"";console[s]="log"in console?function(){var v=Array.prototype.slice.call(arguments);v.unshift(s+":"),console.log(v.join(" "))}:function(){},console[s]._fake=!0}()}if(A.add("dojo-debug-messages",!!h.isDebug),e.deprecated=e.experimental=function(){},A("dojo-debug-messages")&&(e.deprecated=function(s,v,T){var R="DEPRECATED: "+s;v&&(R+=" "+v),T&&(R+=" -- will be removed in version: "+T),console.warn(R)},e.experimental=function(s,v){var T="EXPERIMENTAL: "+s+" -- APIs subject to change without notice.";v&&(T+=" "+v),console.warn(T)}),A.add("dojo-modulePaths",1),A("dojo-modulePaths")&&h.modulePaths){e.deprecated("dojo.modulePaths","use paths configuration");var u={};for(i in h.modulePaths)u[i.replace(/\./g,"/")]=h.modulePaths[i];l({paths:u})}return A.add("dojo-moduleUrl",1),A("dojo-moduleUrl")&&(e.moduleUrl=function(s,v){e.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var T=null;return s&&(T=l.toUrl(s.replace(/\./g,"/")+(v?"/"+v:"")+"/*.*").replace(/\/\*\.\*/,"")+(v?"":"/")),T}),e._hasResource={},e},E,P),E.exports=M},"dojo/_base/lang":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/has"]),t(t.dj.r.absMids["dojo/sniff"])],M=t.dj.d(y,function(c,A){A.add("bug-for-in-skips-shadowed",function(){for(var e in{toString:1})return 0;return 1});var h=A("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],l=h.length,n=function(e,a,r){r||(e[0]&&c.scopeMap[e[0]]?r=c.scopeMap[e.shift()][1]:r=c.global);try{for(var f=0;f<e.length;f++){var p=e[f];if(p==="__proto__"||p==="constructor")return;if(!(p in r))if(a)r[p]={};else return;r=r[p]}return r}catch(b){}},o=Object.prototype.toString,i=function(e,a,r){return(r||[]).concat(Array.prototype.slice.call(e,a||0))},m=/\{([^\}]+)\}/g,g={_extraNames:h,_mixin:function(e,a,r){var f,p,b,d={};for(f in a)p=a[f],(!(f in e)||e[f]!==p&&(!(f in d)||d[f]!==p))&&(e[f]=r?r(p):p);if(A("bug-for-in-skips-shadowed")&&a)for(b=0;b<l;++b)f=h[b],p=a[f],(!(f in e)||e[f]!==p&&(!(f in d)||d[f]!==p))&&(e[f]=r?r(p):p);return e},mixin:function(e,a){e||(e={});for(var r=1,f=arguments.length;r<f;r++)g._mixin(e,arguments[r]);return e},setObject:function(e,a,r){var f=e.split("."),p=f.pop(),b=n(f,!0,r);return b&&p?b[p]=a:void 0},getObject:function(e,a,r){return e?n(e.split("."),a,r):r},exists:function(e,a){return g.getObject(e,!1,a)!==void 0},isString:function(e){return typeof e=="string"||e instanceof String},isArray:Array.isArray||function(e){return o.call(e)=="[object Array]"},isFunction:function(e){return o.call(e)==="[object Function]"},isObject:function(e){return e!==void 0&&(e===null||typeof e=="object"||g.isArray(e)||g.isFunction(e))},isArrayLike:function(e){return!!e&&!g.isString(e)&&!g.isFunction(e)&&!(e.tagName&&e.tagName.toLowerCase()=="form")&&(g.isArray(e)||isFinite(e.length))},isAlien:function(e){return e&&!g.isFunction(e)&&/\{\s*\[native code\]\s*\}/.test(String(e))},extend:function(e,a){for(var r=1,f=arguments.length;r<f;r++)g._mixin(e.prototype,arguments[r]);return e},_hitchArgs:function(e,a){var r=g._toArray(arguments,2),f=g.isString(a);return function(){var p=g._toArray(arguments),b=f?(e||c.global)[a]:a;return b&&b.apply(e||this,r.concat(p))}},hitch:function(e,a){if(arguments.length>2)return g._hitchArgs.apply(c,arguments);if(a||(a=e,e=null),g.isString(a)){if(e=e||c.global,!e[a])throw['lang.hitch: scope["',a,'"] is null (scope="',e,'")'].join("");return function(){return e[a].apply(e,arguments||[])}}return e?function(){return a.apply(e,arguments||[])}:a},delegate:function(){function e(){}return function(a,r){e.prototype=a;var f=new e;return e.prototype=null,r&&g._mixin(f,r),f}}(),_toArray:A("ie")?function(){function e(a,r,f){for(var p=f||[],b=r||0;b<a.length;b++)p.push(a[b]);return p}return function(a){return(a.item?e:i).apply(this,arguments)}}():i,partial:function(e){var a=[null];return g.hitch.apply(c,a.concat(g._toArray(arguments)))},clone:function(e){if(!e||typeof e!="object"||g.isFunction(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);var a,r,f;if(g.isArray(e))for(a=[],r=0,f=e.length;r<f;++r)r in e&&(a[r]=g.clone(e[r]));else a=e.constructor?new e.constructor:{};return g._mixin(a,e,g.clone)},trim:String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(e,a,r){return e.replace(r||m,g.isFunction(a)?a:function(f,p){return g.getObject(p,!1,a)})}};return A("extend-dojo")&&g.mixin(c,g),g},E,P),E.exports=M},"dojo/_base/sniff":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/sniff"])],M=t.dj.d(y,function(c,A,h){return h("host-browser")&&(c._name="browser",A.mixin(c,{isBrowser:!0,isFF:h("ff"),isIE:h("ie"),isKhtml:h("khtml"),isWebKit:h("webkit"),isMozilla:h("mozilla"),isMoz:h("mozilla"),isOpera:h("opera"),isSafari:h("safari"),isChrome:h("chrome"),isMac:h("mac"),isIos:h("ios"),isAndroid:h("android"),isWii:h("wii"),isQuirks:h("quirks"),isAir:h("air")})),h},E,P),E.exports=M},"dojo/_base/window":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/sniff"])],M=t.dj.d(y,function(c,A,h){var l={global:c.global,doc:c.global.document||null,body:function(n){return n=n||c.doc,n.body||n.getElementsByTagName("body")[0]},setContext:function(n,o){c.global=l.global=n,c.doc=l.doc=o},withGlobal:function(n,o,i,m){var g=c.global;try{return c.global=l.global=n,l.withDoc.call(null,n.document,o,i,m)}finally{c.global=l.global=g}},withDoc:function(n,o,i,m){var g=l.doc,e=h("quirks"),a=h("ie"),r,f,p;try{return c.doc=l.doc=n,c.isQuirks=h.add("quirks",c.doc.compatMode=="BackCompat",!0,!0),h("ie")&&(p=n.parentWindow)&&p.navigator&&(r=parseFloat(p.navigator.appVersion.split("MSIE ")[1])||void 0,f=n.documentMode,f&&f!=5&&Math.floor(r)!=f&&(r=f),c.isIE=h.add("ie",r,!0,!0)),i&&typeof o=="string"&&(o=i[o]),o.apply(i,m||[])}finally{c.doc=l.doc=g,c.isQuirks=h.add("quirks",e,!0,!0),c.isIE=h.add("ie",a,!0,!0)}}};return h("extend-dojo")&&A.mixin(c,l),l},E,P),E.exports=M},"dojo/_base/xhr":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/_base/sniff"]),t.dj.c(E),t(t.dj.r.absMids["dojo/io-query"]),t(t.dj.r.absMids["dojo/dom"]),t(t.dj.r.absMids["dojo/dom-form"]),t(t.dj.r.absMids["dojo/_base/Deferred"]),t(t.dj.r.absMids["dojo/_base/config"]),t(t.dj.r.absMids["dojo/_base/json"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/_base/array"]),t(t.dj.r.absMids["dojo/on"]),t(t.dj.r.absMids["dojo/aspect"]),t(t.dj.r.absMids["dojo/request/watch"]),t(t.dj.r.absMids["dojo/request/xhr"]),t(t.dj.r.absMids["dojo/request/util"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m,g,e,a,r,f,p,b,d){c._xhrObj=b._create;var u=c.config;c.objectToQuery=l.objectToQuery,c.queryToObject=l.queryToObject,c.fieldToObject=o.fieldToObject,c.formToObject=o.toObject,c.formToQuery=o.toQuery,c.formToJson=o.toJson,c._blockAsync=!1;var s=c._contentHandlers=c.contentHandlers={text:function(x){return x.responseText},json:function(x){return g.fromJson(x.responseText||null)},"json-comment-filtered":function(x){m.useCommentedJson||console.warn(`Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&
Use djConfig.useCommentedJson=true to turn off this message.`);var j=x.responseText,L=j.indexOf("/*"),U=j.lastIndexOf("*/");if(L==-1||U==-1)throw new Error("JSON was not comment filtered");return g.fromJson(j.substring(L+2,U))},javascript:function(x){return c.eval(x.responseText)},xml:function(x){var j=x.responseXML;if(j&&A("dom-qsa2.1")&&!j.querySelectorAll&&A("dom-parser")&&(j=new DOMParser().parseFromString(x.responseText,"application/xml")),A("ie")&&(!j||!j.documentElement)){var L=function(F){return"MSXML"+F+".DOMDocument"},U=["Microsoft.XMLDOM",L(6),L(4),L(3),L(2)];a.some(U,function(F){try{var I=new ActiveXObject(F);I.async=!1,I.loadXML(x.responseText),j=I}catch(O){return!1}return!0})}return j},"json-comment-optional":function(x){return x.responseText&&/^[^{\[]*\/\*/.test(x.responseText)?s["json-comment-filtered"](x):s.json(x)}};c._ioSetArgs=function(x,j,L,U){var F={args:x,url:x.url},I=null;if(x.form){var O=n.byId(x.form),B=O.getAttributeNode("action");F.url=F.url||(B?B.value:c.doc?c.doc.URL:null),I=o.toObject(O)}var H={};I&&e.mixin(H,I),x.content&&e.mixin(H,x.content),x.preventCache&&(H["dojo.preventCache"]=new Date().valueOf()),F.query=l.objectToQuery(H),F.handleAs=x.handleAs||"text";var N=new i(function(K){K.canceled=!0,j&&j(K);var V=K.ioArgs.error;return V||(V=new Error("request cancelled"),V.dojoType="cancel",K.ioArgs.error=V),V});N.addCallback(L);var W=x.load;W&&e.isFunction(W)&&N.addCallback(function(K){return W.call(x,K,F)});var Y=x.error;Y&&e.isFunction(Y)&&N.addErrback(function(K){return Y.call(x,K,F)});var z=x.handle;return z&&e.isFunction(z)&&N.addBoth(function(K){return z.call(x,K,F)}),N.addErrback(function(K){return U(K,N)}),u.ioPublish&&c.publish&&F.args.ioPublish!==!1&&(N.addCallbacks(function(K){return c.publish("/dojo/io/load",[N,K]),K},function(K){return c.publish("/dojo/io/error",[N,K]),K}),N.addBoth(function(K){return c.publish("/dojo/io/done",[N,K]),K})),N.ioArgs=F,N};var v=function(x){var j=s[x.ioArgs.handleAs](x.ioArgs.xhr);return j===void 0?null:j},T=function(x,j){return j.ioArgs.args.failOk||console.error(x),x},R=function(x){D<=0&&(D=0,u.ioPublish&&c.publish&&(!x||x&&x.ioArgs.args.ioPublish!==!1)&&c.publish("/dojo/io/stop"))},D=0;f.after(p,"_onAction",function(){D-=1}),f.after(p,"_onInFlight",R),c._ioCancelAll=p.cancelAll,c._ioNotifyStart=function(x){u.ioPublish&&c.publish&&x.ioArgs.args.ioPublish!==!1&&(D||c.publish("/dojo/io/start"),D+=1,c.publish("/dojo/io/send",[x]))},c._ioWatch=function(x,j,L,U){var F=x.ioArgs.options=x.ioArgs.args;e.mixin(x,{response:x.ioArgs,isValid:function(I){return j(x)},isReady:function(I){return L(x)},handleResponse:function(I){return U(x)}}),p(x),R(x)};var S="application/x-www-form-urlencoded";return c._ioAddQueryToUrl=function(x){x.query.length&&(x.url+=(x.url.indexOf("?")==-1?"?":"&")+x.query,x.query=null)},c.xhr=function(x,j,L){var U,F=c._ioSetArgs(j,function(B){U&&U.cancel()},v,T),I=F.ioArgs;"postData"in j?I.query=j.postData:"putData"in j?I.query=j.putData:"rawBody"in j?I.query=j.rawBody:(arguments.length>2&&!L||"POST|PUT".indexOf(x.toUpperCase())===-1)&&c._ioAddQueryToUrl(I);var O={method:x,handleAs:"text",timeout:j.timeout,withCredentials:j.withCredentials,ioArgs:I};typeof j.headers<"u"&&(O.headers=j.headers),typeof j.contentType<"u"&&(O.headers||(O.headers={}),O.headers["Content-Type"]=j.contentType),typeof I.query<"u"&&(O.data=I.query),typeof j.sync<"u"&&(O.sync=j.sync),c._ioNotifyStart(F);try{U=b(I.url,O,!0)}catch(B){return F.cancel(),F}return F.ioArgs.xhr=U.response.xhr,U.then(function(){F.resolve(F)}).otherwise(function(B){I.error=B,B.response&&(B.status=B.response.status,B.responseText=B.response.text,B.xhr=B.response.xhr),F.reject(B)}),F},c.xhrGet=function(x){return c.xhr("GET",x)},c.rawXhrPost=c.xhrPost=function(x){return c.xhr("POST",x,!0)},c.rawXhrPut=c.xhrPut=function(x){return c.xhr("PUT",x,!0)},c.xhrDelete=function(x){return c.xhr("DELETE",x)},c._isDocumentOk=function(x){return d.checkStatus(x.status)},c._getText=function(x){var j;return c.xhrGet({url:x,sync:!0,load:function(L){j=L}}),j},e.mixin(c.xhr,{_xhrObj:c._xhrObj,fieldToObject:o.fieldToObject,formToObject:o.toObject,objectToQuery:l.objectToQuery,formToQuery:o.toQuery,formToJson:o.toJson,queryToObject:l.queryToObject,contentHandlers:s,_ioSetArgs:c._ioSetArgs,_ioCancelAll:c._ioCancelAll,_ioNotifyStart:c._ioNotifyStart,_ioWatch:c._ioWatch,_ioAddQueryToUrl:c._ioAddQueryToUrl,_isDocumentOk:c._isDocumentOk,_getText:c._getText,get:c.xhrGet,post:c.xhrPost,put:c.xhrPut,del:c.xhrDelete}),c.xhr},E,P),E.exports=M},"dojo/aspect":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){"use strict";var c;function A(i,m,g,e){var a=i[m],r=m=="around",f;if(r){var p=g(function(){return a.advice(this,arguments)});f={remove:function(){p&&(p=i=g=null)},advice:function(b,d){return p?p.apply(b,d):a.advice(b,d)}}}else f={remove:function(){if(f.advice){var b=f.previous,d=f.next;!d&&!b?delete i[m]:(b?b.next=d:i[m]=d,d&&(d.previous=b)),i=g=f.advice=null}},id:i.nextId++,advice:g,receiveArguments:e};if(a&&!r)if(m=="after"){for(;a.next&&(a=a.next););a.next=f,f.previous=a}else m=="before"&&(i[m]=f,f.next=a,a.previous=f);else i[m]=f;return f}function h(i){return function(m,g,e,a){var r=m[g],f;(!r||r.target!=m)&&(m[g]=f=function(){for(var b=f.nextId,d=arguments,u=f.before;u;)u.advice&&(d=u.advice.apply(this,d)||d),u=u.next;if(f.around)var s=f.around.advice(this,d);for(var v=f.after;v&&v.id<b;){if(v.advice)if(v.receiveArguments){var T=v.advice.apply(this,d);s=T===c?s:T}else s=v.advice.call(this,s,d);v=v.next}return s},r&&(f.around={advice:function(b,d){return r.apply(b,d)}}),f.target=m,f.nextId=f.nextId||0);var p=A(f||r,i,e,a);return e=null,p}}var l=h("after"),n=h("before"),o=h("around");return{before:n,around:o,after:l}},E,P),E.exports=M},"dojo/dom-attr":(E,P,t)=>{var y,M;y=[P,t(t.dj.r.absMids["dojo/sniff"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/dom"]),t(t.dj.r.absMids["dojo/dom-style"]),t(t.dj.r.absMids["dojo/dom-prop"])],M=t.dj.d(y,function(c,A,h,l,n,o){var i={innerHTML:1,textContent:1,className:1,htmlFor:A("ie")?1:0,value:1},m={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function g(e,a){var r=e.getAttributeNode&&e.getAttributeNode(a);return!!r&&r.specified}c.has=function(a,r){var f=r.toLowerCase();return!!i[o.names[f]||r]||g(l.byId(a),m[f]||r)},c.get=function(a,r){a=l.byId(a);var f=r.toLowerCase(),p=o.names[f]||r,b=i[p],d=a[p];if(b&&typeof d<"u")return d;if(p=="textContent")return o.get(a,p);if(p!="href"&&(typeof d=="boolean"||h.isFunction(d)))return d;var u=m[f]||r;return g(a,u)?a.getAttribute(u):null},c.set=function(a,r,f){if(a=l.byId(a),arguments.length==2){for(var p in r)c.set(a,p,r[p]);return a}var b=r.toLowerCase(),d=o.names[b]||r,u=i[d];return d=="style"&&typeof f!="string"?(n.set(a,f),a):u||typeof f=="boolean"||h.isFunction(f)?o.set(a,r,f):(a.setAttribute(m[b]||r,f),a)},c.remove=function(a,r){l.byId(a).removeAttribute(m[r.toLowerCase()]||r)},c.getNodeProp=function(a,r){a=l.byId(a);var f=r.toLowerCase(),p=o.names[f]||r;if(p in a&&p!="href")return a[p];var b=m[f]||r;return g(a,b)?a.getAttribute(b):null}},E,P),E.exports=M},"dojo/dom-construct":(E,P,t)=>{var y,M;y=[P,t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/sniff"]),t(t.dj.r.absMids["dojo/_base/window"]),t(t.dj.r.absMids["dojo/dom"]),t(t.dj.r.absMids["dojo/dom-attr"])],M=t.dj.d(y,function(c,A,h,l,n,o){var i={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},m=/<\s*([\w\:]+)/,g={},e=0,a="__"+A._scopeName+"ToDomId";for(var r in i)if(i.hasOwnProperty(r)){var f=i[r];f.pre=r=="option"?'<select multiple="multiple">':"<"+f.join("><")+">",f.post="</"+f.reverse().join("></")+">"}var p;h("ie")<=8&&(p=function(R){R.__dojo_html5_tested="yes";var D=u("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},R.body);D.childNodes.length!==1&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(S){R.createElement(S)}),T(D)});function b(R,D){var S=D.parentNode;S&&S.insertBefore(R,D)}function d(R,D){var S=D.parentNode;S&&(S.lastChild==D?S.appendChild(R):S.insertBefore(R,D.nextSibling))}c.toDom=function(D,S){S=S||l.doc;var x=S[a];x||(S[a]=x=++e+"",g[x]=S.createElement("div")),h("ie")<=8&&!S.__dojo_html5_tested&&S.body&&p(S),D+="";var j=D.match(m),L=j?j[1].toLowerCase():"",U=g[x],F,I,O,B;if(j&&i[L])for(F=i[L],U.innerHTML=F.pre+D+F.post,I=F.length;I;--I)U=U.firstChild;else U.innerHTML=D;if(U.childNodes.length==1)return U.removeChild(U.firstChild);for(B=S.createDocumentFragment();O=U.firstChild;)B.appendChild(O);return B},c.place=function(D,S,x){if(S=n.byId(S),typeof D=="string"&&(D=/^\s*</.test(D)?c.toDom(D,S.ownerDocument):n.byId(D)),typeof x=="number"){var j=S.childNodes;!j.length||j.length<=x?S.appendChild(D):b(D,j[x<0?0:x])}else switch(x){case"before":b(D,S);break;case"after":d(D,S);break;case"replace":S.parentNode.replaceChild(D,S);break;case"only":c.empty(S),S.appendChild(D);break;case"first":if(S.firstChild){b(D,S.firstChild);break}default:S.appendChild(D)}return D};var u=c.create=function(D,S,x,j){var L=l.doc;return x&&(x=n.byId(x),L=x.ownerDocument),typeof D=="string"&&(D=L.createElement(D)),S&&o.set(D,S),x&&c.place(D,x,j),D};function s(R){if("innerHTML"in R)try{R.innerHTML="";return}catch(S){}for(var D;D=R.lastChild;)R.removeChild(D)}c.empty=function(D){s(n.byId(D))};function v(R,D){R.firstChild&&s(R),D&&(h("ie")&&D.canHaveChildren&&"removeNode"in R?R.removeNode(!1):D.removeChild(R))}var T=c.destroy=function(D){D=n.byId(D),D&&v(D,D.parentNode)}},E,P),E.exports=M},"dojo/dom-form":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/dom"]),t(t.dj.r.absMids["dojo/io-query"]),t(t.dj.r.absMids["dojo/json"])],M=t.dj.d(y,function(c,A,h,l){function n(m,g,e){if(e!==null){var a=m[g];typeof a=="string"?m[g]=[a,e]:c.isArray(a)?a.push(e):m[g]=e}}var o="file|submit|image|reset|button",i={fieldToObject:function(g){var e=null;if(g=A.byId(g),g){var a=g.name,r=(g.type||"").toLowerCase();if(a&&r&&!g.disabled)if(r=="radio"||r=="checkbox")g.checked&&(e=g.value);else if(g.multiple){e=[];for(var f=[g.firstChild];f.length;)for(var p=f.pop();p;p=p.nextSibling)if(p.nodeType==1&&p.tagName.toLowerCase()=="option")p.selected&&e.push(p.value);else{p.nextSibling&&f.push(p.nextSibling),p.firstChild&&f.push(p.firstChild);break}}else e=g.value}return e},toObject:function(g){for(var e={},a=A.byId(g).elements,r=0,f=a.length;r<f;++r){var p=a[r],b=p.name,d=(p.type||"").toLowerCase();b&&d&&o.indexOf(d)<0&&!p.disabled&&(n(e,b,i.fieldToObject(p)),d=="image"&&(e[b+".x"]=e[b+".y"]=e[b].x=e[b].y=0))}return e},toQuery:function(g){return h.objectToQuery(i.toObject(g))},toJson:function(g,e){return l.stringify(i.toObject(g),null,e?4:0)}};return i},E,P),E.exports=M},"dojo/dom-geometry":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/sniff"]),t(t.dj.r.absMids["dojo/_base/window"]),t(t.dj.r.absMids["dojo/dom"]),t(t.dj.r.absMids["dojo/dom-style"])],M=t.dj.d(y,function(c,A,h,l){var n={};n.boxModel="content-box",c("ie")&&(n.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box"),n.getPadExtents=function(f,p){f=h.byId(f);var b=p||l.getComputedStyle(f),d=l.toPixelValue,u=d(f,b.paddingLeft),s=d(f,b.paddingTop),v=d(f,b.paddingRight),T=d(f,b.paddingBottom);return{l:u,t:s,r:v,b:T,w:u+v,h:s+T}};var o="none";n.getBorderExtents=function(f,p){f=h.byId(f);var b=l.toPixelValue,d=p||l.getComputedStyle(f),u=d.borderLeftStyle!=o?b(f,d.borderLeftWidth):0,s=d.borderTopStyle!=o?b(f,d.borderTopWidth):0,v=d.borderRightStyle!=o?b(f,d.borderRightWidth):0,T=d.borderBottomStyle!=o?b(f,d.borderBottomWidth):0;return{l:u,t:s,r:v,b:T,w:u+v,h:s+T}},n.getPadBorderExtents=function(f,p){f=h.byId(f);var b=p||l.getComputedStyle(f),d=n.getPadExtents(f,b),u=n.getBorderExtents(f,b);return{l:d.l+u.l,t:d.t+u.t,r:d.r+u.r,b:d.b+u.b,w:d.w+u.w,h:d.h+u.h}},n.getMarginExtents=function(f,p){f=h.byId(f);var b=p||l.getComputedStyle(f),d=l.toPixelValue,u=d(f,b.marginLeft),s=d(f,b.marginTop),v=d(f,b.marginRight),T=d(f,b.marginBottom);return{l:u,t:s,r:v,b:T,w:u+v,h:s+T}},n.getMarginBox=function(f,p){f=h.byId(f);var b=p||l.getComputedStyle(f),d=n.getMarginExtents(f,b),u=f.offsetLeft-d.l,s=f.offsetTop-d.t,v=f.parentNode,T=l.toPixelValue,R;if(c("mozilla")){var D=parseFloat(b.left),S=parseFloat(b.top);!isNaN(D)&&!isNaN(S)?(u=D,s=S):v&&v.style&&(R=l.getComputedStyle(v),R.overflow!="visible"&&(u+=R.borderLeftStyle!=o?T(f,R.borderLeftWidth):0,s+=R.borderTopStyle!=o?T(f,R.borderTopWidth):0))}else(c("opera")||c("ie")==8&&!c("quirks"))&&v&&(R=l.getComputedStyle(v),u-=R.borderLeftStyle!=o?T(f,R.borderLeftWidth):0,s-=R.borderTopStyle!=o?T(f,R.borderTopWidth):0);return{l:u,t:s,w:f.offsetWidth+d.w,h:f.offsetHeight+d.h}},n.getContentBox=function(f,p){f=h.byId(f);var b=p||l.getComputedStyle(f),d=f.clientWidth,u,s=n.getPadExtents(f,b),v=n.getBorderExtents(f,b);return d?(u=f.clientHeight,v.w=v.h=0):(d=f.offsetWidth,u=f.offsetHeight),c("opera")&&(s.l+=v.l,s.t+=v.t),{l:s.l,t:s.t,w:d-s.w-v.w,h:u-s.h-v.h}};function i(r,f,p,b,d,u){u=u||"px";var s=r.style;isNaN(f)||(s.left=f+u),isNaN(p)||(s.top=p+u),b>=0&&(s.width=b+u),d>=0&&(s.height=d+u)}function m(r){return r.tagName.toLowerCase()=="button"||r.tagName.toLowerCase()=="input"&&(r.getAttribute("type")||"").toLowerCase()=="button"}function g(r){return n.boxModel=="border-box"||r.tagName.toLowerCase()=="table"||m(r)}function e(r){var f={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},p;try{p=r.getBoundingClientRect()}catch(b){return f}return typeof p.left>"u"?f:p}n.setContentSize=function(f,p,b){f=h.byId(f);var d=p.w,u=p.h;if(g(f)){var s=n.getPadBorderExtents(f,b);d>=0&&(d+=s.w),u>=0&&(u+=s.h)}i(f,NaN,NaN,d,u)};var a={l:0,t:0,w:0,h:0};return n.setMarginBox=function(f,p,b){f=h.byId(f);var d=b||l.getComputedStyle(f),u=p.w,s=p.h,v=g(f)?a:n.getPadBorderExtents(f,d),T=n.getMarginExtents(f,d);if(c("webkit")&&m(f)){var R=f.style;u>=0&&!R.width&&(R.width="4px"),s>=0&&!R.height&&(R.height="4px")}u>=0&&(u=Math.max(u-v.w-T.w,0)),s>=0&&(s=Math.max(s-v.h-T.h,0)),i(f,p.l,p.t,u,s)},n.isBodyLtr=function(f){return f=f||A.doc,(A.body(f).dir||f.documentElement.dir||"ltr").toLowerCase()=="ltr"},n.docScroll=function(f){f=f||A.doc;var p=f.parentWindow||f.defaultView;return"pageXOffset"in p?{x:p.pageXOffset,y:p.pageYOffset}:(p=c("quirks")?A.body(f):f.documentElement)&&{x:n.fixIeBiDiScrollLeft(p.scrollLeft||0,f),y:p.scrollTop||0}},n.getIeDocumentElementOffset=function(r){return{x:0,y:0}},n.fixIeBiDiScrollLeft=function(f,p){p=p||A.doc;var b=c("ie");if(b&&!n.isBodyLtr(p)){var d=c("quirks"),u=d?A.body(p):p.documentElement,s=A.global;return b==6&&!d&&s.frameElement&&u.scrollHeight>u.clientHeight&&(f+=u.clientLeft),b<8||d?f+u.clientWidth-u.scrollWidth:-f}return f},n.position=function(r,f){r=h.byId(r);var p=A.body(r.ownerDocument),b=e(r);if(b={x:b.left,y:b.top,w:b.right-b.left,h:b.bottom-b.top},c("ie")<9&&(b.x-=c("quirks")?p.clientLeft+p.offsetLeft:0,b.y-=c("quirks")?p.clientTop+p.offsetTop:0),f){var d=n.docScroll(r.ownerDocument);b.x+=d.x,b.y+=d.y}return b},n.getMarginSize=function(f,p){f=h.byId(f);var b=n.getMarginExtents(f,p||l.getComputedStyle(f)),d=e(f);return{w:d.right-d.left+b.w,h:d.bottom-d.top+b.h}},n.normalizeEvent=function(r){if("layerX"in r||(r.layerX=r.offsetX,r.layerY=r.offsetY),!("pageX"in r)){var f=r.target,p=f&&f.ownerDocument||document,b=c("quirks")?p.body:p.documentElement;r.pageX=r.clientX+n.fixIeBiDiScrollLeft(b.scrollLeft||0,p),r.pageY=r.clientY+(b.scrollTop||0)}},n},E,P),E.exports=M},"dojo/dom-prop":(E,P,t)=>{var y,M;y=[P,t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/sniff"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/dom"]),t(t.dj.r.absMids["dojo/dom-style"]),t(t.dj.r.absMids["dojo/dom-construct"]),t(t.dj.r.absMids["dojo/_base/connect"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m){var g={},e=1,a=A._scopeName+"attrid";h.add("dom-textContent",function(f,p,b){return"textContent"in b}),c.names={class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};function r(f){for(var p="",b=f.childNodes,d=0,u;u=b[d];d++)u.nodeType!=8&&(u.nodeType==1?p+=r(u):p+=u.nodeValue);return p}c.get=function(p,b){p=n.byId(p);var d=b.toLowerCase(),u=c.names[d]||b;return u=="textContent"&&!h("dom-textContent")?r(p):p[u]},c.set=function(p,b,d){p=n.byId(p);var u=arguments.length;if(u==2&&typeof b!="string"){for(var s in b)c.set(p,s,b[s]);return p}var v=b.toLowerCase(),T=c.names[v]||b;if(T=="style"&&typeof d!="string")return o.set(p,d),p;if(T=="innerHTML")return h("ie")&&p.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(i.empty(p),p.appendChild(i.toDom(d,p.ownerDocument))):p[T]=d,p;if(T=="textContent"&&!h("dom-textContent"))return i.empty(p),p.appendChild(p.ownerDocument.createTextNode(d)),p;if(l.isFunction(d)){var R=p[a];R||(R=e++,p[a]=R),g[R]||(g[R]={});var D=g[R][T];if(D)m.disconnect(D);else try{delete p[T]}catch(S){}return d?g[R][T]=m.connect(p,T,d):p[T]=null,p}return p[T]=d,p}},E,P),E.exports=M},"dojo/dom-style":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/sniff"]),t(t.dj.r.absMids["dojo/dom"]),t(t.dj.r.absMids["dojo/_base/window"])],M=t.dj.d(y,function(c,A,h){var l,n={};c("webkit")?l=function(b){var d;if(b.nodeType==1){var u=b.ownerDocument.defaultView;d=u.getComputedStyle(b,null),!d&&b.style&&(b.style.display="",d=u.getComputedStyle(b,null))}return d||{}}:c("ie")&&(c("ie")<9||c("quirks"))?l=function(b){return b.nodeType==1&&b.currentStyle?b.currentStyle:{}}:l=function(b){if(b.nodeType===1){var d=b.ownerDocument.defaultView,u=d.opener?d:h.global.window;return u.getComputedStyle(b,null)||{}}return{}},n.getComputedStyle=l;var o;c("ie")?o=function(b,d){if(!d)return 0;if(d=="medium")return 4;if(d.slice&&d.slice(-2)=="px")return parseFloat(d);var u=b.style,s=b.runtimeStyle,v=b.currentStyle,T=u.left,R=s.left;s.left=v.left;try{u.left=d,d=u.pixelLeft}catch(D){d=0}return u.left=T,s.left=R,d}:o=function(b,d){return parseFloat(d)||0},n.toPixelValue=o;var i="DXImageTransform.Microsoft.Alpha",m=function(b,d){try{return b.filters.item(i)}catch(u){return d?{}:null}},g=c("ie")<9||c("ie")<10&&c("quirks")?function(b){try{return m(b).Opacity/100}catch(d){return 1}}:function(b){return l(b).opacity},e=c("ie")<9||c("ie")<10&&c("quirks")?function(b,d){d===""&&(d=1);var u=d*100,s=d===1;if(s?(b.style.zoom="",m(b)&&(b.style.filter=b.style.filter.replace(new RegExp("\\s*progid:"+i+"\\([^\\)]+?\\)","i"),""))):(b.style.zoom=1,m(b)?m(b,1).Opacity=u:b.style.filter+=" progid:"+i+"(Opacity="+u+")",m(b,1).Enabled=!0),b.tagName.toLowerCase()=="tr")for(var v=b.firstChild;v;v=v.nextSibling)v.tagName.toLowerCase()=="td"&&e(v,d);return d}:function(b,d){return b.style.opacity=d},a={left:!0,top:!0},r=/margin|padding|width|height|max|min|offset/;function f(b,d,u){if(d=d.toLowerCase(),u=="auto"){if(d=="height")return b.offsetHeight;if(d=="width")return b.offsetWidth}if(d=="fontweight")switch(u){case 700:return"bold";case 400:default:return"normal"}return d in a||(a[d]=r.test(d)),a[d]?o(b,u):u}var p={cssFloat:1,styleFloat:1,float:1};return n.get=function(d,u){var s=A.byId(d),v=arguments.length,T=u=="opacity";if(v==2&&T)return g(s);u=p[u]?"cssFloat"in s.style?"cssFloat":"styleFloat":u;var R=n.getComputedStyle(s);return v==1?R:f(s,u,R[u]||s.style[u])},n.set=function(d,u,s){var v=A.byId(d),T=arguments.length,R=u=="opacity";if(u=p[u]?"cssFloat"in v.style?"cssFloat":"styleFloat":u,T==3)return R?e(v,s):v.style[u]=s;for(var D in u)n.set(d,D,u[D]);return n.getComputedStyle(v)},n},E,P),E.exports=M},"dojo/dom":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/sniff"]),t(t.dj.r.absMids["dojo/_base/window"]),t(t.dj.r.absMids["dojo/_base/kernel"])],M=t.dj.d(y,function(c,A,h){if(c("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(i){}var l={};c("ie")?l.byId=function(i,m){if(typeof i!="string")return i||null;var g=m||A.doc,e=i&&g.getElementById(i);if(e&&(e.attributes.id.value==i||e.id==i))return e;var a=g.all[i];(!a||a.nodeName)&&(a=[a]);for(var r=0;e=a[r++];)if(e.attributes&&e.attributes.id&&e.attributes.id.value==i||e.id==i)return e;return null}:l.byId=function(i,m){return(typeof i=="string"?(m||A.doc).getElementById(i):i)||null};var n=h.global.document||null;c.add("dom-contains",!!(n&&n.contains)),l.isDescendant=function(i,m){try{for(i=l.byId(i),m=l.byId(m);i;){if(i==m)return!0;i=i.parentNode}}catch(g){}return!1},c.add("css-user-select",function(i,m,g){if(!g)return!1;var e=g.style,a=["Khtml","O","Moz","Webkit"],r=a.length,f="userSelect",p;do if(typeof e[f]<"u")return f;while(r--&&(f=a[r]+"UserSelect"));return!1});var o=c("css-user-select");return l.setSelectable=o?function(i,m){l.byId(i).style[o]=m?"":"none"}:function(i,m){i=l.byId(i);var g=i.getElementsByTagName("*"),e=g.length;if(m)for(i.removeAttribute("unselectable");e--;)g[e].removeAttribute("unselectable");else for(i.setAttribute("unselectable","on");e--;)g[e].setAttribute("unselectable","on")},l},E,P),E.exports=M},"dojo/errors/CancelError":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/errors/create"])],M=t.dj.d(y,function(c){return c("CancelError",null,null,{dojoType:"cancel",log:!1})},E,P),E.exports=M},"dojo/errors/RequestError":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/errors/create"])],M=t.dj.d(y,function(c){return c("RequestError",function(A,h){this.response=h})},E,P),E.exports=M},"dojo/errors/RequestTimeoutError":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/errors/create"]),t(t.dj.r.absMids["dojo/errors/RequestError"])],M=t.dj.d(y,function(c,A){return c("RequestTimeoutError",null,A,{dojoType:"timeout"})},E,P),E.exports=M},"dojo/errors/create":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/lang"])],M=t.dj.d(y,function(c){return function(A,h,l,n){l=l||Error;var o=function(i){if(l===Error){Error.captureStackTrace&&Error.captureStackTrace(this,o);var m=Error.call(this,i),g;for(g in m)m.hasOwnProperty(g)&&(this[g]=m[g]);this.message=i,this.stack=m.stack}else l.apply(this,arguments);h&&h.apply(this,arguments)};return o.prototype=c.delegate(l.prototype,n),o.prototype.name=A,o.prototype.constructor=o,o}},E,P),E.exports=M},"dojo/global":(E,P,t)=>{var y;y=function(){return function(){return typeof global<"u"&&typeof global!="function"?global:typeof window<"u"?window:typeof self<"u"?self:this}()}.call(null,t,P,E),y!==void 0&&(E.exports=y)},"dojo/has":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/global"]),t.dj.c(E),t.dj.m(E)],M=t.dj.d(y,function(c,A,h){var l=A.has||function(){};if(!l("dojo-has-api")){var n=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location==location&&window.document==document,o=n&&document,i=o&&o.createElement("DiV"),m=h.config&&h.config()||{};l=function(e){return typeof m[e]=="function"?m[e]=m[e](c,o,i):m[e]},l.cache=m,l.add=function(e,a,r,f){return(typeof m[e]>"u"||f)&&(m[e]=a),r&&l(e)},l.add("host-browser",n),l.add("host-node",typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8),l.add("host-rhino",typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")),l.add("dom",n),l.add("dojo-dom-ready-api",1),l.add("dojo-sniff",1)}if(l("host-browser")){l.add("dom-addeventlistener",!!document.addEventListener),l.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),l.add("touch-events","ontouchstart"in document),l.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),l.add("MSPointer",window.navigator.msPointerEnabled),l.add("touch-action",l("touch")&&l("pointer-events")),l.add("device-width",screen.availWidth||innerWidth);var g=document.createElement("form");l.add("dom-attributes-explicit",g.attributes.length==0),l.add("dom-attributes-specified-flag",g.attributes.length>0&&g.attributes.length<40)}return l.clearElement=function(e){return e.innerHTML="",e},l.normalize=function(e,a){var r=e.match(/[\?:]|[^:\?]*/g),f=0,p=function(b){var d=r[f++];return d==":"?0:r[f++]=="?"?!b&&l(d)?p():(p(!0),p(b)):d||0};return e=p(),e&&a(e)},l.load=function(e,a,r){e?a([e],r):r()},l},E,P),E.exports=M},"dojo/i18n":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t.dj.c(E),t(t.dj.r.absMids["dojo/has"]),t(t.dj.r.absMids["dojo/_base/array"]),t(t.dj.r.absMids["dojo/_base/config"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/_base/xhr"]),t(t.dj.r.absMids["dojo/json"]),t.dj.m(E)],M=t.dj.d(y,function(c,A,h,l,n,o,i,m,g){h.add("dojo-preload-i18n-Api",1),h.add("dojo-v1x-i18n-Api",1);var e=c.i18n={},a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,r=function(B,H,N,W){for(var Y=[N+W],z=H.split("-"),K="",V=0;V<z.length;V++)K+=(K?"-":"")+z[V],(!B||B[K])&&(Y.push(N+K+"/"+W),Y.specificity=K);return Y},f={},p=function(B,H,N){return N=N?N.toLowerCase():c.locale,B=B.replace(/\./g,"/"),H=H.replace(/\./g,"/"),/root/i.test(N)?B+"/nls/"+H:B+"/nls/"+N+"/"+H},b=c.getL10nName=function(B,H,N){return B=g.id+"!"+p(B,H,N)},d=function(B,H,N,W,Y,z){B([H],function(K){var V=o.clone(K.root||K.ROOT),X=r(!K._v1x&&K,Y,N,W);B(X,function(){for(var J=1;J<X.length;J++)V=o.mixin(o.clone(V),arguments[J]);var q=H+"/"+Y;f[q]=V,V.$locale=X.specificity,z()})})},u=function(B,H){return/^\./.test(B)?H(B):B},s=function(B){var H=n.extraLocale||[];return H=o.isArray(H)?H:[H],H.push(B),H},v=function(B,H,N){var W=a.exec(B),Y=W[1]+"/",z=W[5]||W[4],K=Y+z,V=W[5]&&W[4],X=V||c.locale||"",J=K+"/"+X,q=V?[X]:s(X),et=q.length,st=function(){--et||N(o.delegate(f[J]))},nt=B.split("*"),ut=nt[1]=="preload";if(h("dojo-preload-i18n-Api")){if(ut&&(f[B]||(f[B]=1,x(nt[2],m.parse(nt[3]),1,H)),N(1)),ut||j(B,H,N)&&!f[J])return}else if(ut){N(1);return}l.forEach(q,function(at){var mt=K+"/"+at;h("dojo-preload-i18n-Api")&&L(mt),f[mt]?st():d(H,K,Y,z,at,st)})};if(h("dojo-preload-i18n-Api")||h("dojo-v1x-i18n-Api"))var T=e.normalizeLocale=function(B){var H=B?B.toLowerCase():c.locale;return H=="root"?"ROOT":H},R=function(B,H){return h("dojo-sync-loader")&&h("dojo-v1x-i18n-Api")?H.isXdUrl(A.toUrl(B+".js")):!0},D=0,S=[],x=e._preloadLocalizations=function(B,H,N,W){W=W||A;function Y(q,et){R(q,W)||N?W([q],et):O([q],et,W)}function z(q,et){for(var st=q.split("-");st.length;){if(et(st.join("-")))return;st.pop()}et("ROOT")}function K(){D++}function V(){for(--D;!D&&S.length;)v.apply(null,S.shift())}function X(q,et,st,nt){return nt.toAbsMid(q+et+"/"+st)}function J(q){q=T(q),z(q,function(et){if(l.indexOf(H,et)>=0){var st=B.replace(/\./g,"/")+"_"+et;return K(),Y(st,function(nt){for(var ut in nt){var at=nt[ut],mt=ut.match(/(.+)\/([^\/]+)$/),Mt,bt;if(mt&&(Mt=mt[2],bt=mt[1]+"/",!!at._localized)){var Et;if(et==="ROOT"){var tt=Et=at._localized;delete at._localized,tt.root=at,f[A.toAbsMid(ut)]=tt}else Et=at._localized,f[X(bt,Mt,et,A)]=at;if(et!==q){var yt=function(gt,At,pt,Dt){var vt=[],dt=[];z(q,function(ot){Dt[ot]&&(vt.push(A.toAbsMid(gt+ot+"/"+At)),dt.push(X(gt,At,ot,A)))}),vt.length?(K(),W(vt,function(){for(var ot=vt.length-1;ot>=0;ot--)pt=o.mixin(o.clone(pt),arguments[ot]),f[dt[ot]]=pt;f[X(gt,At,q,A)]=o.clone(pt),V()})):f[X(gt,At,q,A)]=pt};yt(bt,Mt,at,Et)}}}V()}),!0}return!1})}J(),l.forEach(c.config.extraLocale,J)},j=function(B,H,N){return D&&S.push([B,H,N]),D},L=function(){};if(h("dojo-v1x-i18n-Api")){var U={},F={},I,O=function(B,H,N){var W=[];l.forEach(B,function(Y){var z=N.toUrl(Y+".js");function K(X){I||(I=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},	   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"));var J=I(X,L,Y,U);J===U?W.push(f[z]=U.result):(J instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+z,J),J={}),W.push(f[z]=/nls\/[^\/]+\/[^\/]+$/.test(z)?J:{root:J,_v1x:1}))}if(f[z])W.push(f[z]);else{var V=N.syncLoadNls(Y);if(V||(V=L(Y.replace(/nls\/([^\/]*)\/([^\/]*)$/,"nls/$2/$1"))),V)W.push(V);else if(i)i.get({url:z,sync:!0,load:K,error:function(){W.push(f[z]={})}});else try{N.getText(z,!0,K)}catch(X){W.push(f[z]={})}}}),H&&H.apply(null,W)};L=function(B){for(var H,N=B.split("/"),W=c.global[N[0]],Y=1;W&&Y<N.length-1;W=W[N[Y++]]);return W&&(H=W[N[Y]],H||(H=W[N[Y].replace(/-/g,"_")]),H&&(f[B]=H)),H},e.getLocalization=function(B,H,N){var W,Y=p(B,H,N);return F[Y]?F[Y]:(v(Y,R(Y,A)?A:function(z,K){O(z,K,A)},function(z){F[Y]=z,W=z}),W)}}else e.getLocalization=function(B,H,N){var W=B.replace(/\./g,"/")+"/nls/"+H+"/"+(N||n.locale);return this.cache[W]};return o.mixin(e,{dynamic:!0,normalize:u,load:v,cache:f,getL10nName:b})},E,P),E.exports=M},"dojo/io-query":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/lang"])],M=t.dj.d(y,function(c){var A={};return{objectToQuery:function(l){var n=encodeURIComponent,o=[];for(var i in l){var m=l[i];if(m!=A[i]){var g=n(i)+"=";if(c.isArray(m))for(var e=0,a=m.length;e<a;++e)o.push(g+n(m[e]));else o.push(g+n(m))}}return o.join("&")},queryToObject:function(l){for(var n=decodeURIComponent,o=l.split("&"),i={},m,g,e=0,a=o.length,r;e<a;++e)if(r=o[e],r.length){var f=r.indexOf("=");f<0?(m=n(r),g=""):(m=n(r.slice(0,f)),g=n(r.slice(f+1))),typeof i[m]=="string"&&(i[m]=[i[m]]),c.isArray(i[m])?i[m].push(g):i[m]=g}return i}}},E,P),E.exports=M},"dojo/json":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/has"])],M=t.dj.d(y,function(c){"use strict";var A=typeof JSON<"u";return c.add("json-parse",A),c.add("json-stringify",A&&JSON.stringify({a:0},function(h,l){return l||1})=='{"a":1}'),JSON},E,P),E.exports=M},"dojo/keys":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/sniff"])],M=t.dj.d(y,function(c,A){return c.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:A("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:A("mac")&&!A("air")?A("safari")?91:224:17}},E,P),E.exports=M},"dojo/mouse":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/on"]),t(t.dj.r.absMids["dojo/has"]),t(t.dj.r.absMids["dojo/dom"]),t(t.dj.r.absMids["dojo/_base/window"])],M=t.dj.d(y,function(c,A,h,l,n){h.add("dom-quirks",n.doc&&n.doc.compatMode=="BackCompat"),h.add("events-mouseenter",n.doc&&"onmouseenter"in n.doc.createElement("div")),h.add("events-mousewheel",n.doc&&"onmousewheel"in n.doc);var o;h("dom-quirks")&&h("ie")||!h("dom-addeventlistener")?o={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(g,e){return g.button&e},isLeft:function(g){return g.button&1},isMiddle:function(g){return g.button&4},isRight:function(g){return g.button&2}}:o={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(g,e){return g.button==e},isLeft:function(g){return g.button==0},isMiddle:function(g){return g.button==1},isRight:function(g){return g.button==2}},c.mouseButtons=o;function i(g,e){var a=function(r,f){return A(r,g,function(p){if(e)return e(p,f);if(!l.isDescendant(p.relatedTarget,r))return f.call(this,p)})};return a.bubble=function(r){return i(g,function(f,p){var b=r(f.target),d=f.relatedTarget;if(b&&b!=(d&&d.nodeType==1&&r(d)))return p.call(b,f)})},a}var m;return h("events-mousewheel")?m="mousewheel":m=function(g,e){return A(g,"DOMMouseScroll",function(a){a.wheelDelta=-a.detail,e.call(this,a)})},{_eventHandler:i,enter:i("mouseover"),leave:i("mouseout"),wheel:m,isLeft:o.isLeft,isMiddle:o.isMiddle,isRight:o.isRight}},E,P),E.exports=M},"dojo/on":(E,P,t)=>{var y,M;y=[t.dj.h("dom-addeventlistener?:dojo/aspect"),t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/sniff"])],M=t.dj.d(y,function(c,A,h){"use strict";if(h("dom")){var l=window.ScriptEngineMajorVersion;h.add("jscript",l&&l()+ScriptEngineMinorVersion()/10),h.add("event-orientationchange",h("touch")&&!h("android")),h.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),h.add("event-focusin",function(j,L,U){return"onfocusin"in U}),h("touch")&&h.add("touch-can-modify-event-delegate",function(){var j=function(){};j.prototype=document.createEvent("MouseEvents");try{var L=new j;return L.target=null,L.target===null}catch(U){return!1}})}var n=function(j,L,U,F){return typeof j.on=="function"&&typeof L!="function"&&!j.nodeType?j.on(L,U):n.parse(j,L,U,i,F,this)};n.pausable=function(j,L,U,F){var I,O=n(j,L,function(){if(!I)return U.apply(this,arguments)},F);return O.pause=function(){I=!0},O.resume=function(){I=!1},O},n.once=function(j,L,U,F){var I=n(j,L,function(){return I.remove(),U.apply(this,arguments)});return I},n.parse=function(j,L,U,F,I,O){var B;if(L.call)return L.call(O,j,U);if(L instanceof Array?B=L:L.indexOf(",")>-1&&(B=L.split(/\s*,\s*/)),B){for(var H=[],N=0,W;W=B[N++];)H.push(n.parse(j,W,U,F,I,O));return H.remove=function(){for(var Y=0;Y<H.length;Y++)H[Y].remove()},H}return F(j,L,U,I,O)};var o=/^touch/;function i(j,L,U,F,I){var O=L.match(/(.*):(.*)/);if(O)return L=O[2],O=O[1],n.selector(O,L).call(I,j,U);if(h("touch")&&(o.test(L)&&(U=x(U)),!h("event-orientationchange")&&L=="orientationchange"&&(L="resize",j=window,U=x(U))),p&&(U=p(U)),j.addEventListener){var B=L in r,H=B?r[L]:L;return j.addEventListener(H,U,B),{remove:function(){j.removeEventListener(H,U,B)}}}if(L="on"+L,s&&j.attachEvent)return s(j,L,U);throw new Error("Target must be an event emitter")}n.matches=function(j,L,U,F,I){for(I=I&&typeof I.matches=="function"?I:A.query,F=F!==!1,j.nodeType!=1&&(j=j.parentNode);!I.matches(j,L,U);)if(j==U||F===!1||!(j=j.parentNode)||j.nodeType!=1)return!1;return j},n.selector=function(j,L,U){return function(F,I){var O=typeof j=="function"?{matches:j}:this,B=L.bubble;function H(N){return n.matches(N,j,F,U,O)}return B?n(F,B(H),I):n(F,L,function(N){var W=H(N.target);if(W)return N.selectorTarget=W,I.call(W,N)})}};function m(){this.cancelable=!1,this.defaultPrevented=!0}function g(){this.bubbles=!1}var e=[].slice,a=n.emit=function(j,L,U){var F=e.call(arguments,2),I="on"+L;if("parentNode"in j){var O=F[0]={};for(var B in U)O[B]=U[B];O.preventDefault=m,O.stopPropagation=g,O.target=j,O.type=L,U=O}do j[I]&&j[I].apply(j,F);while(U&&U.bubbles&&(j=j.parentNode));return U&&U.cancelable&&U},r=h("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!h("event-stopimmediatepropagation"))var f=function(){this.immediatelyStopped=!0,this.modified=!0},p=function(j){return function(L){if(!L.immediatelyStopped)return L.stopImmediatePropagation=f,j.apply(this,arguments)}};if(h("dom-addeventlistener"))n.emit=function(j,L,U){if(j.dispatchEvent&&document.createEvent){var F=j.ownerDocument||document,I=F.createEvent("HTMLEvents");I.initEvent(L,!!U.bubbles,!!U.cancelable);for(var O in U)O in I||(I[O]=U[O]);return j.dispatchEvent(I)&&I}return a.apply(n,arguments)};else{n._fixEvent=function(j,L){if(!j){var U=L&&(L.ownerDocument||L.document||L).parentWindow||window;j=U.event}if(!j)return j;try{b&&j.type==b.type&&j.srcElement==b.target&&(j=b)}catch(I){}if(!j.target)switch(j.target=j.srcElement,j.currentTarget=L||j.srcElement,j.type=="mouseover"&&(j.relatedTarget=j.fromElement),j.type=="mouseout"&&(j.relatedTarget=j.toElement),j.stopPropagation||(j.stopPropagation=T,j.preventDefault=R),j.type){case"keypress":var F="charCode"in j?j.charCode:j.keyCode;F==10?(F=0,j.keyCode=13):F==13||F==27?F=0:F==3&&(F=99),j.charCode=F,v(j);break}return j};var b,d=function(j){this.handle=j};d.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var u=function(j){return function(L){L=n._fixEvent(L,this);var U=j.call(this,L);return L.modified&&(b||setTimeout(function(){b=null}),b=L),U}},s=function(j,L,U){if(U=u(U),((j.ownerDocument?j.ownerDocument.parentWindow:j.parentWindow||j.window||window)!=top||h("jscript")<5.8)&&!h("config-_allow_leaks")){typeof _dojoIEListeners_>"u"&&(_dojoIEListeners_=[]);var F=j[L];if(!F||!F.listeners){var I=F;F=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),F.listeners=[],j[L]=F,F.global=this,I&&F.listeners.push(_dojoIEListeners_.push(I)-1)}var O;return F.listeners.push(O=F.global._dojoIEListeners_.push(U)-1),new d(O)}return c.after(j,L,U,!0)},v=function(j){j.keyChar=j.charCode?String.fromCharCode(j.charCode):"",j.charOrCode=j.keyChar||j.keyCode},T=function(){this.cancelBubble=!0},R=n._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(j){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(h("touch"))var D=function(){},S=window.orientation,x=function(j){return function(L){var U=L.corrected;if(!U){var F=L.type;try{delete L.type}catch(H){}if(L.type){if(h("touch-can-modify-event-delegate"))D.prototype=L,U=new D;else{U={};for(var I in L)U[I]=L[I]}U.preventDefault=function(){L.preventDefault()},U.stopPropagation=function(){L.stopPropagation()}}else U=L,U.type=F;if(L.corrected=U,F=="resize")return S==window.orientation?null:(S=window.orientation,U.type="orientationchange",j.call(this,U));if("rotation"in U||(U.rotation=0,U.scale=1),window.TouchEvent&&L instanceof TouchEvent){var O=U.changedTouches[0];for(var B in O)delete U[B],U[B]=O[B]}}return j.call(this,U)}};return n},E,P),E.exports=M},"dojo/promise/Promise":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/lang"])],M=t.dj.d(y,function(c){"use strict";function A(){throw new TypeError("abstract")}return c.extend(function(){},{then:function(h,l,n){A()},cancel:function(h,l){A()},isResolved:function(){A()},isRejected:function(){A()},isFulfilled:function(){A()},isCanceled:function(){A()},finally:function(h){return this.then(function(l){var n=h();return n&&typeof n.then=="function"?n.then(function(){return l}):l},function(l){var n=h();if(n&&typeof n.then=="function")return n.then(function(){throw l});throw l})},always:function(h){return this.then(h,h)},catch:function(h){return this.then(null,h)},otherwise:function(h){return this.then(null,h)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})},E,P),E.exports=M},"dojo/request/handlers":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/json"]),t(t.dj.r.absMids["dojo/_base/kernel"]),t(t.dj.r.absMids["dojo/_base/array"]),t(t.dj.r.absMids["dojo/has"])],M=t.dj.d(y,function(c,A,h,l){l.add("activex",typeof ActiveXObject<"u"),l.add("dom-parser",function(g){return"DOMParser"in g});let n;if(l("activex")){const g=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];let e;n=function(a){let r=a.data;const f=a.text;r&&!r.querySelectorAll&&l("dom-parser")&&(r=new DOMParser().parseFromString(f,"application/xml"));function p(b){try{const d=new ActiveXObject(b);d.async=!1,d.loadXML(f),r=d,e=b}catch(d){return!1}return!0}return(!r||!r.documentElement)&&(!e||!p(e))&&h.some(g,p),r}}const o=function(g){return!l("native-xhr2-blob")&&g.options.handleAs==="blob"&&typeof Blob<"u"?new Blob([g.xhr.response],{type:g.xhr.getResponseHeader("Content-Type")}):g.xhr.response},i={javascript:function(g){return A.eval(g.text||"")},json:function(g){return c.parse(g.text||null)},xml:n,blob:o,arraybuffer:o,document:o};function m(g){const e=i[g.options.handleAs];return g.data=e?e(g):g.data||g.text,g}return m.register=function(g,e){i[g]=e},m},E,P),E.exports=M},"dojo/request/script":(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__.dj.m(module),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/watch"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/util"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/array"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/lang"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/on"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom-construct"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/has"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/window"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,function(module,watch,util,kernel,array,lang,on,dom,domConstruct,has,win){has.add("script-readystatechange",function(E,P){var t=P.createElement("script");return typeof t.onreadystatechange<"u"&&(typeof E.opera>"u"||E.opera.toString()!=="[object Opera]")});var mid=module.id.replace(/[\/\.\-]/g,"_"),counter=0,loadEvent=has("script-readystatechange")?"readystatechange":"load",readyRegExp=/complete|loaded/,callbacks=kernel.global[mid+"_callbacks"]={},deadScripts=[];function attach(E,P,t,y){var M=t||win.doc,c=M.createElement("script");y&&on.once(c,"error",y),c.type="text/javascript";try{c.src=P}catch(A){y&&y(c)}return c.id=E,c.async=!0,c.charset="utf-8",M.getElementsByTagName("head")[0].appendChild(c)}function remove(E,P,t){domConstruct.destroy(dom.byId(E,P)),callbacks[E]&&(t?callbacks[E]=function(){delete callbacks[E]}:delete callbacks[E])}function _addDeadScript(E){var P=E.response.options,t=P.ioArgs?P.ioArgs.frameDoc:P.frameDoc;deadScripts.push({id:E.id,frameDoc:t}),P.ioArgs&&(P.ioArgs.frameDoc=null),P.frameDoc=null}function canceler(E,P){E.canDelete&&script._remove(E.id,P.options.frameDoc,!0)}function isValid(E){return deadScripts&&deadScripts.length&&(array.forEach(deadScripts,function(P){script._remove(P.id,P.frameDoc),P.frameDoc=null}),deadScripts=[]),E.options.jsonp?!E.data:!0}function isReadyScript(E){return!!this.scriptLoaded}function isReadyCheckString(response){var checkString=response.options.checkString;return checkString&&eval("typeof("+checkString+') !== "undefined"')}function handleResponse(E,P){this.canDelete&&_addDeadScript(this),P?this.reject(P):this.resolve(E)}function script(E,P,t){var y=util.parseArgs(E,util.deepCopy({},P));E=y.url,P=y.options;var M=util.deferred(y,canceler,isValid,P.jsonp?null:P.checkString?isReadyCheckString:isReadyScript,handleResponse);if(lang.mixin(M,{id:mid+counter++,canDelete:!1}),P.jsonp){var c=new RegExp("[?&]"+P.jsonp+"=");c.test(E)||(E+=(~E.indexOf("?")?"&":"?")+P.jsonp+"="+(P.frameDoc?"parent.":"")+mid+"_callbacks."+M.id),M.canDelete=!0,callbacks[M.id]=function(l){y.data=l,M.handleResponse(y)}}if(util.notify&&util.notify.emit("send",y,M.promise.cancel),!P.canAttach||P.canAttach(M)){var A=script._attach(M.id,E,P.frameDoc,function(l){if(!(l instanceof Error)){var n=new Error("Error loading "+(l.target?l.target.src:"script"));n.source=l,l=n}M.reject(l),script._remove(M.id,P.frameDoc,!0)});if(!P.jsonp&&!P.checkString)var h=on(A,loadEvent,function(l){(l.type==="load"||readyRegExp.test(A.readyState))&&(h.remove(),M.scriptLoaded=l)})}return watch(M),t?M:M.promise}return script.get=script,script._attach=attach,script._remove=remove,script._callbacksProperty=mid+"_callbacks",script},module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/request/util":(E,P,t)=>{var y,M;y=[P,t(t.dj.r.absMids["dojo/errors/RequestError"]),t(t.dj.r.absMids["dojo/errors/CancelError"]),t(t.dj.r.absMids["dojo/Deferred"]),t(t.dj.r.absMids["dojo/io-query"]),t(t.dj.r.absMids["dojo/_base/array"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/promise/Promise"]),t(t.dj.r.absMids["dojo/has"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m,g){function e(s){return g("native-arraybuffer")&&s instanceof ArrayBuffer}function a(s){return g("native-blob")&&s instanceof Blob}function r(s){return typeof Element<"u"?s instanceof Element:s.nodeType===1}function f(s){return g("native-formdata")&&s instanceof FormData}function p(s){return s&&typeof s=="object"&&!f(s)&&!r(s)&&!a(s)&&!e(s)}c.deepCopy=function(s,v){for(var T in v){var R=s[T],D=v[T];T!=="__proto__"&&R!==D&&(p(D)?Object.prototype.toString.call(D)==="[object Date]"?s[T]=new Date(D):i.isArray(D)?s[T]=c.deepCopyArray(D):R&&typeof R=="object"?c.deepCopy(R,D):s[T]=c.deepCopy({},D):s[T]=D)}return s},c.deepCopyArray=function(s){for(var v=[],T=0,R=s.length;T<R;T++){var D=s[T];typeof D=="object"?v.push(c.deepCopy({},D)):v.push(D)}return v},c.deepCreate=function(v,T){T=T||{};var R=i.delegate(v),D,S;for(D in v)S=v[D],S&&typeof S=="object"&&(R[D]=c.deepCreate(S,T[D]));return c.deepCopy(R,T)};var b=Object.freeze||function(s){return s};function d(s){return b(s)}function u(s){return s.data!==void 0?s.data:s.text}c.deferred=function(v,T,R,D,S,x){var j=new l(function(B){return T&&T(j,v),!B||!(B instanceof A)&&!(B instanceof h)?new h("Request canceled",v):B});j.response=v,j.isValid=R,j.isReady=D,j.handleResponse=S;function L(B){throw B.response=v,B}var U=j.then(d).otherwise(L);c.notify&&U.then(i.hitch(c.notify,"emit","load"),i.hitch(c.notify,"emit","error"));var F=U.then(u),I=new m;for(var O in F)F.hasOwnProperty(O)&&(I[O]=F[O]);return I.response=U,b(I),x&&j.then(function(B){x.call(j,B)},function(B){x.call(j,v,B)}),j.promise=I,j.then=I.then,j},c.addCommonMethods=function(v,T){o.forEach(T||["GET","POST","PUT","DELETE"],function(R){v[(R==="DELETE"?"DEL":R).toLowerCase()]=function(D,S){return S=i.delegate(S||{}),S.method=R,v(D,S)}})},c.parseArgs=function(v,T,R){var D=T.data,S=T.query;return D&&!R&&typeof D=="object"&&(!g("native-xhr2")||!(e(D)||a(D)))&&(T.data=n.objectToQuery(D)),S?(typeof S=="object"&&(S=n.objectToQuery(S)),T.preventCache&&(S+=(S?"&":"")+"request.preventCache="+ +new Date)):T.preventCache&&(S="request.preventCache="+ +new Date),v&&S&&(v+=(~v.indexOf("?")?"&":"?")+S),{url:v,options:T,getHeader:function(x){return null}}},c.checkStatus=function(s){return s=s||0,s>=200&&s<300||s===304||s===1223||!s}},E,P),E.exports=M},"dojo/request/watch":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/request/util"]),t(t.dj.r.absMids["dojo/errors/RequestTimeoutError"]),t(t.dj.r.absMids["dojo/errors/CancelError"]),t(t.dj.r.absMids["dojo/_base/array"]),t(t.dj.r.absMids["dojo/_base/window"])],M=t.dj.d(y,function(c,A,h,l,n){let o=null;const i=[];function m(){const e=+new Date;for(var a=0,r;a<i.length&&(r=i[a]);a++){const f=r.response,p=f.options;r.isCanceled&&r.isCanceled()||r.isValid&&!r.isValid(f)?(i.splice(a--,1),g._onAction&&g._onAction()):r.isReady&&r.isReady(f)?(i.splice(a--,1),r.handleResponse(f),g._onAction&&g._onAction()):r.startTime&&r.startTime+(p.timeout||0)<e&&(i.splice(a--,1),r.cancel(new A("Timeout exceeded",f)),g._onAction&&g._onAction())}g._onInFlight&&g._onInFlight(r),i.length||(clearInterval(o),o=null)}function g(e){e.response.options.timeout&&(e.startTime=+new Date),!e.isFulfilled()&&(i.push(e),o||(o=setInterval(m,50)),e.response.options.sync&&m())}return g.cancelAll=function(){try{l.forEach(i,function(a){try{a.cancel(new h("All requests canceled."))}catch(r){}})}catch(a){}},g},E,P),E.exports=M},"dojo/request/xhr":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/errors/RequestError"]),t(t.dj.r.absMids["dojo/request/watch"]),t(t.dj.r.absMids["dojo/request/handlers"]),t(t.dj.r.absMids["dojo/request/util"]),t(t.dj.r.absMids["dojo/has"])],M=t.dj.d(y,function(c,A,h,l,n){n.add("native-xhr",function(){return typeof XMLHttpRequest<"u"}),n.add("dojo-force-activex-xhr",function(){return n("activex")&&window.location.protocol==="file:"}),n.add("native-xhr2",function(){if(!(!n("native-xhr")||n("dojo-force-activex-xhr"))){var d=new XMLHttpRequest;return typeof d.addEventListener<"u"&&(typeof opera>"u"||typeof d.upload<"u")}}),n.add("native-formdata",function(){return typeof FormData<"u"}),n.add("native-blob",function(){return typeof Blob<"u"}),n.add("native-arraybuffer",function(){return typeof ArrayBuffer<"u"}),n.add("native-response-type",function(){return n("native-xhr")&&typeof new XMLHttpRequest().responseType<"u"}),n.add("native-xhr2-blob",function(){if(n("native-response-type"))return!0});var o={blob:n("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"};function i(d,u){var s=d.xhr;d.status=d.xhr.status;try{d.text=s.responseText}catch(T){}d.options.handleAs==="xml"&&(d.data=s.responseXML);var v;if(u)this.reject(u);else{try{h(d)}catch(T){v=T}l.checkStatus(s.status)?v?this.reject(v):this.resolve(d):v?(u=new c("Unable to load "+d.url+" status: "+s.status+" and an error in handleAs: transformation of response",d),this.reject(u)):(u=new c("Unable to load "+d.url+" status: "+s.status,d),this.reject(u))}}var m,g,e,a;n("native-xhr2")?(m=function(d){return!this.isFulfilled()},a=function(d,u){u.xhr.abort()},e=function(d,u,s,v){function T(j){u.handleResponse(s)}function R(j){var L=j.target,U=new c("Unable to load "+s.url+" status: "+L.status,s);u.handleResponse(s,U)}function D(j,L){s.transferType=j,L.lengthComputable?(s.loaded=L.loaded,s.total=L.total,u.progress(s)):s.xhr.readyState===3&&(s.loaded="loaded"in L?L.loaded:L.position,u.progress(s))}function S(j){return D("download",j)}function x(j){return D("upload",j)}return d.addEventListener("load",T,!1),d.addEventListener("error",R,!1),d.addEventListener("progress",S,!1),v&&d.upload&&d.upload.addEventListener("progress",x,!1),function(){d.removeEventListener("load",T,!1),d.removeEventListener("error",R,!1),d.removeEventListener("progress",S,!1),d.upload.removeEventListener("progress",x,!1),d=null}}):(m=function(d){return d.xhr.readyState},g=function(d){return d.xhr.readyState===4},a=function(d,u){var s=u.xhr,v=typeof s.abort;(v==="function"||v==="object"||v==="unknown")&&s.abort()});function r(d){return this.xhr.getResponseHeader(d)}var f,p={data:null,query:null,sync:!1,method:"GET"};function b(d,u,s){var v=n("native-formdata")&&u&&u.data&&u.data instanceof FormData,T=l.parseArgs(d,l.deepCreate(p,u),v);d=T.url,u=T.options;var R=!u.data&&u.method!=="POST"&&u.method!=="PUT";n("ie")<=10&&(d=d.split("#")[0]);var D,S=function(){D&&D()},x=l.deferred(T,a,m,g,i,S),j=T.xhr=b._create();if(!j)return x.cancel(new c("XHR was not created")),s?x:x.promise;T.getHeader=r,e&&(D=e(j,x,T,u.uploadProgress));var L=typeof u.data>"u"?null:u.data,U=!u.sync,F=u.method;try{j.open(F,d,U,u.user||f,u.password||f),u.withCredentials&&(j.withCredentials=u.withCredentials),n("native-response-type")&&u.handleAs in o&&(j.responseType=o[u.handleAs]);var I=u.headers,O=v||R?!1:"application/x-www-form-urlencoded";if(I)for(var B in I)B.toLowerCase()==="content-type"?O=I[B]:I[B]&&j.setRequestHeader(B,I[B]);O&&O!==!1&&j.setRequestHeader("Content-Type",O),(!I||!("X-Requested-With"in I))&&j.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.notify&&l.notify.emit("send",T,x.promise.cancel),j.send(L)}catch(H){x.reject(H)}return A(x),j=null,s?x:x.promise}if(b._create=function(){throw new Error("XMLHTTP not available")},n("native-xhr")&&!n("dojo-force-activex-xhr"))b._create=function(){return new XMLHttpRequest};else if(n("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),b._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(d){try{new ActiveXObject("Microsoft.XMLHTTP"),b._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(u){}}return l.addCommonMethods(b),b},E,P),E.exports=M},"dojo/sniff":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/has"])],M=t.dj.d(y,function(c){if(c("host-browser")){var A=navigator,h=A.userAgent,l=A.appVersion,n=parseFloat(l);if(c.add("air",h.indexOf("AdobeAIR")>=0),c.add("wp",parseFloat(h.split("Windows Phone")[1])||void 0),c.add("msapp",parseFloat(h.split("MSAppHost/")[1])||void 0),c.add("khtml",l.indexOf("Konqueror")>=0?n:void 0),c.add("edge",parseFloat(h.split("Edge/")[1])||void 0),c.add("opr",parseFloat(h.split("OPR/")[1])||void 0),c.add("webkit",!c("wp")&&!c("edge")&&parseFloat(h.split("WebKit/")[1])||void 0),c.add("chrome",!c("edge")&&!c("opr")&&parseFloat(h.split("Chrome/")[1])||void 0),c.add("android",!c("wp")&&parseFloat(h.split("Android ")[1])||void 0),c.add("safari",l.indexOf("Safari")>=0&&!c("wp")&&!c("chrome")&&!c("android")&&!c("edge")&&!c("opr")?parseFloat(l.split("Version/")[1]):void 0),c.add("mac",l.indexOf("Macintosh")>=0),c.add("quirks",document.compatMode=="BackCompat"),!c("wp")&&h.match(/(iPhone|iPod|iPad)/)){var o=RegExp.$1.replace(/P/,"p"),i=h.match(/OS ([\d_]+)/)?RegExp.$1:"1",m=parseFloat(i.replace(/_/,".").replace(/_/g,""));c.add(o,m),c.add("ios",m)}if(c.add("bb",(h.indexOf("BlackBerry")>=0||h.indexOf("BB10")>=0)&&parseFloat(h.split("Version/")[1])||void 0),c.add("trident",parseFloat(l.split("Trident/")[1])||void 0),c.add("svg",typeof SVGAngle<"u"),!c("webkit")){if(h.indexOf("Opera")>=0&&c.add("opera",n>=9.8&&parseFloat(h.split("Version/")[1])||n),h.indexOf("Gecko")>=0&&!c("wp")&&!c("khtml")&&!c("trident")&&!c("edge")&&c.add("mozilla",n),c("mozilla")&&c.add("ff",parseFloat(h.split("Firefox/")[1]||h.split("Minefield/")[1])||void 0),document.all&&!c("opera")){var g=parseFloat(l.split("MSIE ")[1])||void 0,e=document.documentMode;e&&e!=5&&Math.floor(g)!=e&&(g=e),c.add("ie",g)}c.add("wii",typeof opera<"u"&&opera.wiiremote)}}return c},E,P),E.exports=M},"dojo/topic":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/Evented"])],M=t.dj.d(y,function(c){var A=new c;return{publish:function(h,l){return A.emit.apply(A,arguments)},subscribe:function(h,l){return A.on.apply(A,arguments)}}},E,P),E.exports=M},"dojo/when":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/Deferred"]),t(t.dj.r.absMids["dojo/promise/Promise"])],M=t.dj.d(y,function(c,A){"use strict";return function(l,n,o,i){var m=l&&typeof l.then=="function",g=m&&l instanceof A;if(m){if(!g){var e=new c(l.cancel);l.then(e.resolve,e.reject,e.progress),l=e.promise}}else return arguments.length>1?n?n(l):l:new c().resolve(l);return n||o||i?l.then(n,o,i):l}},E,P),E.exports=M},"rtc/dojo/aspect":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){"use strict";var c;function A(i,m,g,e,a){var r=i[m],f=m=="around",p,b;if(a=a===c?0:a,f){var d=g(function(){return r.advice(this,arguments)});p={remove:function(){d&&(d=i=g=null)},advice:function(u,s){return d?d.apply(u,s):r.advice(u,s)}}}else p={remove:function(){if(p.advice){var u=p.previous,s=p.next;!s&&!u?delete i[m]:(u?u.next=s:i[m]=s,s&&(s.previous=u)),i=g=p.advice=null}},id:i.nextId++,advice:g,receiveArguments:e,priority:a};if(r&&!f)if(m=="after")if(a<(r.priority!==c?r.priority:1/0))i[m]=p,p.next=r,r.previous=p;else{for(;r.next&&(r.next.priority!==c?r.next.priority:1/0)<=a&&(r=r.next););b=r.next,r.next=p,p.previous=r,p.next=b,b&&(b.previous=p)}else m=="before"&&(i[m]=p,p.next=r,r.previous=p);else i[m]=p;return p}function h(i){return function(m,g,e,a,r){var f=m[g],p;if(!f&&m!==window)throw new Error("aspect target method: "+g+" does not exist");(!f||f.target!=m)&&(m[g]=p=function(){for(var d=p.nextId,u=arguments,s=p.before;s;)s.advice&&(u=s.advice.apply(this,u)||u),s=s.next;if(p.around)var v=p.around.advice(this,u);for(var T=p.after;T;){if(T.advice&&T.id<d)if(T.receiveArguments){var R=T.advice.apply(this,u);v=R===c?v:R}else v=T.advice.call(this,v,u);T=T.next}return v},f&&(p.around={advice:function(d,u){return f.apply(d,u)}}),p.target=m,p.nextId=p.nextId||0);var b=A(p||f,i,e,a,r);return e=null,b}}var l=h("after"),n=h("before"),o=h("around");return{before:n,around:o,after:l,priority:{INFRASTRUCTURE:-1e3,DEFAULT:0,EXTERNAL:1/0}}},E,P),E.exports=M},"7d8508a0e82c941a78f78eb8255bb0a462fdc162":E=>{E.exports=void 0},"dojo/i18n!matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/MATLABTestCreation":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/i18n"]),t("mwBundle.ui|02f54660960ee2f0b7d714b8ec7c749f28a537c3"),t(t.dj.r.absMids["matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/ja-jp/MATLABTestCreation"]),t(t.dj.r.absMids["matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/MATLABTestCreation"])],M=t.dj.d(y,function(c,A){return A(c,"matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/MATLABTestCreation",t.dj.c(),!0)},E,P),E.exports=M},"mw-remote/serviceRegistryLookup!":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["mw-remote/serviceRegistryLookup"]),t("mwBundle.ui|02f54660960ee2f0b7d714b8ec7c749f28a537c3"),t(t.dj.r.absMids["7d8508a0e82c941a78f78eb8255bb0a462fdc162"])],M=t.dj.d(y,function(c,A){return A(c,"",t.dj.c(),!0)},E,P),E.exports=M},"02f54660960ee2f0b7d714b8ec7c749f28a537c3":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){return function(c,A,h,l){var n,o,i;if(c.load(A,h,function(m){o=m,i=!0,n&&n(m)},{isBuild:!0}),i)return o;if(!l)throw new Error(A+" unavailable");return o=new Promise(function(m){n=m}),o.__DOJO_WEBPACK_DEFINE_PROMISE__=!0,o}},E,P),E.exports=M},"cometd/AckExtension":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["cometd/cometd"])],M=t.dj.d(y,function(c){"use strict";var A={};return A.default=c.AckExtension=function(){let h,l=!1,n;function o(i,m){h._debug(i,m)}this.registered=(i,m)=>{h=m,o("AckExtension: executing registration callback")},this.unregistered=()=>{o("AckExtension: executing unregistration callback"),h=null},this.incoming=i=>{const m=i.channel,g=i.ext;if(m==="/meta/handshake"){if(g){const e=g.ack;if(typeof e=="object"){l=e.enabled===!0;const a=e.batch;typeof a=="number"&&(n=a)}else l=e===!0}o("AckExtension: server supports acknowledgements",l)}else m==="/meta/connect"&&i.successful&&l&&g&&typeof g.ack=="number"&&(n=g.ack,o("AckExtension: server sent batch",n));return i},this.outgoing=i=>{const m=i.channel;return i.ext||(i.ext={}),m==="/meta/handshake"?(i.ext.ack=h&&h.ackEnabled!==!1,l=!1,n=0):m==="/meta/connect"&&l&&(i.ext.ack=n,o("AckExtension: client sending batch",n)),i}},A.default},E,P),E.exports=M},"cometd/cometd":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){"use strict";var c={};function A(){let b=0;const d={};this.register=u=>{const s=++b;return d[s]=u,s},this.unregister=u=>{const s=d[u];return delete d[u],s},this.setTimeout=(u,s)=>window.setTimeout(u,s),this.clearTimeout=u=>{window.clearTimeout(u)}}function h(){const b={};self.onmessage=d=>{const u=d.data,s=b[u.id];switch(u.type){case"setTimeout":b[u.id]=self.setTimeout(()=>{delete b[u.id],self.postMessage({id:u.id})},u.delay);break;case"clearTimeout":delete b[u.id],s&&self.clearTimeout(s);break;default:throw"Unknown command "+u.type}}}const l={isString:b=>b==null?!1:typeof b=="string"||b instanceof String};function n(){let b=[],d={};this.getTransportTypes=()=>b.slice(0),this.findTransportTypes=(u,s,v)=>{const T=[];for(let R=0;R<b.length;++R){const D=b[R];d[D].accept(u,s,v)===!0&&T.push(D)}return T},this.negotiateTransport=(u,s,v,T)=>{for(let R=0;R<b.length;++R){const D=b[R];for(let S=0;S<u.length;++S)if(D===u[S]){const x=d[D];if(x.accept(s,v,T)===!0)return x}}return null},this.add=(u,s,v)=>{let T=!1;for(let R=0;R<b.length;++R)if(b[R]===u){T=!0;break}return T||(typeof v!="number"?b.push(u):b.splice(v,0,u),d[u]=s),!T},this.find=u=>{for(let s=0;s<b.length;++s)if(b[s]===u)return d[u];return null},this.remove=u=>{for(let s=0;s<b.length;++s)if(b[s]===u){b.splice(s,1);const v=d[u];return delete d[u],v}return null},this.clear=()=>{b=[],d={}},this.reset=u=>{for(let s=0;s<b.length;++s)d[b[s]].reset(u)}}function o(){let b,d,u;this.registered=(s,v)=>{b=s,d=v},this.unregistered=()=>{b=null,d=null},this._notifyTransportTimeout=function(s){const v=d._getTransportListeners("timeout");if(v)for(let T=0;T<v.length;++T){const R=v[T];try{const D=R.call(this,s);if(typeof D=="number"&&D>0)return D}catch(D){this._info("Exception during execution of transport listener",R,D)}}return 0},this._debug=function(){d._debug.apply(d,arguments)},this._info=function(){d._info.apply(d,arguments)},this._mixin=function(){return d._mixin.apply(d,arguments)},this.getConfiguration=()=>d.getConfiguration(),this.getAdvice=()=>d.getAdvice(),this.setTimeout=(s,v)=>d.setTimeout(s,v),this.clearTimeout=s=>{d.clearTimeout(s)},this.convertToJSON=function(s){const v=this.getConfiguration().maxSendBayeuxMessageSize;let T="[";for(let R=0;R<s.length;++R){R>0&&(T+=",");const D=s[R],S=JSON.stringify(D);if(S.length>v)throw"maxSendBayeuxMessageSize "+v+" exceeded";T+=S}return T+="]",T},this.convertToMessages=function(s){if(l.isString(s))try{return JSON.parse(s)}catch(v){throw this._debug("Could not convert to JSON the following string",'"'+s+'"'),v}if(Array.isArray(s))return s;if(s==null)return[];if(s instanceof Object)return[s];throw"Conversion Error "+s+", typeof "+typeof s},this.accept=(s,v,T)=>{throw"Abstract"},this.getType=()=>b,this.getURL=()=>u,this.setURL=s=>{u=s},this.send=(s,v)=>{throw"Abstract"},this.reset=function(s){this._debug("Transport",b,"reset",s?"initial":"retry")},this.abort=function(){this._debug("Transport",b,"aborted")},this.toString=function(){return this.getType()}}o.derive=b=>{function d(){}return d.prototype=b,new d};function i(){const b=new o,d=o.derive(b);let u=0,s=null,v=[],T=[];function R(F){for(;T.length>0;){const I=T[0],O=I[0],B=I[1];if(O.url===F.url&&O.sync===F.sync){T.shift(),F.messages=F.messages.concat(O.messages),this._debug("Coalesced",O.messages.length,"messages from request",B.id);continue}break}}function D(F,I,O){const B=this._notifyTransportTimeout(F.messages);if(B>0)this._debug("Transport",this.getType(),"extended waiting for message replies of request",I.id,":",B,"ms"),I.timeout=this.setTimeout(()=>{D.call(this,F,I,O+B)},B);else{I.expired=!0;const H="Transport "+this.getType()+" expired waiting for message replies of request "+I.id+": "+O+" ms",N={reason:H},W=I.xhr;N.httpCode=this.xhrStatus(W),this.abortXHR(W),this._debug(H),this.complete(I,!1,I.metaConnect),F.onFailure(W,F.messages,N)}}function S(F,I){if(this.transportSend(F,I)&&(I.expired=!1,!F.sync)){let O=this.getConfiguration().maxNetworkDelay;I.metaConnect===!0&&(O+=this.getAdvice().timeout),this._debug("Transport",this.getType(),"started waiting for message replies of request",I.id,":",O,"ms"),I.timeout=this.setTimeout(()=>{D.call(this,F,I,O)},O)}}function x(F){const I=++u,O={id:I,metaConnect:!1,envelope:F};v.length<this.getConfiguration().maxConnections-1?(v.push(O),S.call(this,F,O)):(this._debug("Transport",this.getType(),"queueing request",I,"envelope",F),T.push([F,O]))}function j(F){const I=F.id;if(this._debug("Transport",this.getType(),"/meta/connect complete, request",I),s!==null&&s.id!==I)throw"/meta/connect request mismatch, completing request "+I;s=null}function L(F,I){const O=v.indexOf(F);if(O>=0&&v.splice(O,1),T.length>0){const B=T.shift(),H=B[0],N=B[1];this._debug("Transport dequeued request",N.id),I?(this.getConfiguration().autoBatch&&R.call(this,H),x.call(this,H),this._debug("Transport completed request",F.id,H)):this.setTimeout(()=>{this.complete(N,!1,N.metaConnect);const W={reason:"Previous request failed"},Y=N.xhr;W.httpCode=this.xhrStatus(Y),H.onFailure(Y,H.messages,W)},0)}}d.complete=function(F,I,O){O?j.call(this,F):L.call(this,F,I)},d.transportSend=(F,I)=>{throw"Abstract"},d.transportSuccess=function(F,I,O){I.expired||(this.clearTimeout(I.timeout),this._debug("Transport",this.getType(),"cancelled waiting for message replies"),this.complete(I,!0,I.metaConnect),O&&O.length>0?F.onSuccess(O):F.onFailure(I.xhr,F.messages,{httpCode:204}))},d.transportFailure=function(F,I,O){I.expired||(this.clearTimeout(I.timeout),this._debug("Transport",this.getType(),"cancelled waiting for failed message replies"),this.complete(I,!1,I.metaConnect),F.onFailure(I.xhr,F.messages,O))};function U(F){if(s!==null)throw"Concurrent /meta/connect requests not allowed, request id="+s.id+" not yet completed";const I=++u;this._debug("Transport",this.getType(),"/meta/connect send, request",I,"envelope",F);const O={id:I,metaConnect:!0,envelope:F};S.call(this,F,O),s=O}return d.send=function(F,I){I?U.call(this,F):x.call(this,F)},d.abort=function(){b.abort();for(let I=0;I<v.length;++I){const O=v[I];O&&(this._debug("Aborting request",O),this.abortXHR(O.xhr)||this.transportFailure(O.envelope,O,{reason:"abort"}))}const F=s;F&&(this._debug("Aborting /meta/connect request",F),this.abortXHR(F.xhr)||this.transportFailure(F.envelope,F,{reason:"abort"})),this.reset(!0)},d.reset=F=>{b.reset(F),s=null,v=[],T=[]},d.abortXHR=function(F){if(F)try{const I=F.readyState;return F.abort(),I!==window.XMLHttpRequest.UNSENT}catch(I){this._debug(I)}return!1},d.xhrStatus=function(F){if(F)try{return F.status}catch(I){this._debug(I)}return-1},d}function m(){const b=new i,d=o.derive(b);let u=!0;d.accept=(v,T,R)=>u||!T,d.newXMLHttpRequest=()=>new window.XMLHttpRequest;function s(v){try{v.context=d.context}catch(T){d._debug("Could not copy transport context into XHR",T)}}return d.xhrSend=v=>{const T=d.newXMLHttpRequest();s(T),T.withCredentials=!0,T.open("POST",v.url,v.sync!==!0);const R=v.headers;if(R)for(let D in R)R.hasOwnProperty(D)&&T.setRequestHeader(D,R[D]);return T.setRequestHeader("Content-Type","application/json;charset=UTF-8"),T.onload=()=>{T.status===200?v.onSuccess(T.responseText):v.onError(T.statusText)},T.onabort=T.onerror=()=>{v.onError(T.statusText)},T.send(v.body),T},d.transportSend=function(v,T){this._debug("Transport",this.getType(),"sending request",T.id,"envelope",v);try{let R=!0;return T.xhr=this.xhrSend({transport:this,url:v.url,sync:v.sync,headers:this.getConfiguration().requestHeaders,body:this.convertToJSON(v.messages),onSuccess:D=>{this._debug("Transport",this.getType(),"received response",D);let S=!1;try{const x=this.convertToMessages(D);x.length===0?(u=!1,this.transportFailure(v,T,{httpCode:204})):(S=!0,this.transportSuccess(v,T,x))}catch(x){if(this._debug(x),!S){u=!1;const j={exception:x};j.httpCode=this.xhrStatus(T.xhr),this.transportFailure(v,T,j)}}},onError:(D,S)=>{this._debug("Transport",this.getType(),"received error",D,S),u=!1;const x={reason:D,exception:S};x.httpCode=this.xhrStatus(T.xhr),R?this.setTimeout(()=>{this.transportFailure(v,T,x)},0):this.transportFailure(v,T,x)}}),R=!1,!0}catch(R){return this._debug("Transport",this.getType(),"exception:",R),u=!1,this.setTimeout(()=>{this.transportFailure(v,T,{exception:R})},0),!1}},d.reset=v=>{b.reset(v),u=!0},d}function g(){const b=new i,d=o.derive(b);let u=0;d.accept=(v,T,R)=>!0,d.jsonpSend=v=>{const T=document.getElementsByTagName("head")[0],R=document.createElement("script"),D="_cometd_jsonp_"+u++;window[D]=x=>{T.removeChild(R),delete window[D],v.onSuccess(x)};let S=v.url;S+=S.indexOf("?")<0?"?":"&",S+="jsonp="+D,S+="&message="+encodeURIComponent(v.body),R.src=S,R.async=v.sync!==!0,R.type="application/javascript",R.onerror=x=>{v.onError("jsonp "+x.type)},T.appendChild(R)};function s(v,T,R){return()=>{this.transportFailure(v,T,"error",R)}}return d.transportSend=function(v,T){let R=0,D=v.messages.length;const S=[];for(;D>0;){const j=JSON.stringify(v.messages.slice(R,R+D)),L=v.url.length+encodeURI(j).length,U=this.getConfiguration().maxURILength;if(L>U){if(D===1){const F="Bayeux message too big ("+L+" bytes, max is "+U+") for transport "+this.getType();this.setTimeout(s.call(this,v,T,F),0);return}--D;continue}S.push(D),R+=D,D=v.messages.length-R}let x=v;if(S.length>1){let j=0,L=S[0];this._debug("Transport",this.getType(),"split",v.messages.length,"messages into",S.join(" + ")),x=this._mixin(!1,{},v),x.messages=v.messages.slice(j,L),x.onSuccess=v.onSuccess,x.onFailure=v.onFailure;for(let U=1;U<S.length;++U){const F=this._mixin(!1,{},v);j=L,L+=S[U],F.messages=v.messages.slice(j,L),F.onSuccess=v.onSuccess,F.onFailure=v.onFailure,this.send(F,T.metaConnect)}}this._debug("Transport",this.getType(),"sending request",T.id,"envelope",x);try{let j=!0;return this.jsonpSend({transport:this,url:x.url,sync:x.sync,headers:this.getConfiguration().requestHeaders,body:JSON.stringify(x.messages),onSuccess:L=>{let U=!1;try{const F=this.convertToMessages(L);F.length===0?this.transportFailure(x,T,{httpCode:204}):(U=!0,this.transportSuccess(x,T,F))}catch(F){this._debug(F),U||this.transportFailure(x,T,{exception:F})}},onError:(L,U)=>{const F={reason:L,exception:U};j?this.setTimeout(()=>{this.transportFailure(x,T,F)},0):this.transportFailure(x,T,F)}}),j=!1,!0}catch(j){return this.setTimeout(()=>{this.transportFailure(x,T,{exception:j})},0),!1}},d}function e(){const b=new o,d=o.derive(b);let u,s=!0,v=!1,T=!0,R=null,D=null,S=!1,x=null;d.reset=N=>{b.reset(N),s=!0,N&&(v=!1),T=!0,N&&(R=null),D=null,S=!1};function j(N,W){N&&(this.webSocketClose(N,W.code,W.reason),this.onClose(N,W))}function L(N){return N===D||N===R}function U(N,W,Y){const z=[];for(let K=0;K<W.messages.length;++K){const V=W.messages[K];V.id&&z.push(V.id)}N.envelopes[z.join(",")]=[W,Y],this._debug("Transport",this.getType(),"stored envelope, envelopes",N.envelopes)}function F(N,W){let Y=!1;const z=N.envelopes;for(let K=0;K<W.length;++K){const V=W[K];for(let X in z)if(z.hasOwnProperty(X)){const J=X.split(","),q=J.indexOf(V);if(q>=0){Y=!0,J.splice(q,1);const et=z[X][0],st=z[X][1];delete z[X],J.length>0&&(z[J.join(",")]=[et,st]);break}}}Y&&this._debug("Transport",this.getType(),"removed envelope, envelopes",z)}function I(N){if(D)return;const W=u.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",W);try{const X=u.getConfiguration().protocol;N.webSocket=X?new window.WebSocket(W,X):new window.WebSocket(W),D=N}catch(X){throw s=!1,this._debug("Exception while creating WebSocket object",X),X}T=u.getConfiguration().stickyReconnect!==!1;const Y=u.getConfiguration().connectTimeout;Y>0&&(N.connectTimer=this.setTimeout(()=>{u._debug("Transport",this.getType(),"timed out while connecting to URL",W,":",Y,"ms"),j.call(this,N,{code:1e3,reason:"Connect Timeout"})},Y));const z=()=>{u._debug("WebSocket onopen",N),N.connectTimer&&this.clearTimeout(N.connectTimer),L(N)?(D=null,R=N,v=!0,this.onOpen(N)):(u._warn("Closing extra WebSocket connection",this,"active connection",R),j.call(this,N,{code:1e3,reason:"Extra Connection"}))},K=X=>{X=X||{code:1e3},u._debug("WebSocket onclose",N,X,"connecting",D,"current",R),N.connectTimer&&this.clearTimeout(N.connectTimer),this.onClose(N,X)},V=X=>{u._debug("WebSocket onmessage",X,N),this.onMessage(N,X)};N.webSocket.onopen=z,N.webSocket.onclose=K,N.webSocket.onerror=()=>{K({code:1e3,reason:"Error"})},N.webSocket.onmessage=V,this._debug("Transport",this.getType(),"configured callbacks on",N)}function O(N,W,Y){const z=this._notifyTransportTimeout([W]);z>0?(this._debug("Transport",this.getType(),"extended waiting for message replies:",z,"ms"),N.timeouts[W.id]=this.setTimeout(()=>{O.call(this,N,W,Y+z)},z)):(this._debug("Transport",this.getType(),"expired waiting for message reply",W.id,":",Y,"ms"),j.call(this,N,{code:1e3,reason:"Message Timeout"}))}function B(N,W,Y){let z;try{z=this.convertToJSON(W.messages)}catch(X){this._debug("Transport",this.getType(),"exception:",X);const J=[];for(let q=0;q<W.messages.length;++q){const et=W.messages[q];J.push(et.id)}F.call(this,N,J),this.setTimeout(()=>{this._notifyFailure(W.onFailure,N,W.messages,{exception:X})},0);return}N.webSocket.send(z),this._debug("Transport",this.getType(),"sent",W,"/meta/connect =",Y);let K=this.getConfiguration().maxNetworkDelay;Y&&(K+=this.getAdvice().timeout,S=!0);const V=[];for(let X=0;X<W.messages.length;++X){const J=W.messages[X];J.id&&(V.push(J.id),N.timeouts[J.id]=this.setTimeout(()=>{O.call(this,N,J,K)},K))}this._debug("Transport",this.getType(),"started waiting for message replies",K,"ms, messageIds:",V,", timeouts:",N.timeouts)}d._notifySuccess=function(N,W){N.call(this,W)},d._notifyFailure=function(N,W,Y,z){N.call(this,W,Y,z)};function H(N,W,Y){try{N===null?(N=D||{envelopes:{},timeouts:{}},U.call(this,N,W,Y),I.call(this,N)):(U.call(this,N,W,Y),B.call(this,N,W,Y))}catch(z){this.setTimeout(()=>{j.call(this,N,{code:1e3,reason:"Exception",exception:z})},0)}}return d.onOpen=function(N){const W=N.envelopes;this._debug("Transport",this.getType(),"opened",N,"pending messages",W);for(let Y in W)if(W.hasOwnProperty(Y)){const z=W[Y],K=z[0],V=z[1];x=K.onSuccess,B.call(this,N,K,V)}},d.onMessage=function(N,W){this._debug("Transport",this.getType(),"received websocket message",W,N);let Y=!1;const z=this.convertToMessages(W.data),K=[];for(let V=0;V<z.length;++V){const X=z[V];if((/^\/meta\//.test(X.channel)||X.data===void 0)&&X.id){K.push(X.id);const J=N.timeouts[X.id];J&&(this.clearTimeout(J),delete N.timeouts[X.id],this._debug("Transport",this.getType(),"removed timeout for message",X.id,", timeouts",N.timeouts))}X.channel==="/meta/connect"&&(S=!1),X.channel==="/meta/disconnect"&&!S&&(Y=!0)}F.call(this,N,K),this._notifySuccess(x,z),Y&&this.webSocketClose(N,1e3,"Disconnect")},d.onClose=function(N,W){this._debug("Transport",this.getType(),"closed",N,W),L(N)&&(s=T&&v,D=null,R=null);const Y=N.timeouts;N.timeouts={};for(let K in Y)Y.hasOwnProperty(K)&&this.clearTimeout(Y[K]);const z=N.envelopes;N.envelopes={};for(let K in z)if(z.hasOwnProperty(K)){const V=z[K][0];z[K][1]&&(S=!1);const J={websocketCode:W.code,reason:W.reason};W.exception&&(J.exception=W.exception),this._notifyFailure(V.onFailure,N,V.messages,J)}},d.registered=(N,W)=>{b.registered(N,W),u=W},d.accept=function(N,W,Y){return this._debug("Transport",this.getType(),"accept, supported:",s),s&&!!window.WebSocket&&u.websocketEnabled!==!1},d.send=function(N,W){this._debug("Transport",this.getType(),"sending",N,"/meta/connect =",W),H.call(this,R,N,W)},d.webSocketClose=function(N,W,Y){try{N.webSocket&&N.webSocket.close(W,Y)}catch(z){this._debug(z)}},d.abort=function(){b.abort(),j.call(this,R,{code:1e3,reason:"Abort"}),this.reset(!0)},d}function a(b){const d=new A,u=this,s=b||"default";let v=!1;const T=new n;let R,D="disconnected",S=0,x=null,j=0,L=[],U=!1,F=0,I={};const O={};let B=0,H=null;const N=[];let W={},Y,z;const K={},V={};let X=!1,J=!1,q=0,et=0,st=null,nt={useWorkerScheduler:!0,protocol:null,stickyReconnect:!0,connectTimeout:0,maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:"info",maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,urls:{},maxURILength:2e3,maxSendBayeuxMessageSize:8192,advice:{timeout:6e4,interval:0,reconnect:void 0,maxInterval:0}};function ut(C,w){try{return C[w]}catch(_){return}}this._mixin=function(C,w,_){const k=w||{};for(let G=2;G<arguments.length;++G){const Q=arguments[G];if(Q!=null){for(let $ in Q)if(Q.hasOwnProperty($)){const Z=ut(Q,$),it=ut(k,$);if(Z===w||Z===void 0)continue;if(C&&typeof Z=="object"&&Z!==null)if(Z instanceof Array)k[$]=this._mixin(C,it instanceof Array?it:[],Z);else{const ct=typeof it=="object"&&!(it instanceof Array)?it:{};k[$]=this._mixin(C,ct,Z)}else k[$]=Z}}}return k};function at(C){return l.isString(C)}function mt(C){return C>="A"&&C<="Z"?!0:C>="a"&&C<="z"}function Mt(C){return C>="0"&&C<="9"}function bt(C){switch(C){case" ":case"!":case"#":case"$":case"(":case")":case"*":case"+":case"-":case".":case"/":case"@":case"_":case"{":case"~":case"}":case":":case"\\":case",":return!0;default:return!1}}function Et(C){if(!at(C)||C.length<2||C.charAt(0)!=="/")return!1;for(let w=1;w<C.length;++w){const _=C.charAt(w);if(!(mt(_)||Mt(_)||bt(_)))return!1}return!0}function tt(C){return C==null?!1:typeof C=="function"}function yt(C,w){let _="";for(;--w>0&&!(C>=Math.pow(10,w));)_+="0";return _+=C,_}function jt(C,w){if(window.console){const _=window.console[C];if(tt(_)){const k=new Date;[].splice.call(w,0,0,yt(k.getHours(),2)+":"+yt(k.getMinutes(),2)+":"+yt(k.getSeconds(),2)+"."+yt(k.getMilliseconds(),3)),_.apply(window.console,w)}}}this._warn=function(){jt("warn",arguments)},this._info=function(){nt.logLevel!=="warn"&&jt("info",arguments)},this._debug=function(){nt.logLevel==="debug"&&jt("debug",arguments)};function gt(C){return new RegExp("(^https?://)?(((\\[[^\\]]+])|([^:/?#]+))(:(\\d+))?)?([^?#]*)(.*)?").exec(C)}this._isCrossDomain=C=>window.location&&window.location.host&&C?C!==window.location.host:!1;function At(C){u._debug("Configuring cometd object with",C),at(C)&&(C={url:C}),C||(C={}),nt=u._mixin(!1,nt,C);const w=u.getURL();if(!w)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";const _=gt(w),k=_[2],G=_[8],Q=_[9];if(v=u._isCrossDomain(k),nt.appendMessageTypeToURL)if(Q!==void 0&&Q.length>0)u._info("Appending message type to URI "+G+Q+" is not supported, disabling 'appendMessageTypeToURL' configuration"),nt.appendMessageTypeToURL=!1;else{const $=G.split("/");let Z=$.length-1;G.match(/\/$/)&&(Z-=1),$[Z].indexOf(".")>=0&&(u._info("Appending message type to URI "+G+" is not supported, disabling 'appendMessageTypeToURL' configuration"),nt.appendMessageTypeToURL=!1)}if(window.Worker&&window.Blob&&window.URL&&nt.useWorkerScheduler){let $=h.toString();$=$.substring($.indexOf("{")+1,$.lastIndexOf("}"));const Z=new window.Blob([$],{type:"application/json"}),it=window.URL.createObjectURL(Z),ct=new window.Worker(it);d.setTimeout=(lt,It)=>{const St=d.register(lt);return ct.postMessage({id:St,type:"setTimeout",delay:It}),St},d.clearTimeout=lt=>{d.unregister(lt),ct.postMessage({id:lt,type:"clearTimeout"})},ct.onmessage=lt=>{const It=lt.data.id,St=d.unregister(It);St&&St()}}}function pt(C){if(C){const w=I[C.channel];w&&w[C.id]&&(delete w[C.id],u._debug("Removed",C.listener?"listener":"subscription",C))}}function Dt(C){C&&!C.listener&&pt(C)}function vt(){for(let C in I)if(I.hasOwnProperty(C)){const w=I[C];if(w)for(let _ in w)w.hasOwnProperty(_)&&Dt(w[_])}}function dt(C){D!==C&&(u._debug("Status",D,"->",C),D=C)}function ot(){return D==="disconnecting"||D==="disconnected"}function ht(){return""+ ++S}function Ut(C,w,_,k,G){try{return w.call(C,k)}catch(Q){const $=u.onExtensionException;if(tt($)){u._debug("Invoking extension exception handler",_,Q);try{$.call(u,Q,_,G,k)}catch(Z){u._info("Exception during execution of extension exception handler",_,Z)}}else u._info("Exception during execution of extension",_,Q);return k}}function ne(C){for(let w=0;w<N.length&&C!=null;++w){const _=N[w],k=_.extension.incoming;if(tt(k)){const G=Ut(_.extension,k,_.name,C,!1);C=G===void 0?C:G}}return C}function ie(C){for(let w=N.length-1;w>=0&&C!=null;--w){const _=N[w],k=_.extension.outgoing;if(tt(k)){const G=Ut(_.extension,k,_.name,C,!0);C=G===void 0?C:G}}return C}function Nt(C,w){const _=I[C];if(_){for(let k in _)if(_.hasOwnProperty(k)){const G=_[k];if(G)try{G.callback.call(G.scope,w)}catch(Q){const $=u.onListenerException;if(tt($)){u._debug("Invoking listener exception handler",G,Q);try{$.call(u,Q,G,G.listener,w)}catch(Z){u._info("Exception during execution of listener exception handler",G,Z)}}else u._info("Exception during execution of listener",G,w,Q)}}}}function rt(C,w){Nt(C,w);const _=C.split("/"),k=_.length-1;for(let G=k;G>0;--G){let Q=_.slice(0,G).join("/")+"/*";G===k&&Nt(Q,w),Q+="*",Nt(Q,w)}}function Wt(){H!==null&&u.clearTimeout(H),H=null}function _t(C,w){Wt();const _=W.interval+w;u._debug("Function scheduled in",_,"ms, interval =",W.interval,"backoff =",B,C),H=u.setTimeout(C,_)}let Ht,Lt;function Tt(C,w,_){for(let Q=0;Q<C.length;++Q){let $=C[Q];const Z=$.id;x&&($.clientId=x),$=ie($),$!=null?($.id=Z,C[Q]=$):(delete K[Z],C.splice(Q--,1))}if(C.length===0)return;w&&(st=C[0]);let k=u.getURL();nt.appendMessageTypeToURL&&(k.match(/\/$/)||(k=k+"/"),_&&(k=k+_));const G={url:k,sync:!1,messages:C,onSuccess:Q=>{try{Ht.call(u,Q)}catch($){u._info("Exception during handling of messages",$)}},onFailure:(Q,$,Z)=>{try{const it=u.getTransport();Z.connectionType=it?it.getType():"unknown",Lt.call(u,Q,$,Z)}catch(it){u._info("Exception during handling of failure",it)}}};u._debug("Send",G),R.send(G,w)}function Ct(C){j>0||U===!0?L.push(C):Tt([C],!1)}this.send=Ct;function Pt(){B=0}function se(){return B<nt.maxBackoff&&(B+=nt.backoffIncrement),B}function oe(){++j,u._debug("Starting batch, depth",j)}function Kt(){const C=L;L=[],C.length>0&&Tt(C,!1)}function re(){if(--j,u._debug("Ending batch, depth",j),j<0)throw"Calls to startBatch() and endBatch() are not paired";j===0&&!ot()&&!U&&Kt()}function ae(){if(!ot()){const C={id:ht(),channel:"/meta/connect",connectionType:R.getType()};J||(C.advice={timeout:0}),dt("connecting"),u._debug("Connect sent",C),Tt([C],!0,"connect"),dt("connected")}}function xt(C){dt("connecting"),_t(()=>{ae()},C)}function kt(C){C&&(W=u._mixin(!1,{},nt.advice,C),u._debug("New advice",W))}function Rt(C){if(Wt(),C&&R&&R.abort(),v=!1,R=null,dt("disconnected"),x=null,j=0,Pt(),X=!1,J=!1,q=0,st=null,L.length>0){const w=L;L=[],Lt.call(u,void 0,w,{reason:"Disconnected"})}}function Ot(C,w,_){const k=u.onTransportException;if(tt(k)){u._debug("Invoking transport exception handler",C,w,_);try{k.call(u,_,C,w)}catch(G){u._info("Exception during execution of transport exception handler",G)}}}function Yt(C,w){tt(C)&&(w=C,C=void 0),x=null,vt(),ot()&&T.reset(!0),kt({}),j=0,U=!0,Y=C,z=w;const _="1.0",k=u.getURL(),G=T.findTransportTypes(_,v,k),Q={id:ht(),version:_,minimumVersion:_,channel:"/meta/handshake",supportedConnectionTypes:G,advice:{timeout:W.timeout,interval:W.interval}},$=u._mixin(!1,{},Y,Q);if(u._putCallback($.id,w),!R&&(R=T.negotiateTransport(G,_,v,k),!R)){const Z="Could not find initial transport among: "+T.getTransportTypes();throw u._warn(Z),Z}u._debug("Initial transport is",R.getType()),dt("handshaking"),u._debug("Handshake sent",$),Tt([$],!1,"handshake")}function ce(C){dt("handshaking"),U=!0,_t(()=>{Yt(Y,z)},C)}function Ft(C,w){try{C.call(u,w)}catch(_){const k=u.onCallbackException;if(tt(k)){u._debug("Invoking callback exception handler",_);try{k.call(u,_,w)}catch(G){u._info("Exception during execution of callback exception handler",G)}}else u._info("Exception during execution of message callback",_)}}this._getCallback=C=>K[C],this._putCallback=function(C,w){const _=this._getCallback(C);return tt(w)&&(K[C]=w),_};function ft(C){const w=u._getCallback([C.id]);tt(w)&&(delete K[C.id],Ft(w,C))}function zt(C){const w=V[C.id];if(delete V[C.id],w){u._debug("Handling remote call response for",C,"with context",w);const _=w.timeout;_&&u.clearTimeout(_);const k=w.callback;if(tt(k))return Ft(k,C),!0}return!1}this.onTransportFailure=function(C,w,_){this._debug("Transport failure",w,"for",C);const k=this.getTransportRegistry(),G=this.getURL(),Q=this._isCrossDomain(gt(G)[2]),$="1.0",Z=k.findTransportTypes($,Q,G);if(w.action==="none"){if(C.channel==="/meta/handshake"&&!w.transport){const it="Could not negotiate transport, client=["+Z+"], server=["+C.supportedConnectionTypes+"]";this._warn(it),Ot(R.getType(),null,{reason:it,connectionType:R.getType(),transport:R})}}else if(w.delay=this.getBackoffPeriod(),C.channel==="/meta/handshake"){if(!w.transport){const it=R?R.getType():null,ct=k.negotiateTransport(Z,$,Q,G);if(!ct)this._warn("Could not negotiate transport, client=["+Z+"]"),Ot(it,null,C.failure),w.action="none";else{const lt=ct.getType();this._debug("Transport",it,"->",lt),Ot(it,lt,C.failure),w.action="handshake",w.transport=ct}}w.action!=="none"&&this.increaseBackoffPeriod()}else{const it=new Date().getTime();if(q===0&&(q=it),w.action==="retry"){w.delay=this.increaseBackoffPeriod();const ct=W.maxInterval;if(ct>0){const lt=W.timeout+W.interval+ct;it-q+B>lt&&(w.action="handshake")}}w.action==="handshake"&&(w.delay=0,k.reset(!1),this.resetBackoffPeriod())}_.call(u,w)};function Gt(C){u._debug("Transport failure handling",C),C.transport&&(R=C.transport),C.url&&R.setURL(C.url);const w=C.action,_=C.delay||0;switch(w){case"handshake":ce(_);break;case"retry":xt(_);break;case"none":Rt(!0);break;default:throw"Unknown action "+w}}function wt(C,w){ft(C),rt("/meta/handshake",C),rt("/meta/unsuccessful",C),ot()&&(w.action="none"),u.onTransportFailure.call(u,C,w,Gt)}function le(C){const w=u.getURL();if(C.successful){const _=u._isCrossDomain(gt(w)[2]),k=T.negotiateTransport(C.supportedConnectionTypes,C.version,_,w);if(k===null){C.successful=!1,wt(C,{cause:"negotiation",action:"none",transport:null});return}else R!==k&&(u._debug("Transport",R.getType(),"->",k.getType()),R=k);x=C.clientId,U=!1,Kt(),C.reestablish=X,X=!0,ft(C),rt("/meta/handshake",C),et=C["x-messages"]||0;const G=ot()?"none":W.reconnect||"retry";switch(G){case"retry":Pt(),et===0?xt(0):u._debug("Processing",et,"handshake-delivered messages");break;case"none":Rt(!0);break;default:throw"Unrecognized advice action "+G}}else wt(C,{cause:"unsuccessful",action:W.reconnect||"handshake",transport:R})}function ue(C){wt(C,{cause:"failure",action:"handshake",transport:null})}function Xt(C){return D==="disconnected"?!0:st&&st.id===C.id?(st=null,!0):!1}function Vt(C,w){rt("/meta/connect",C),rt("/meta/unsuccessful",C),ot()&&(w.action="none"),u.onTransportFailure.call(u,C,w,Gt)}function de(C){if(Xt(C))if(J=C.successful,J){rt("/meta/connect",C);const w=ot()?"none":W.reconnect||"retry";switch(w){case"retry":Pt(),xt(B);break;case"none":Rt(!1);break;default:throw"Unrecognized advice action "+w}}else Vt(C,{cause:"unsuccessful",action:W.reconnect||"retry",transport:R});else u._debug("Mismatched /meta/connect reply",C)}function fe(C){Xt(C)?(J=!1,Vt(C,{cause:"failure",action:"retry",transport:null})):u._debug("Mismatched /meta/connect failure",C)}function Qt(C){Rt(!0),ft(C),rt("/meta/disconnect",C),rt("/meta/unsuccessful",C)}function he(C){C.successful?(Rt(!1),ft(C),rt("/meta/disconnect",C)):Qt(C)}function me(C){Qt(C)}function Jt(C){const w=I[C.subscription];if(w){for(let _ in w)if(w.hasOwnProperty(_)){const k=w[_];k&&!k.listener&&(delete w[_],u._debug("Removed failed subscription",k))}}ft(C),rt("/meta/subscribe",C),rt("/meta/unsuccessful",C)}function ge(C){C.successful?(ft(C),rt("/meta/subscribe",C)):Jt(C)}function pe(C){Jt(C)}function $t(C){ft(C),rt("/meta/unsubscribe",C),rt("/meta/unsuccessful",C)}function Ee(C){C.successful?(ft(C),rt("/meta/unsubscribe",C)):$t(C)}function ve(C){$t(C)}function Bt(C){zt(C)||(ft(C),rt("/meta/publish",C),rt("/meta/unsuccessful",C))}function ye(C){C.data!==void 0?zt(C)||(rt(C.channel,C),et>0&&(--et,et===0&&(u._debug("Processed last handshake-delivered message"),xt(0)))):C.successful===void 0?u._warn("Unknown Bayeux Message",C):C.successful?(ft(C),rt("/meta/publish",C)):Bt(C)}function Ae(C){Bt(C)}function Zt(C){if(q=0,C=ne(C),C==null)return;switch(kt(C.advice),C.channel){case"/meta/handshake":le(C);break;case"/meta/connect":de(C);break;case"/meta/disconnect":he(C);break;case"/meta/subscribe":ge(C);break;case"/meta/unsubscribe":Ee(C);break;default:ye(C);break}}this.receive=Zt,Ht=C=>{u._debug("Received",C);for(let w=0;w<C.length;++w){const _=C[w];Zt(_)}},Lt=(C,w,_)=>{u._debug("handleFailure",C,w,_),_.transport=C;for(let k=0;k<w.length;++k){const G=w[k],Q={id:G.id,successful:!1,channel:G.channel,failure:_};switch(_.message=G,G.channel){case"/meta/handshake":ue(Q);break;case"/meta/connect":fe(Q);break;case"/meta/disconnect":me(Q);break;case"/meta/subscribe":Q.subscription=G.subscription,pe(Q);break;case"/meta/unsubscribe":Q.subscription=G.subscription,ve(Q);break;default:Ae(Q);break}}};function qt(C){const w=I[C];if(w){for(let _ in w)if(w.hasOwnProperty(_)&&w[_])return!0}return!1}function te(C,w){const _={scope:C,method:w};if(tt(C))_.scope=void 0,_.method=C;else if(at(w)){if(!C)throw"Invalid scope "+C;if(_.method=C[w],!tt(_.method))throw"Invalid callback "+w+" for scope "+C}else if(!tt(w))throw"Invalid callback "+w;return _}function ee(C,w,_,k){const G=te(w,_);u._debug("Adding",k?"listener":"subscription","on",C,"with scope",G.scope,"and callback",G.method);const Q=++F,$={id:Q,channel:C,scope:G.scope,callback:G.method,listener:k};let Z=I[C];return Z||(Z={},I[C]=Z),Z[Q]=$,u._debug("Added",k?"listener":"subscription",$),$}this.registerTransport=function(C,w,_){const k=T.add(C,w,_);return k&&(this._debug("Registered transport",C),tt(w.registered)&&w.registered(C,this)),k},this.unregisterTransport=function(C){const w=T.remove(C);return w!==null&&(this._debug("Unregistered transport",C),tt(w.unregistered)&&w.unregistered()),w},this.unregisterTransports=()=>{T.clear()},this.getTransportTypes=()=>T.getTransportTypes(),this.findTransport=C=>T.find(C),this.getTransportRegistry=()=>T,this.configure=function(C){At.call(this,C)},this.init=function(C,w){this.configure(C),this.handshake(w)},this.handshake=(C,w)=>{if(D!=="disconnected")throw"Illegal state: handshaken";Yt(C,w)},this.disconnect=function(C,w){if(ot())return;tt(C)&&(w=C,C=void 0);const _={id:ht(),channel:"/meta/disconnect"},k=this._mixin(!1,{},C,_);u._putCallback(k.id,w),dt("disconnecting"),Tt([k],!1,"disconnect")},this.startBatch=()=>{oe()},this.endBatch=()=>{re()},this.batch=function(C,w){const _=te(C,w);this.startBatch();try{_.method.call(_.scope),this.endBatch()}catch(k){throw this._info("Exception during execution of batch",k),this.endBatch(),k}},this.addTransportListener=(C,w)=>{if(C!=="timeout")throw"Unsupported event "+C;let _=O[C];_||(O[C]=_=[]),_.push(w)},this.removeTransportListener=(C,w)=>{const _=O[C];if(_){const k=_.indexOf(w);if(k>=0)return _.splice(k,1),!0}return!1},this._getTransportListeners=C=>O[C],this.addListener=function(C,w,_){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!at(C))throw"Illegal argument type: channel must be a string";return ee(C,w,_,!0)},this.removeListener=C=>{if(!C||!C.channel||!("id"in C))throw"Invalid argument: expected subscription, not "+C;pt(C)},this.clearListeners=()=>{I={}},this.subscribe=function(C,w,_,k,G){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!Et(C))throw"Illegal argument: invalid channel "+C;if(ot())throw"Illegal state: disconnected";tt(w)&&(G=k,k=_,_=w,w=void 0),tt(k)&&(G=k,k=void 0);const Q=!qt(C),$=ee(C,w,_,!1);if(Q){const Z={id:ht(),channel:"/meta/subscribe",subscription:C},it=this._mixin(!1,{},k,Z);u._putCallback(it.id,G),Ct(it)}else tt(G)&&u.setTimeout(()=>{Ft(G,{id:ht(),successful:!0,channel:"/meta/subscribe",subscription:C})},0);return $},this.unsubscribe=function(C,w,_){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(ot())throw"Illegal state: disconnected";tt(w)&&(_=w,w=void 0),this.removeListener(C);const k=C.channel;if(qt(k))tt(_)&&u.setTimeout(()=>{Ft(_,{id:ht(),successful:!0,channel:"/meta/unsubscribe",subscription:k})},0);else{const G={id:ht(),channel:"/meta/unsubscribe",subscription:k},Q=this._mixin(!1,{},w,G);u._putCallback(Q.id,_),Ct(Q)}},this.resubscribe=function(C,w){if(Dt(C),C)return this.subscribe(C.channel,C.scope,C.callback,w)},this.clearSubscriptions=()=>{vt()},this.publish=function(C,w,_,k){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!Et(C))throw"Illegal argument: invalid channel "+C;if(/^\/meta\//.test(C))throw"Illegal argument: cannot publish to meta channels";if(ot())throw"Illegal state: disconnected";tt(w)?(k=w,w={},_=void 0):tt(_)&&(k=_,_=void 0);const G={id:ht(),channel:C,data:w},Q=this._mixin(!1,{},_,G);u._putCallback(Q.id,k),Ct(Q)},this.publishBinary=function(C,w,_,k,G,Q){tt(w)?(Q=w,w=new ArrayBuffer(0),_=!0,k=void 0,G=void 0):tt(_)?(Q=_,_=!0,k=void 0,G=void 0):tt(k)?(Q=k,k=void 0,G=void 0):tt(G)&&(Q=G,G=void 0);const $={meta:k,data:w,last:_},Z=this._mixin(!1,G,{ext:{binary:{}}});this.publish(C,$,Z,Q)},this.remoteCall=function(C,w,_,k,G){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!at(C))throw"Illegal argument type: target must be a string";if(ot())throw"Illegal state: disconnected";if(tt(w)?(G=w,w={},_=nt.maxNetworkDelay,k=void 0):tt(_)?(G=_,_=nt.maxNetworkDelay,k=void 0):tt(k)&&(G=k,k=void 0),typeof _!="number")throw"Illegal argument type: timeout must be a number";C.match(/^\//)||(C="/"+C);const Q="/service"+C;if(!Et(Q))throw"Illegal argument: invalid target "+C;const $={id:ht(),channel:Q,data:w},Z=this._mixin(!1,{},k,$),it={callback:G};_>0&&(it.timeout=u.setTimeout(()=>{u._debug("Timing out remote call",Z,"after",_,"ms"),Bt({id:Z.id,error:"406::timeout",successful:!1,failure:{message:Z,reason:"Remote Call Timeout"}})},_),u._debug("Scheduled remote call timeout",Z,"in",_,"ms")),V[Z.id]=it,Ct(Z)},this.remoteCallBinary=function(C,w,_,k,G,Q,$){tt(w)?($=w,w=new ArrayBuffer(0),_=!0,k=void 0,G=nt.maxNetworkDelay,Q=void 0):tt(_)?($=_,_=!0,k=void 0,G=nt.maxNetworkDelay,Q=void 0):tt(k)?($=k,k=void 0,G=nt.maxNetworkDelay,Q=void 0):tt(G)?($=G,G=nt.maxNetworkDelay,Q=void 0):tt(Q)&&($=Q,Q=void 0);const Z={meta:k,data:w,last:_},it=this._mixin(!1,Q,{ext:{binary:{}}});this.remoteCall(C,Z,G,it,$)},this.getStatus=()=>D,this.isDisconnected=ot,this.setBackoffIncrement=C=>{nt.backoffIncrement=C},this.getBackoffIncrement=()=>nt.backoffIncrement,this.getBackoffPeriod=()=>B,this.increaseBackoffPeriod=()=>se(),this.resetBackoffPeriod=()=>{Pt()},this.setLogLevel=C=>{nt.logLevel=C},this.registerExtension=function(C,w){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!at(C))throw"Illegal argument type: extension name must be a string";let _=!1;for(let k=0;k<N.length;++k)if(N[k].name===C){_=!0;break}return _?(this._info("Could not register extension with name",C,"since another extension with the same name already exists"),!1):(N.push({name:C,extension:w}),this._debug("Registered extension",C),tt(w.registered)&&w.registered(C,this),!0)},this.unregisterExtension=function(C){if(!at(C))throw"Illegal argument type: extension name must be a string";let w=!1;for(let _=0;_<N.length;++_){const k=N[_];if(k.name===C){N.splice(_,1),w=!0,this._debug("Unregistered extension",C);const G=k.extension;tt(G.unregistered)&&G.unregistered();break}}return w},this.getExtension=C=>{for(let w=0;w<N.length;++w){const _=N[w];if(_.name===C)return _.extension}return null},this.getName=()=>s,this.getClientId=()=>x,this.getURL=()=>{if(R){let C=R.getURL();if(C||(C=nt.urls[R.getType()],C))return C}return nt.url},this.getTransport=()=>R,this.getConfiguration=function(){return this._mixin(!0,{},nt)},this.getAdvice=function(){return this._mixin(!0,{},W)},this.setTimeout=(C,w)=>d.setTimeout(()=>{try{u._debug("Invoking timed function",C),C()}catch(_){u._debug("Exception invoking timed function",C,_)}},w),this.clearTimeout=C=>{d.clearTimeout(C)},window.WebSocket&&this.registerTransport("websocket",new e),this.registerTransport("long-polling",new m),this.registerTransport("callback-polling",new g)}const r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z",".","-",":","+","=","^","!","/","*","?","&","<",">","(",")","[","]","{","}","@","%","$","#"],f=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0],p={encode:b=>{let d=null;if(b instanceof ArrayBuffer?d=b:b.buffer instanceof ArrayBuffer?d=b.buffer:Array.isArray(b)&&(d=new Uint8Array(b).buffer),d==null)throw"Cannot Z85 encode "+b;const u=d.byteLength,s=u%4,v=4-(s===0?4:s),T=new DataView(d);let R="",D=0;for(let S=0;S<u+v;++S){const x=S>=u;if(D=D*256+(x?0:T.getUint8(S)),(S+1)%4===0){let j=52200625;for(let L=5;L>0;--L){if(!x||L>v){const U=Math.floor(D/j)%85;R+=r[U]}j/=85}D=0}}return R},decode:b=>{const d=b.length%5,u=5-(d===0?5:d);for(let x=0;x<u;++x)b+=r[r.length-1];const s=b.length,v=new ArrayBuffer(s*4/5-u),T=new DataView(v);let R=0,D=0,S=0;for(let x=0;x<s;++x){const j=b.charCodeAt(D++)-32;if(R=R*85+f[j],D%5===0){let L=16777216;for(;L>=1;)S<T.byteLength&&T.setUint8(S++,Math.floor(R/L)%256),L/=256;R=0}}return v}};return c.default={CometD:a,Transport:o,RequestTransport:i,LongPollingTransport:m,CallbackPollingTransport:g,WebSocketTransport:e,Utils:l,Z85:p},c.default},E,P),E.exports=M},"mw-deprecation-utils/deprecation":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/config"]),t(t.dj.r.absMids["mw-log/Log"])],M=t.dj.d(y,function(c,A){var h={deprecated:function(l){var n,o,i=!!c.isDebug||!!window.showDeprecationsAsErrors;i&&this._isConfigValid(l)&&(o=window.showDeprecationsAsErrors||l.deprecationLevel===this.ERROR?this.ERROR:this.WARN,n="DEPRECATED: ",l.deprecated&&(n+=l.deprecated.module,l.deprecated.method&&(n+="."+l.deprecated.method+"()"),n+="."),l.replacement&&(n+=" Use "+l.replacement.module,l.replacement.method&&(n+="."+l.replacement.method+"()"),n+=" instead."),l.removalVersion&&(n+=" Will be removed in version: "+l.removalVersion+"."),l.geckNumber&&(n+=" Please use g"+l.geckNumber+" to track latest information regarding this deprecation"),l.additionalInformation&&(n+=" "+l.additionalInformation),A[o](n))},_isConfigValid:function(l){var n=!!l.deprecated&&typeof l.deprecated=="object"&&l.deprecated.hasOwnProperty("module");return l.replacement&&(n=n&&typeof l.replacement=="object"&&l.replacement.hasOwnProperty("module")),l.geckNumber&&(n=n&&typeof l.geckNumber=="number"),n||A.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API"),n}};return Object.defineProperties(h,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}}),h},E,P),E.exports=M},"mw-filename-utils/FileNameUtil":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/array"]),t(t.dj.r.absMids["mw-deprecation-utils/deprecation"]),t(t.dj.r.absMids["mw-log/Log"])],M=t.dj.d(y,function(c,A,h){"use strict";var l={};function n(d){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},n(d)}function o(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function i(d,u){for(var s=0;s<u.length;s++){var v=u[s];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,e(v.key),v)}}function m(d,u,s){return u&&i(d.prototype,u),s&&i(d,s),Object.defineProperty(d,"prototype",{writable:!1}),d}function g(d,u,s){return u=e(u),u in d?Object.defineProperty(d,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):d[u]=s,d}function e(d){var u=a(d,"string");return typeof u=="symbol"?u:String(u)}function a(d,u){if(n(d)!=="object"||d===null)return d;var s=d[Symbol.toPrimitive];if(s!==void 0){var v=s.call(d,u||"default");if(n(v)!=="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(d)}var r="/MATLAB Drive/",f="__FAKE_FILE_INFO__",p=function(){function d(){o(this,d)}return m(d,[{key:"setPathSeparator",value:function(s){this.pathSeparator=s}},{key:"isMatlabFileInfo",value:function(s){return this._fileInfoNameMatchesRegExp(s,this.MATLAB_FILE_PATTERN)}},{key:"isMatlabFileName",value:function(s){return this._fileNameMatchesRegExp(s,this.MATLAB_FILE_PATTERN)}},{key:"isValidFileName",value:function(s){return this._fileNameMatchesRegExp(s,this.FILENAME_PATTERN)}},{key:"checkFileInfoExtension",value:function(s,v){return s&&s.name&&this.checkFileNameExtension(s.name,v)}},{key:"checkFileNameExtension",value:function(s,v){return v instanceof Array||(v=[v]),c.some(v,function(T){var R=this.getFileNameExtension(s).toLocaleLowerCase();return R===T.toLocaleLowerCase()},this)}},{key:"constructMatlabFilePath",value:function(s){var v=this.pathFromFileInfo(s).replace(/'/g,"''");return"'"+v+"'"}},{key:"constructUrlFromFileInfo",value:function(s,v){var T="/"+s.location.substring(Math.min(s.location.indexOf(r)+r.length,s.location.length));return this.USER_DIR_PATH+v+T+s.name}},{key:"constructPathFromUserName",value:function(s){if(s)return this.USERS_DIR_PATH+s+"/"}},{key:"getFileSeparator",value:function(s){return s.startsWith("/")?"/":s.startsWith("\\")||s.search(/^[a-z]:/i)!==-1||s.search(/.\\/i)!==-1?"\\":"/"}},{key:"getFileNameNoExtension",value:function(s){var v=typeof s=="string";if(!s||!v)return s;var T=s.lastIndexOf(".")!==-1?s.lastIndexOf("."):s.length;return s.slice(0,T)}},{key:"getFileNameExtension",value:function(s){var v=typeof s=="string";if(!s||!v)return s;var T=s.lastIndexOf(".")!==-1?s.lastIndexOf(".")+1:s.length;return s.substring(T,s.length)}},{key:"normalizePath",value:function(s){var v=this.getFileSeparator(s),T=s.replace(/[/\\]/g,v);return T.replace(/[/\\]*$/,v)}},{key:"parseHomeFolderFromPath",value:function(s,v){var T=s.indexOf(v),R="";return T>0&&(R=s.substring(0,T+v.length)+this.getFileSeparator(s)),R}},{key:"getPackageStartFromLocation",value:function(s){s=this.normalizeLocation(s);var v=this.getFileSeparator(s),T="(\\"+v+"\\+[a-zA-Z][a-zA-Z0-9_]*)+\\"+v+"$";return s.search(T)}},{key:"getFullyQualifiedMatlabName",value:function(s){A.deprecated({deprecated:{module:"mw-filename-utils/FileNameUtil",method:"getFullyQualifiedMatlabName"},additionalInformation:"Please see PTH-2918 to track the issue"});var v=this._convertLocationToPackage(s.location),T=this.getFileNameNoExtension(s.name);return v+T}},{key:"getPathForPublish",value:function(s,v){var T;return s.location.indexOf("+")>-1?T=this.getFullyQualifiedMatlabName(s):(v?T=s.location.replace(r,v):T=s.location,T=T+s.name),T}},{key:"convertToPublishURLFromMATLABDriveURL",value:function(s,v){if(s.indexOf(r+this.USER_PUBLISHED_DIR)===0)return s.replace(r,v)}},{key:"areFilesEqual",value:function(s,v){return this.pathFromFileInfo(s)===this.pathFromFileInfo(v)}},{key:"convertPathToRowClass",value:function(s){return s.replace(/[/.]/g,"_")}},{key:"_convertLocationToPackage",value:function(s){s=this.normalizeLocation(s);var v=this.getPackageStartFromLocation(s);if(v<0)return"";var T=this.getFileSeparator(s),R=s.substring(v+1,s.length);return R.replace(/\+/g,"").replace(new RegExp("\\"+T,"g"),".")}},{key:"isShareable",value:function(s){return s.location===this.USERS_DIR_PATH?!1:(s[f]&&h.warn("Attempting to call isShareable on a fake FileInfo object"),s.shareAttributes&&s.shareAttributes.canProduceShare!==void 0?s.shareAttributes.canProduceShare:s.isDirectory&&!(s.parent&&s.parent.pathId==="ROOT"))}},{key:"isUserSharedDirectoryPath",value:function(s){return s.match(this.USER_SHARED_DIR_PATH_PATTERN)}},{key:"isInUsersSharedDirectory",value:function(s){return s.search(this.IN_USER_SHARED_DIR_PATTERN)!==-1}},{key:"isCurrentFolderInPath",value:function(s,v){return v.search(s)!==-1}},{key:"isVersioned",value:function(s){return s[f]&&h.warn("Attempting to call isVersioned on a fake FileInfo object"),!s.isDirectory&&this.isWritable(s)&&this.isMatlabEditorOpenType(s)}},{key:"isWritable",value:function(s){return s[f]&&h.warn("Attempting to call isWritable on a fake FileInfo object"),s&&s.filePermissions&&s.filePermissions.canWrite}},{key:"isLiveScriptFile",value:function(s){return this.getFileNameExtension(s)===this.LIVE_SCRIPT_EXTENSION}},{key:"isPlainCodeFile",value:function(s){return this.getFileNameExtension(s)===this.MATLAB_CODE_FILE_EXTENSION}},{key:"canRename",value:function(s){return!s||s.parent&&s.parent.pathId==="ROOT"||s.parent&&s.name===this.USER_PUBLISHED_DIR&&s.parent.parent.pathId==="ROOT"?!1:this.isWritable(s)}},{key:"canDelete",value:function(s){return this.canRename(s)}},{key:"canDownload",value:function(s){return!s||(s[f]&&h.warn("Attempting to call canDownload on a fake FileInfo object"),s.name&&this.getFileNameExtension(s.name).toLocaleLowerCase()==="mln")?!1:!s.isDirectory}},{key:"_fileInfoNameMatchesRegExp",value:function(s,v){var T=!1;return s&&s.name&&(T=this._fileNameMatchesRegExp(s.name,v)),T}},{key:"_fileNameMatchesRegExp",value:function(s,v){var T=this._getCaseInsensitiveRegExp(v);return typeof s=="string"&&T.test(s)}},{key:"_getCaseInsensitiveRegExp",value:function(s){var v;return s instanceof RegExp?v=new RegExp(s.source,"i"):v=new RegExp(s,"i"),v}},{key:"assertIsFile",value:function(s){if(A.deprecated({deprecated:{module:"mw-filename-utils/FileNameUtil",method:"assertIsFile"},replacement:{module:"mw-filename-utils/FileNameUtil",method:"assertAndUpdateFile"},additionalInformation:"method will be removed in 21b"}),!this.isFile(s))throw new Error("MW.utils.FileNameUtil: the object is not a 'File'. "+JSON.stringify(s))}},{key:"isFile",value:function(s){return Object.prototype.hasOwnProperty.call(s,"content")&&Object.prototype.hasOwnProperty.call(s,"fileInfo")&&this.isFileInfo(s.fileInfo)}},{key:"assertIsFileInfo",value:function(s){if(A.deprecated({deprecated:{module:"mw-filename-utils/FileNameUtil",method:"assertIsFileInfo"},replacement:{module:"mw-filename-utils/FileNameUtil",method:"assertAndUpdateFileInfo"},additionalInformation:"method will be removed in 21b"}),!this.isFileInfo(s))throw new Error("MW.utils.FileNameUtil: the object is not a 'FileInfo'. "+JSON.stringify(s))}},{key:"isFileInfo",value:function(s){return Object.prototype.hasOwnProperty.call(s,"location")&&Object.prototype.hasOwnProperty.call(s,"name")&&Object.prototype.hasOwnProperty.call(s,"isDirectory")&&Object.prototype.hasOwnProperty.call(s,"path")}},{key:"normalizeLocation",value:function(s){if(!s||typeof s!="string")return s;var v=this.normalizePath(s);return(v.length===0||v.lastIndexOf(this.getFileSeparator(v))!==v.length-1)&&(v=v+this.getFileSeparator(v)),v}},{key:"createFilePath",value:function(s,v){return this.normalizeLocation(s)+v}},{key:"folderInfoFromPath",value:function(s){var v=this.fileInfoFromPath(s);return v.isDirectory=!0,v.type="folder",v}},{key:"fileInfoFromPath",value:function(s){return g({location:this.locationFromPath(s),name:this.nameFromPath(s),filePermissions:{canWrite:!0},isDirectory:!1,separator:this.getFileSeparator(s),parent:this.getParentPath(s),path:s,type:this.getFileNameExtension(this.nameFromPath(s))},f,!0)}},{key:"pathFromFileInfo",value:function(s){if(s!=null&&s.path)return s.path;if(Object.prototype.hasOwnProperty.call(s,"location")&&Object.prototype.hasOwnProperty.call(s,"name"))return s.location+s.name;throw new Error("MW.utils.FileNameUtil: the object does not have location or name. "+JSON.stringify(s))}},{key:"resolvePathFromFileInfo",value:function(s){return s.resolvedTargetPath||s.path}},{key:"locationFromPath",value:function(s){var v,T,R=this.normalizePath(s),D=this.getFileSeparator(s),S=R.split(D);return S[S.length-1]?(v=S[S.length-1],T=R.slice(0,R.length-v.length)):S[S.length-2]&&(v=S[S.length-2],T=R.slice(0,R.length-v.length-1)),!T&&s===D&&(T=""),T}},{key:"getParentPath",value:function(s){var v=this.locationFromPath(s);return this._getPath(v)}},{key:"_getPath",value:function(s){if(s.length===0)return s;var v=this.getFileSeparator(s);if(s.charAt(s.length-1)!==v)return s;var T=s.length===3&&s.charAt(0).match(/[a-z]/i)&&s.charAt(1)===":"&&s.charAt(2)==="\\";if(T)return s;var R=s==="/";return R?s:s.slice(0,s.length-1)}},{key:"nameFromPath",value:function(s){if(this.locationFromPath(s)==="")return s;var v="",T=this.getFileSeparator(s);s=s.replace(T+T,T);var R=this.normalizePath(s),D=R.split(T);return D[D.length-1]?v=D[D.length-1]:D[D.length-2]&&(v=D[D.length-2]),v}},{key:"createEmptyFileObject",value:function(s,v){return{content:"",fileInfo:this.fileInfoFromPath(this.createFilePath(s,v))}}},{key:"createFileInfoObject",value:function(s,v,T){if(!s||typeof s!="string")throw new Error("MW.utils.FileNameUtil: location is invalid "+s);if(!v||typeof s!="string")throw new Error("MW.utils.FileNameUtil: fileName is invalid "+v);if(typeof T>"u")throw new Error("MW.utils.FileNameUtil: isDirectory is undefined "+T);return g({location:s,name:v,path:s+v,isDirectory:T},f,!0)}},{key:"assertAndUpdateFile",value:function(s){if(!s||!Object.prototype.hasOwnProperty.call(s,"content")||!Object.prototype.hasOwnProperty.call(s,"fileInfo"))throw new Error("MW.utils.FileNameUtil: the object is not a valid 'File'");var v=s;return v.fileInfo=this.assertAndUpdateFileInfo(s.fileInfo),v}},{key:"assertAndUpdateFileInfo",value:function(s){if(!s||!(Object.prototype.hasOwnProperty.call(s,"location")&&Object.prototype.hasOwnProperty.call(s,"name")||Object.prototype.hasOwnProperty.call(s,"path"))||!Object.prototype.hasOwnProperty.call(s,"isDirectory"))throw new Error("MW.utils.FileNameUtil: the object is not a valid 'FileInfo'. "+JSON.stringify(s));var v=s.name,T=s.location,R=s.path;R&&!v&&(v=this.nameFromPath(R)),R&&!T&&(T=this.locationFromPath(R)),!R&&typeof T<"u"&&T!==null&&v&&(R=T+v);var D=s;return D.location=T,D.name=v,D.path=R,D}},{key:"remoteFile",value:function(s){var v=s;return this.isFile(s)&&this.isFileInfo(s.fileInfo)&&(v={content:s.content,fileInfo:this.remoteFileInfo(s.fileInfo)}),v}},{key:"remoteFileInfo",value:function(s){var v=s;return this.isFileInfo(s)&&(v=g({location:s.location,name:s.name,isDirectory:s.isDirectory,path:this.pathFromFileInfo(s)},f,!0)),v}},{key:"extractSelectedFileName",value:function(s){if(!s||s===""||s.length<1)return"";var v=this.getFileSeparator(s);return s.lastIndexOf(v)<0?s:s.substring(s.lastIndexOf(v)+1,s.length)}},{key:"isBrowserType",value:function(s){return!!this.checkFileInfoExtension(s,this.BROWSER_TYPES)}},{key:"isLoadType",value:function(s){return!!this.checkFileInfoExtension(s,this.LOAD_TYPES)}},{key:"isMatlabOpenType",value:function(s){return!!this.checkFileInfoExtension(s,this.MATLAB_OPEN_TYPES)}},{key:"isMatlabEditorOpenType",value:function(s){return!(this.checkFileInfoExtension(s,this.BROWSER_TYPES)||this.checkFileInfoExtension(s,this.LOAD_TYPES)||this.checkFileInfoExtension(s,this.MATLAB_OPEN_TYPES))}},{key:"isContainer",value:function(s){var v,T;return s?(s[f]&&h.warn("Attempting to call isContainer on a fake FileInfo object"),s.hasChildren||s.isDirectory||((v=s.name)===null||v===void 0?void 0:v.endsWith(".zip"))||((T=s.name)===null||T===void 0?void 0:T.endsWith(".jar"))):!1}},{key:"MATLAB_FILE_PATTERN",get:function(){return d.MATLAB_FILE_PATTERN}},{key:"USER_DIR_PATH",get:function(){return d.USER_DIR_PATH}},{key:"USERS_DIR_PATH",get:function(){return d.USERS_DIR_PATH}},{key:"USER_PUBLISHED_DIR",get:function(){return d.USER_PUBLISHED_DIR}},{key:"USER_SHARED_DIR_PATH_PATTERN",get:function(){return d.USER_SHARED_DIR_PATH_PATTERN}},{key:"IN_USER_SHARED_DIR_PATTERN",get:function(){return d.IN_USER_SHARED_DIR_PATTERN}},{key:"BROWSER_TYPES",get:function(){return d.BROWSER_TYPES}},{key:"LOAD_TYPES",get:function(){return d.LOAD_TYPES}},{key:"MATLAB_OPEN_TYPES",get:function(){return d.MATLAB_OPEN_TYPES}},{key:"LIVE_SCRIPT_EXTENSION",get:function(){return d.LIVE_SCRIPT_EXTENSION}},{key:"MATLAB_CODE_FILE_EXTENSION",get:function(){return d.MATLAB_CODE_FILE_EXTENSION}},{key:"FILENAME_PATTERN",get:function(){return d.FILENAME_PATTERN}},{key:"MATLAB_EXTENSION_PATTERN",get:function(){return d.MATLAB_EXTENSION_PATTERN}},{key:"MATLAB_FILENAME_PATTERN",get:function(){return d.MATLAB_FILENAME_PATTERN}},{key:"MATLAB_NAME_LENGTH",get:function(){return d.MATLAB_NAME_LENGTH}},{key:"FILE_NAME_LENGTH",get:function(){return d.FILE_NAME_LENGTH}}]),d}();g(p,"MATLAB_FILE_PATTERN",/^[a-z][a-z0-9_]*\.m$/i),g(p,"USER_DIR_PATH","users/"),g(p,"USERS_DIR_PATH","/users/"),g(p,"USER_PUBLISHED_DIR","Published"),g(p,"USER_SHARED_DIR_PATH_PATTERN","^"+r+"Shared$"),g(p,"IN_USER_SHARED_DIR_PATTERN","^"+r+"Shared/*"),g(p,"BROWSER_TYPES",["htm","html","pdf","doc","docx","dot","dotx","rtf","docm","dotm","xls","asv","dat","exe","dll","zip"]),g(p,"LOAD_TYPES",["mat"]),g(p,"MATLAB_OPEN_TYPES",["fig","tif","png","jpg","jpeg","gif","au","bmp","mlx","xlsx"]),g(p,"LIVE_SCRIPT_EXTENSION","mlx"),g(p,"MATLAB_CODE_FILE_EXTENSION","m"),g(p,"FILENAME_PATTERN",/^[^"/*:><?\\|]+$/),g(p,"MATLAB_EXTENSION_PATTERN",/\.(m|mln|mlx)$/i),g(p,"MATLAB_FILENAME_PATTERN",/^[a-z][a-z0-9_]*\.(m|mln|mlx)$/i),g(p,"MATLAB_NAME_LENGTH",63),g(p,"FILE_NAME_LENGTH",128);var b=new p;return Object.defineProperty(b,"createInstance",{value:function(){return new p}}),l.default=b,l.default},E,P),E.exports=M},"mw-html-utils/HtmlUtils":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/io-query"]),t(t.dj.r.absMids["mw-html-utils/_parseHtml/sanitize"]),t(t.dj.r.absMids["mw-deprecation-utils/deprecation"])],M=t.dj.d(y,function(c,A,h){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*"[^"]*\bfont-weight\s*:\s*bold\b[^"]*"/,parseQueryString:function(){var n=window.location.search.substr(1,window.location.search.length);return this._parseQueryString(n)},_parseQueryString:function(n){return c.queryToObject(n)},parseUrl:function(n){var o=document.createElement("a");o.display="none",o.href=n||window.location.href,o.href=o.href;var i={protocol:o.protocol,hostname:o.hostname,port:o.port,pathname:o.pathname,search:o.search,hash:o.hash};return(i.protocol==="https:"||i.protocol==="http:")&&i.pathname.indexOf("/")!==0&&(i.pathname="/"+i.pathname),i.protocol==="https:"&&i.port==="443"&&n.indexOf("https://"+i.hostname+":443")!==0&&(i.port=""),i},escapeHtml:function(n){var o=document.createElement("div");o.textContent=n;var i=o.innerHTML;return i},escapeLinksAndHtml:function(n,o){h.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var i="",m=n.split(this.HYPERLINK_ESCAPE_REGEXP),g=n.match(this.HYPERLINK_ESCAPE_REGEXP),e="",a=this,r=0,f=function(b,d,u,s){var v=a.parseUrl(d).protocol;v!=="http:"&&v!=="https:"&&v!=="matlab:"&&(d="#"),d=a.escapeHtml(d),s=a._strongNotEscaped(s,!0),e='<a href="'+d+'">'+s+"</a>"};if(o)i=this.escapeHtml(n),i=this.escapeWhitespace(i);else if(m[0]!==""&&(i=this._strongNotEscaped(m[0],!0)),g!==null&&g.length!==0)for(r=0;r<g.length;r=r+1)g[r].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,f),m[r+1]!==""&&(m[r+1]=this._strongNotEscaped(m[r+1],!0)),i+=e+m[r+1];return i},treatHtmlLikeCommandWindow:function(n,o,i){if(typeof n!="string")return"";var m="",g=n.split(this.HYPERLINK_ESCAPE_REGEXP),e=n.match(this.HYPERLINK_ESCAPE_REGEXP),a="",r=this,f=0;i=i||{};var p=function(d,u,s,v){var T=r.parseUrl(u).protocol,R="";T!=="http:"&&T!=="https:"&&T!=="matlab:"&&(u="#"),u=r.escapeHtml(u),v=r._strongNotEscaped(v,!1),r.BOLD_LINK_ATTRIBUTE_REGEX.test(s)&&(R=' style="font-weight:bold"'),a='<a href="'+u+'"'+R+">"+v+"</a>"};if(o)m=this.escapeHtml(n);else if(g[0]!==""&&(m=this._strongNotEscaped(g[0],!1)),e!==null&&e.length!==0)for(f=0;f<e.length;f=f+1)e[f].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,p),g[f+1]!==""&&(g[f+1]=this._strongNotEscaped(g[f+1],!1)),m+=a+g[f+1];return i.addPreTagToPreserveWhiteSpace&&(m='<span style="white-space: pre">'+m+"</span>"),m},_strongNotEscaped:function(n,o){var i="",m=n.match(this.STRONG_ESCAPE_REGEXP),g=n.split(this.STRONG_ESCAPE_REGEXP),e=function(f){return f};o&&(e=this.escapeWhitespace);var a=0;if(m!==null&&m.length!==0)for(i=e(this.escapeHtml(g[0])),a=0;a<m.length;a=a+1)i+=m[a]+e(this.escapeHtml(g[a+1]));else i=e(this.escapeHtml(n));return i},escapeWhitespace:function(n){return h.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use <span style="white-space: pre">...</span>'}}),n=n||"",n.replace(/\n/g,"<br>").replace(/ {2}/g,"&nbsp;&nbsp;")},handleAnchors:function(n,o){if(o&&o.target&&o.target.href){o.preventDefault(),o.stopPropagation();var i=o.target.href;if(i.indexOf("matlab:")!==-1){var m=i.substring(0,7);if(m==="matlab:"){var g=o.target.href.substring(7);n(window.decodeURIComponent(g))}}else window.open(o.target.href)}},isElementOverflown:function(n){return n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth},sanitizeHtmlFromJava:A.sanitizeHtmlFromJava,sanitizeHtml:A.sanitizeHtml}},E,P),E.exports=M},"mw-html-utils/_parseHtml/sanitize":(E,P,t)=>{"use strict";var y,M;y=[],M=t.dj.d(y,function(){var c={A:["target","href","title"],ABBR:["title"],ADDRESS:[],AREA:["shape","coords","href","alt"],ARTICLE:[],ASIDE:[],AUDIO:["autoplay","controls","loop","preload","src"],B:[],BDI:["dir"],BDO:["dir"],BIG:[],BLOCKQUOTE:["cite"],BR:[],CAPTION:[],CENTER:[],CITE:[],CODE:[],COL:["align","valign","span","width"],COLGROUP:["align","valign","span","width"],DD:[],DEL:["datetime"],DETAILS:["open"],DIV:[],DL:[],DT:[],EM:[],FONT:["color","size","face"],FOOTER:[],H1:[],H2:[],H3:[],H4:[],H5:[],H6:[],HEADER:[],HR:[],I:[],IMG:["src","alt","title","width","height"],INS:["datetime"],LI:[],MARK:[],NAV:[],OL:[],P:[],PRE:[],S:[],SECTION:[],SMALL:[],SPAN:[],SUB:[],SUP:[],STRONG:[],TABLE:["width","border","align","valign"],TBODY:["align","valign"],TD:["width","rowspan","colspan","align","valign"],TFOOT:["align","valign"],TH:["width","rowspan","colspan","align","valign"],THEAD:["align","valign"],TR:["rowspan","align","valign"],TT:[],U:[],UL:[],VIDEO:["autoplay","controls","loop","preload","src","height","width"]},A=Object.assign(c),h={href:{"http:":!0,"https:":!0,"mailto:":!0,"matlab:":!0,relative:{"#":!0,"/":!0}},src:{"http:":!0,"https:":!0,"mailto:":!0,relative:{"#":!0,"/":!0}}},l=Object.assign(h),n=["backgroundColor","borderBottom","borderBottomColor","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStyle","borderBottomWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRadius","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderSpacing","borderStyle","borderTop","borderTopColor","borderTopLeftRadius","borderTopRightRadius","borderTopStyle","borderTopWidth","borderWidth","color","fontFamily","fontSize","fontStyle","fontWeight","height","lineHeight","margin","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","minHeight","minWidth","overflow","overflowWrap","overflowX","overflowY","padding","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textAnchor","textDecoration","textIndent","textOverflow","textShadow","textTransform","width"],o=[].concat(n);o.push("whiteSpace");var i=function(e,a,r){var f=void 0,p=a.getAttribute("style");if(f=r?n:o,e.style&&p!==null&&p!=="")for(var b=0;b<f.length;b+=1){var d=f[b],u=a.style[d];e.style[d]!==void 0&&(e.style[d]=u)}},m=function(e,a,r,f){return function(p){var b=function(S,x){var j=String.prototype.trim.call(x),L=j.indexOf(":");if(L<0&&S.relative[j.charAt(0)])return j;var U=j.substring(0,L);return S[U+":"]?j:"#"},d=function(S,x){for(var j=[],L=0;L<S.length;L+=1){var U=S[L];if(x.hasAttribute(U)){var F=x.getAttribute(U),I="";a[U]?I=b(a[U],F):I=F,j.push({key:U,value:I})}}return j},u=function(S){var x=void 0;if(S.nodeType===window.Node.ELEMENT_NODE){var j=e[S.tagName];if(j){x=document.createElement(S.tagName);var L=e[S.tagName],U=d(L,S);U.forEach(function(F){x.setAttribute(F.key,F.value)}),r&&i(x,S,f)}else x=document.createDocumentFragment()}else S.nodeType===window.Node.TEXT_NODE?x=document.createTextNode(S.textContent):x=document.createDocumentFragment();return x},s=function D(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=document.createDocumentFragment();if(x>150||!S)return j;for(var L=S.firstChild;L;L=L.nextSibling){var U=u(L);L.nodeType===window.Node.ELEMENT_NODE&&U.appendChild(D(L,x+1)),j.appendChild(U)}return j},v=new DOMParser,T=v.parseFromString(p,"text/html"),R=void 0;return T.body?R=s(T.body):R=document.createDocumentFragment(),R}};return{sanitizeHtmlFromJava:m(c,h,!0,"java"),sanitizeHtml:m(A,l,!0)}},E,P),E.exports=M},"mw-log/Log":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["mw-log/impl/Modes"]),t(t.dj.r.absMids["mw-log/impl/Levels"]),t(t.dj.r.absMids["mw-log/impl/Type"]),t(t.dj.r.absMids["mw-log/impl/Backlog"]),t(t.dj.r.absMids["mw-log/util/LogUtils"])],M=t.dj.d(y,function(c,A,h,l,n){"use strict";var o={};const i="DEFAULT",g=l.create(100),e={debug:4,log:3,dir:3,table:3,trace:3,time:3,timeEnd:3,group:3,groupCollapsed:3,groupEnd:3,info:2,warn:1,assert:0,error:0},a={};let r=0,f=A.DEBUG,p=c.DEVELOPMENT;const b=[],d={};let u=null;class s{constructor(T){if(d[T]!=null)return;n.makeReadOnlyProperty(this,"name",T),d[this.name]=this,this._timers={},this._threshold=A.DEBUG,this._showTimestamp=!0,n.makeReadOnlyProperty(this,"modes",c),n.makeReadOnlyProperty(this,"levels",A);const R=this;typeof window=="object"&&(window.$mwLog={get filter(){return R.filter},set filter(D){R.filter=D},get mode(){return R.mode},set mode(D){R.mode=D}})}static _sanitizeLevel(T){return typeof T=="number"?T:A.DEBUG}static _sanitizeMode(T){return n.objectValues(c).indexOf(T)>-1?T:c.DEVELOPMENT}get threshold(){return this._threshold}set threshold(T){this._threshold=s._sanitizeLevel(T)}get showTimestamp(){return this._showTimestamp}set showTimestamp(T){this._showTimestamp=!!T}get globalThreshold(){return f}set globalThreshold(T){f=s._sanitizeLevel(T)}get mode(){return p}set mode(T){T&&(p=s._sanitizeMode(T))}get filter(){return u}set filter(T){(typeof T=="function"||T===null)&&(u=T)}_shouldLog(T,R){if(u&&p===c.DEVELOPMENT){const D={name:this.name,type:R};return!!u(D)}return f>T&&this._threshold>T}_nameAndTime(){const T=[];return this.name!==i&&T.push(this.name),this._showTimestamp&&T.push(n.currentTimeString()),T}table(T){if(this._shouldLog(e.table,h.TABLE)){const R={namespace:this.name,type:h.TABLE,message:[T],time:new Date};g.add(R),n.printToConsole(h.LOG,this._nameAndTime(),p),n.printToConsole(h.TABLE,[T],p),n.execCallbacks(a,R)}}trace(){if(this._shouldLog(e.trace,h.TRACE)){const T={namespace:this.name,type:h.TRACE,message:null,time:new Date};let D=new Error().stack.split(`
`);for(D[0]==="Error"&&D.shift();D[0].includes("Log.js")||D[0].includes("logger.trace")||D[0].includes("trace");)D.shift();D=D.join(`
`),T.message=[D],g.add(T),n.printToConsole(h.LOG,this._nameAndTime(),p),n.printToConsole(h.TRACE,[],p),n.execCallbacks(a,T)}}time(T){this._shouldLog(e.time)&&(this._timers[T]==null?this._timers[T]=new Date().getTime():this.warn('timer "'+T+'" already exists.'))}timeEnd(T){if(this._shouldLog(e.timeEnd,h.TIME_END)){const R={namespace:this.name,type:h.TIME_END,message:null,time:new Date};if(this._timers[T]!=null){const D=new Date().getTime()-this._timers[T];R.message=[T+": "+D+"ms - timer ended"],g.add(R),n.printToConsole(h.LOG,this._nameAndTime().concat(R.message),p),n.execCallbacks(a,R),this._timers[T]=null}else this.warn('timer "'+T+`" doesn't exist.`)}}_group(T,R){if(this._shouldLog(e.group,R?h.GROUP_COLLAPSED:h.GROUP)){const D=R?h.GROUP_COLLAPSED:h.GROUP,S={namespace:this.name,type:D,message:[T],time:new Date};b.push(T),g.add(S),n.printToConsole(D,[T],p),n.execCallbacks(a,S)}}groupCollapsed(T){this._group(T,!0)}group(T){this._group(T,!1)}groupEnd(){if(this._shouldLog(e.groupEnd,h.GROUP_END)){const T=b.pop(),R={namespace:this.name,type:h.GROUP_END,message:[T],time:new Date};g.add(R),n.printToConsole(h.GROUP_END,[],p),n.execCallbacks(a,R)}}assert(T,R){if(this._shouldLog(e.assert,h.ASSERT)&&!T){const D={namespace:this.name,type:h.ASSERT,message:["Assertion failed:",R],time:new Date};g.add(D),D.message.shift();const S=[!1].concat(this._nameAndTime().concat(D.message));n.printToConsole(h.ASSERT,S,p),n.execCallbacks(a,D)}}_basicLogMethod(T,R,D){if(this._shouldLog(R,T)){const S={namespace:this.name,type:T,message:D,time:new Date};D=this._nameAndTime().concat(D),g.add(S),n.printToConsole(T,D,p),n.execCallbacks(a,S)}}debug(T){const R=Array.prototype.slice.call(arguments);this._basicLogMethod(h.DEBUG,e.debug,R)}log(T){const R=Array.prototype.slice.call(arguments);this._basicLogMethod(h.LOG,e.log,R)}dir(T){const R=Array.prototype.slice.call(arguments);this._basicLogMethod(h.DIR,e.dir,R)}info(T){const R=Array.prototype.slice.call(arguments);this._basicLogMethod(h.INFO,e.info,R)}warn(T){const R=Array.prototype.slice.call(arguments);this._basicLogMethod(h.WARN,e.warn,R)}error(T){const R=Array.prototype.slice.call(arguments);this._basicLogMethod(h.ERROR,e.error,R)}addCallback(T,R){a[r]=T,R&&g.applyCallback(T);const D={},S=r;return D.remove=()=>{delete a[S]},r++,D}createLogger(T){const R=new s(T);return R.name?R:d[T]}}return o.default=new s(i),o.default},E,P),E.exports=M},"mw-log/impl/Backlog":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["mw-log/util/LogUtils"])],M=t.dj.d(y,function(c){"use strict";var A={};function h(n){const o={},i=[];c.makeReadOnlyProperty(o,"size",n);let m=0;return o.add=function(g){i[m]=g,m=(m+1)%o.size},o.applyCallback=function(g){let e=m+1;i[e]===void 0&&(e=0);let a=0,r=e;for(;a<o.size&&i[r]!==void 0;)g(i[r]),r=(r+1)%n,a++},o}const l={};return l.create=h,A.default=l,A.default},E,P),E.exports=M},"mw-log/impl/Levels":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){"use strict";var c={};const A={DEBUG:5,LOG:4,TABLE:4,TIME:4,DIR:4,INFO:3,WARN:2,ASSERT:1,ERROR:1};return Object.freeze(A),c.default=A,c.default},E,P),E.exports=M},"mw-log/impl/Modes":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){"use strict";var c={};const A={DEVELOPMENT:"DEVELOPMENT",PRODUCTION:"PRODUCTION"};return Object.freeze(A),c.default=A,c.default},E,P),E.exports=M},"mw-log/impl/Type":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){"use strict";var c={};const A={DEBUG:"debug",LOG:"log",TABLE:"table",TRACE:"trace",TIME_END:"timeEnd",GROUP:"group",GROUP_COLLAPSED:"groupCollapsed",GROUP_END:"groupEnd",DIR:"dir",INFO:"info",WARN:"warn",ASSERT:"assert",ERROR:"error"};return Object.freeze(A),c.default=A,c.default},E,P),E.exports=M},"mw-log/util/LogUtils":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["mw-log/impl/Modes"])],M=t.dj.d(y,function(c){"use strict";var A={};const h={};return h.objectValues=function(l){const n=[];for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&n.push(l[o]);return n},h.makeReadOnlyProperty=function(l,n,o){Object.defineProperty(l,n,{value:o,writable:!1})},h.execCallbacks=function(l,n){const o=h.objectValues(l);for(const i in o)o[i](n)},h.currentTimeString=function(){const l=new Date;return l.toLocaleTimeString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"})+"."+l.getTime()%1e3},h.printToConsole=function(l,n,o){(o!==c.PRODUCTION||l==="error")&&console[l].apply(console,n)},A.default=h,A.default},E,P),E.exports=M},"mw-messageservice/MessageService":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance"]),t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceAsync"]),t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"]),t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/messageServiceFactory"]),t(t.dj.r.absMids["mw-remote/Remote"])],M=t.dj.d(y,function(c,A,h,l,n){"use strict";var o={};function i(r,f){const p=f._startFunction||f.start,b=f.stop,d=r._startFunction||r.start,u=r.stop,s=function(){d.call(r,[]),p.call(f,[])},v=function(){b.call(f,[]),u.call(r,[])};f._startFunction?f._startFunction=s:f.start=s,r._startFunction?r._startFunction=s:r.start=s,f.stop=v,r.stop=v}const m=c(new A(n,null,null,null,{instanceType:h.MATLAB_SERVICE_HOST.name})),g=new A(n,null,null,null,{instanceType:h.APP_SERVICE_HOST.name});let e;n.enableServerOnWorkerAsync=function(){},n.disableServerOnWorkerAsync=function(){};const a={};return a[h.APP_SERVICE_HOST.name]=()=>(e||(e=c(g),m.isStarted()&&e.start(),i(m,e)),e),a[h.MATLAB_SERVICE_HOST.name]=()=>m,m.create=function(r){return l(a,r)},o.default=m,o.default},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/MessageServiceAsync":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/config"]),t(t.dj.r.absMids["dojo/Deferred"]),t(t.dj.r.absMids["cometd/cometd"]),t(t.dj.r.absMids["cometd/AckExtension"]),t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"]),t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m,g){"use strict";var e={};const a=l.setTimeout,r=l.clearTimeout,f=2e4,p=30,b=!1;let d=0,u=0;const s={},v=200;setInterval(function(){d+=v,Object.keys(s).forEach(function(S){const x=s[S];x&&x.execTime<=d&&(x.func(),delete s[S])})},v),l.setTimeout=function(S,x){if(x===0)return a(S,x);{u+=1;const j=`t-${u}`;return s[j]={func:function(){try{S()}catch(L){m.warn(`Exception invoking timed function in callback
, this is likely an issue with code calling MessageService`,S,L)}},execTime:d+x},j}},l.clearTimeout=function(S){typeof S=="number"?r(S):delete s[S]};const T=function(S,x,j,L,U){const F=new l.CometD(S);return F.registerExtension("ack",new n),F},R=function(S,x){S.successful?x.resolve(S):(m.warn("Message failed: ",S),x.reject(S))},D=c([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,logCometdSubscriptions:!1,constructor:function(S,x,j,L,U){U=U||{},this.remote=S,this.constructCometD=x||T,this.workerProxyAsyncClient=j||new g("remoteWorkerAsyncProducer");const F=i[U.instanceType];F&&(this.BASE_PREFIX=F.BASE_PREFIX,this.BASE_END_POINT=F.BASE_END_POINT),this.cometdProperties=L||{useWorkerScheduler:!1,stickyReconnect:!0,connectTimeout:5e3,maxConnections:2,backoffIncrement:2e3,maxBackoff:2e3,logLevel:"warn",maxNetworkDelay:f,requestHeaders:{},appendMessageTypeToURL:!1,autoBatch:!0,urls:{},maxURILength:2e3,maxSendBayeuxMessageSize:Number.MAX_SAFE_INTEGER};const I=["maxNetworkDelay","connectTimeout","logLevel"],O=A.cometdProperties;if(O)for(let N=0;N<I.length;N+=1){const W=I[N];O[W]!==void 0&&(this.cometdProperties[W]=O[W])}this.subscriptions={},this.recentMessages=[],this._deferredCleanupFunction=()=>{this._deferredCleanup=!1,this.recentMessages=[]},this.routingHost=D.workerHostOverride||this.remote.getWorkerRoutingHost(),this.routingKey=this.remote.getWorkerRoutingKey(),this.computeToken=this.remote.getComputeSessionId();const B=this.remote.getEndPointByName("WORKER_ASYNC_ENDPOINT");this.withCredentials=B?B.withCredentials:!1;const H=this._setUpEndPoint();this.computeToken&&(H.computeToken=this.computeToken),this.cometdProperties.url=H.url,this.cometdProperties.requestHeaders={computeToken:H.computeToken},this.cometd=null,this._connectedAtLeastOnce=!1,this.logCometdLifecycle&&m.info("MessageServiceAsync will construct new cometd instance when connecting.")},onMessage:function(S){},onConnectionError:function(){},onConnectionFails:function(){},onConnectionSuccess:function(){},connect:function(S){this.routingHost=D.workerHostOverride||this.remote.getWorkerRoutingHost(),this.routingKey=this.remote.getWorkerRoutingKey(),this.computeToken=this.remote.getComputeSessionId();const x=this.remote.getEndPointByName("WORKER_ASYNC_ENDPOINT");this.withCredentials=x?x.withCredentials:!1;const j=this._setUpEndPoint();this.computeToken&&(j.computeToken=this.computeToken),this.cometdProperties.url=j.url,this.cometdProperties.requestHeaders={computeToken:j.computeToken},this.cometd||(this.cometd=this.constructCometD("messageService",this.workerProxyAsyncClient,{websocket:D.enableWebsocket},j,this.remote),this.registerTransports({websocket:D.enableWebsocket}),this.logCometdLifecycle&&m.info("MessageServiceAsync constructing new cometd instance."));const L=new h;let U=0;return this.cleanupListeners(),this._handshakeHandle=this.cometd.addListener("/meta/handshake",F=>{if(F.successful===!0){U=0;let I,O;const B=[];this.doStartBatch();for(I in S)Object.prototype.hasOwnProperty.call(S,I)&&(O=S[I],B.push(this.doSubscribe(I)),O.subscribed=!0);this.doEndBatch(),Promise.all(B).then(H=>{this._connectedAtLeastOnce=!0,L.isFulfilled()?this.cometd&&this.onConnectionSuccess():L.resolve(H)},()=>{let H,N;const W=[];this.doStartBatch();for(H in S)Object.prototype.hasOwnProperty.call(S,H)&&(N=S[H],W.push(this.doSubscribe(H)),N.subscribed=!0);this.doEndBatch(),Promise.all(W).then(Y=>{this._connectedAtLeastOnce=!0,L.isFulfilled()?this.cometd&&this.onConnectionSuccess():L.resolve(Y)},Y=>{L.reject(Y)})})}}),this._connectHandle=this.cometd.addListener("/meta/connect",F=>{F.successful===!0&&(U>0&&this.cometd&&this.onConnectionSuccess(),U=0)}),this._unsuccessHandle=this.cometd.addListener("/meta/unsuccessful",F=>{if((F.channel==="/meta/handshake"||F.channel==="/meta/connect"||F.advice&&F.advice.reconnect==="handshake")&&U<p)U+=1,U===1&&this.onConnectionError();else if(F.channel==="/meta/disconnect")L&&!L.isFulfilled()&&L.reject(F);else if(U>=p){const I=this.doDisconnect();this._connectedAtLeastOnce||I.catch(()=>{m.info("MessageService never got connected to the server, and the attempt to disconnect also fails. Suppressing console error with this info log")}),L&&!L.isFulfilled()?L.reject(F):this.onConnectionFails()}}),this.cometd.init(this.cometdProperties),L.promise},registerTransports:function(S){const x=new l.LongPollingTransport;x.accept=()=>!0;const j=new l.WebSocketTransport;this.cometd.unregisterTransports(),S[o.WEBSOCKET]&&this.cometd.registerTransport(o.WEBSOCKET,j,0),this.cometd.registerTransport(o.LONG_POLLING,x,1)},disconnect:function(){this.logCometdLifecycle&&m.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());const S=this._createOneShotMessagePromise("/meta/disconnect");return this.cometd.disconnect(),S},destructCometd:function(){this.cometd&&(this.cleanupListeners(),this.cometd=null,this.logCometdLifecycle&&m.info("MessageServiceAsync destroying cometd instance."))},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&m.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect())},cleanupListeners:function(){this._handshakeHandle&&this.cometd.removeListener(this._handshakeHandle),this._connectHandle&&this.cometd.removeListener(this._connectHandle),this._unsuccessHandle&&this.cometd.removeListener(this._unsuccessHandle)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected()&&this.cometd.getStatus()!=="handshaking":!1},doPublish:function(S,x){const j=new h;return this.cometd.publish(this._getRequestChannel(S),x,{},function(L){R(L,j)}),j.promise},doSubscribe:function(S){this.logCometdSubscriptions&&m.info("MessageServiceAsync subscribing cometd to channel: "+S);const x=this._createOneShotMessagePromise("/meta/subscribe");return this.subscriptions[S]=this.cometd.subscribe(this._getRequestChannel(S),this,this._handleCometResponse),x},doDisconnect:function(){this.logCometdSubscriptions&&m.info("MessageServiceAsync sending disconnect to cometd");const S=this._createOneShotMessagePromise("/meta/disconnect");return this.cometd.disconnect(!0),S},doUnsubscribe:function(S){if(this.subscriptions[S]){this.logCometdSubscriptions&&m.info("MessageServiceAsync unsubscribing cometd from channel: "+S);const x=this._createOneShotMessagePromise("/meta/unsubscribe");return this.cometd.unsubscribe(this.subscriptions[S]),delete this.subscriptions[S],x}else return new h().resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(S){this.workerProxyAsyncClient.setLatency(S)},doSetErrorRate:function(S){this.workerProxyAsyncClient.setErrorRate(S)},getTransport:function(){return this.cometd&&!this.cometd.isDisconnected()?this.cometd.getTransport().getType():o.UNKNOWN},_handleCometResponse:function(S){this._shouldHandleMessage(S)&&this.onMessage(this._stripBasePrefixAndConvertToJson(S))},_shouldHandleMessage:function(S){return S.id?!1:this.recentMessages.indexOf(S)<0?(this.recentMessages.push(S),this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(S){const x=new h;return this._addOneShotListener(S,function(j){R(j,x)}),x.promise},_addOneShotListener:function(S,x){const j=this,L=this.cometd,U=this.cometd.addListener(S,function(F){L.removeListener(U),x.apply(j,arguments)})},_setUpEndPoint:function(){let S,x=!1;const j="MESSAGE_SERVICE_ASYNC_ENDPOINT",L=!0,U=!0;let F;return b&&typeof this.remote.sendPayload=="function"?(x=!0,this.remote.createNewEndPoint(j,L,this.BASE_END_POINT,"remoteWorkerAsyncProducer",U),this.remote.setServiceEndPoint(j,this.routingHost,this.routingKey),S=this.remote.getUrlForEndPoint(j),F=this.remote.getEndPointAllowsDirectXhr(j)):(S=this.routingHost||"/",S.slice(-1)!=="/"&&(S+="/"),S+=this.BASE_END_POINT,this.routingKey&&(S+="?routingkey="+this.routingKey)),{remoteSupportsSendPayload:x,url:S,endPointName:j,endPointAllowsDirectXhr:F}},_getRequestChannel:function(S){return this.BASE_PREFIX+S},_stripBasePrefixAndConvertToJson:function(S){return{channel:S.channel.substring(this.BASE_PREFIX.length),data:S.data}}});return D.enableWebsocket=!1,D.workerHostOverride=!1,window.location.search.indexOf("websocket=on")>=0&&(D.enableWebsocket=!0),e.default=D,e.default},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/MessageServiceBase":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/aspect"]),t(t.dj.r.absMids["dojo/Deferred"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceState"]),t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/isValidChannel"]),t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m){"use strict";var g={};return g.default=c([o],{logSubscriptions:!1,constructor:function(){this.batching=!0,this.typeSerializers=[],this.typeDeserializers={},this.channelSubscriptions={},this._queuedOps=[],this._hasConnected=!1},setDelegate:function e(a){this.inherited("setDelegate",e,arguments),h.after(this._delegate,"onMessage",A.hitch(this,this.handleMessage),!0)},publish:function(e,a){if(!i(e))throw new Error(`Illegal argument: invalid channel name ${e}`);if(this.isConnected()){const r=this._queuePublish(e,this.serialize(a));return this._deferProcessQueue(),r}else return this._queuePublish(e,this.serialize(a))},subscribe:function(e,a,r){if(!i(e))throw new Error(`Illegal argument: invalid channel name ${e}`);this.logSubscriptions&&n.info("MessageService subscribe: "+e,a,r);const f=this._queueSubscribe(e,a,r);return this._addHandler(this.channelSubscriptions,e,a,r),f.catch(()=>{f.isCanceled()||this._removeHandler(this.channelSubscriptions,e,a,r)}),this.isConnected()&&this._deferProcessQueue(),f},unsubscribe:function(e,a,r){if(!i(e))throw new Error(`Illegal argument: invalid channel name ${e}`);if(this.logSubscriptions&&n.info("MessageService unsubscribe: "+e,a,r),this._removeHandler(this.channelSubscriptions,e,a,r)){if(this._removeQueuedMatchingSubscribe(e,a,r))return new l().resolve();if(this.isConnected()){const p=this._queueUnsubscribe(e,a,r);return this._deferProcessQueue(),p}else return new l().resolve()}else return n.error("Not subscribed to channel: "+e+", can't unsubscribe."),new l().reject("Not subscribed to channel: "+e+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw new Error("Can only manually flush the queue when connected.")},setLatency:function(e){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(e)},setErrorRate:function(e){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(e)},getTransport:function(){return this._delegate&&this._delegate.getTransport?this._delegate.getTransport():m.UNKNOWN},_enterDisconnected:function e(){this.inherited("_enterDisconnected",e,arguments),this._rejectQueue()},_enterConnecting:function e(){this.inherited("_enterConnecting",e,arguments),Object.keys(this.channelSubscriptions).forEach(a=>{this.channelSubscriptions[a].subscribed=!1})},_enterConnected:function e(){this._hasConnected=!0,this.inherited("_enterConnected",e,arguments),this._processQueue()},_enterDisconnecting:function e(){this._processQueue(),this.inherited("_enterDisconnecting",e,arguments)},_enterFatallyDisconnected:function e(){this.inherited("_enterFatallyDisconnected",e,arguments),this._rejectQueue()},_queuePublish:function(e,a){const r=new l;return this._queuedOps.push({type:"publish",channel:e,data:a,deferred:r}),r.promise},_queueSubscribe:function(e,a,r){const f=new l;return this._queuedOps.push({type:"subscribe",channel:e,handler:a,scope:r,deferred:f}),f.promise},_removeQueuedMatchingSubscribe:function(e,a,r){let f;for(let p=this._queuedOps.length-1;p>=0;p-=1)if(f=this._queuedOps[p],f.type==="subscribe"&&f.channel===e&&f.handler===a&&f.scope===r){this._queuedOps.splice(p,1);const b=this._delegate&&this._delegate.delegateConnected();return this.isConnected()&&b&&f.deferred.resolve(),!0}},_queueUnsubscribe:function(e,a,r){const f=new l;return this._queuedOps.push({type:"unsubscribe",channel:e,handler:a,scope:r,deferred:f}),f.promise},_processQueue:function(){const e=this._delegate&&this._delegate.delegateConnected();if(!(this.isConnected()&&e)&&this._currentState!=="disconnecting")return;this._delegate.doStartBatch();const r=this._queuedOps;this._queuedOps=[],r.forEach(function(f){let p;f.type==="publish"?p=this._delegate.doPublish(f.channel,f.data):f.type==="subscribe"?p=this._doSubscribe(f.channel,f.handler,f.scope):f.type==="unsubscribe"&&(p=this._doUnsubscribe(f.channel,f.handler,f.scope)),p.then(f.deferred.resolve,f.deferred.reject)},this),this._delegate.doEndBatch()},_rejectQueue:function(){if(this._hasConnected){for(let e=0;e<this._queuedOps.length;e+=1)this._queuedOps[e].deferred.reject(new Error("MessageService disconnected. Discarding queued message"));this._queuedOps=[]}this._hasConnected=!1},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){const e=this;this._deferredTimeout=setTimeout(function(){e._deferredTimeout=!1,e._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(e){if(this.channelSubscriptions[e].subscribed)return new l().resolve();{const a=this._delegate.doSubscribe(e);return this.channelSubscriptions[e].subscribed=!0,a.catch(()=>{this.channelSubscriptions[e].subscribed=!1}),a}},_doUnsubscribe:function(e){return this.channelSubscriptions[e]?new l().resolve():this._delegate.doUnsubscribe(e)},handleMessage:function(e){let a;if(e&&e.channel){e.data&&(e.data=this.deserialize(e.data));const r=e.channel.split("/");for(a=1;a<=r.length;a+=1)this._callHandlers(this.channelSubscriptions,r.slice(0,a).concat("**").join("/"),e);this._callHandlers(this.channelSubscriptions,r.slice(0,r.length-1).concat("*").join("/"),e),this._callHandlers(this.channelSubscriptions,r.concat("*").join("/"),e),this._callHandlers(this.channelSubscriptions,e.channel,e)}},registerMessageHandler:function(e,a,r){n.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(e,a,r){n.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(e,a,r){this.typeSerializers.push({typeMatcher:e,type:a,serializer:r})},registerTypeDeserializer:function(e,a){this.typeDeserializers[e]=a},serialize:function(e){return Array.isArray(e)?this._serializeArray(e):e==null||typeof e=="number"||typeof e=="boolean"||A.isString(e)?e:this._serializeObject(e)},deserialize:function(e){return Array.isArray(e)?this._deserializeArray(e):typeof e=="number"||typeof e=="boolean"||A.isString(e)?e:this._deserializeObject(e)},_addHandler:function(e,a,r,f){if(f=f||this,typeof r=="string"&&typeof f[r]!="function"){n.warn("Not adding invalid handler: "+r);return}let p=e[a];p||(p=[],e[a]=p);const b={channel:a,handler:r,scope:f};p.push(b),p.sort(function(d){return d.exclusive?-1:0})},_removeHandler:function(e,a,r,f){f=f||this;const p=e[a],b=this._getHandlerIndex(p,{handler:r,scope:f});return b>=0&&p.splice(b,1),(!p||p.length===0)&&delete e[a],b>=0},_callHandlers:function(e,a,r){let f,p;if(Object.prototype.hasOwnProperty.call(e,a))for(f=e[a],p=0;p<f.length;p+=1)try{typeof f[p].handler=="string"?f[p].scope[f[p].handler].call(f[p].scope,r):f[p].handler.call(f[p].scope,r)}catch(b){n.error("Error while executing message handler on channel: "+a+", message: "+JSON.stringify(r,null,2)+", error: ",b)}},_getHandlerIndex:function(e,a){if(!e)return-1;let r;for(r=0;r<e.length;r+=1)if(a.handler===e[r].handler&&a.scope===e[r].scope)return r;return-1},_serializeObject:function(e){let a;for(a=0;a<this.typeSerializers.length;a+=1){const f=this.typeSerializers[a];if(f.typeMatcher(e))return{__type__:f.type,__value__:f.serializer.call(this,e)}}if(e instanceof window.Image)return e;const r={};for(const f in e)Object.prototype.hasOwnProperty.call(e,f)&&(r[f]=this.serialize(e[f]));return r},_serializeArray:function(e){const a=Array.from(e);let r;const f=a.length;for(r=0;r<f;r+=1)a[r]=this.serialize(a[r]);return a},_deserializeObject:function(e){let a;if(e==null)return null;if(Object.prototype.hasOwnProperty.call(e,"__type__")&&Object.prototype.hasOwnProperty.call(e,"__value__"))try{return this.typeDeserializers[e.__type__].call(this,e.__value__)}catch(r){n.error("Error while trying to deserialize: ",e,"Error: ",r)}for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==null&&e[a]!==void 0&&(e[a]=this.deserialize(e[a]));return e},_deserializeArray:function(e){let a;const r=e.length;for(a=0;a<r;a+=1)e[a]=this.deserialize(e[a]);return e}}),g.default},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/MessageServiceState":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/Evented"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/aspect"]),t(t.dj.r.absMids["mw-statemachine/StateMachine"]),t(t.dj.r.absMids["mw-log/Log"])],M=t.dj.d(y,function(c,A,h,l,n,o){"use strict";var i={};return i.default=c([A],{logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"connected",_connectFailure:"fatallyDisconnected",stop:"disconnected"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"connecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,stop:"disconnected"}}}}},setDelegate:function(m){this._delegate!==m&&(this._delegate=m,this._states=new n(this._stateOptions),l.after(this._states,"onEnterState",h.hitch(this,this._enterState),!0),this._states.start());const g=this;l.after(this._delegate,"onConnectionError",function(){g._changeStateToConnecting()},!0),l.after(this._delegate,"onConnectionFails",function(){g._currentState="fatallyDisconnected",g._enterFatallyDisconnected()},!0),l.after(this._delegate,"onConnectionSuccess",function(){g._currentState="connected",g._enterConnected()},!0)},_changeStateToConnecting:function(){o.info("something wrong with connection, so changing state to connecting now, cometd is trying to connect again on its own"),this._currentState="connecting",this.onNotConnected()},onConnected:function(){this.emit("connected")},onNewlyConnected:function(){},onDisconnected:function(){this.emit("disconnected")},onReconnected:function(){this.emit("reconnected")},onFatallyDisconnected:function(){this.emit("fatallyDisconnected")},onNotConnected:function(){this.emit("notConnected")},isStarted:function(){return this._currentState!=="disconnecting"&&this._currentState!=="disconnected"},isConnected:function(){return this._currentState==="connected"},isFatallyDisconnected:function(){return this._currentState==="fatallyDisconnected"},isDisconnected:function(){return this._currentState==="disconnected"},start:function(){this._forceStop=!1},stop:function(){this._forceStop=!0},_enterState:function(m){const g=this._currentState;this._currentState=m,this.logStateChanges&&o.info("MessageService state change: "+g+" -> "+m),g==="connected"&&this.onNotConnected(),m==="connected"&&this._previouslyConnected?this.onReconnected():m==="connected"&&!this._previouslyConnected&&this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1,this._delegate.cleanup(),this._forceStop&&this._delegate.destructCometd(),this.onDisconnected()},_enterConnecting:function(){this._delegate.cleanup(),this._delegate.connect(this.channelSubscriptions).then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&o.info("MessageService timeout:",arguments)},_enterConnected:function(){this._previouslyConnected&&o.info("Successfully connected."),this._previouslyConnected=!0,this.onConnected()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}}),i.default},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/aspect"]),t(t.dj.r.absMids["dojo/on"]),t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceBase"])],M=t.dj.d(y,function(c,A,h,l){"use strict";var n={};return n.default=function(i){const m=new l,g={messageService:m,subscribe:c.hitch(m,"subscribe"),unsubscribe:c.hitch(m,"unsubscribe"),publish:c.hitch(m,"publish"),start:c.hitch(m,"start"),stop:c.hitch(m,"stop"),isRunning:c.hitch(m,"isStarted"),isStarted:c.hitch(m,"isStarted"),isConnected:c.hitch(m,"isConnected"),isFatallyDisconnected:c.hitch(m,"isFatallyDisconnected"),isDisconnected:c.hitch(m,"isDisconnected"),setLatency:c.hitch(m,"setLatency"),setErrorRate:c.hitch(m,"setErrorRate"),getTransport:c.hitch(m,"getTransport"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},on:function(e,a){return h(this.messageService,e,a)},handleMessage:c.hitch(m,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start,this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};return A.after(m,"onConnected",c.hitch(g,"onConnected"),!0),A.after(m,"onDisconnected",c.hitch(g,"onDisconnected"),!0),A.after(m,"onReconnected",c.hitch(g,"onReconnected"),!0),A.after(m,"onFatallyDisconnected",c.hitch(g,"onFatallyDisconnected"),!0),A.after(m,"onNotConnected",c.hitch(g,"onNotConnected"),!0),m.setDelegate(i),g},n.default},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/instanceEnums":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){"use strict";var c={};return c.default={APP_SERVICE_HOST:{name:"APP_SERVICE_HOST",BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async/blue"},MATLAB_SERVICE_HOST:{name:"MATLAB_SERVICE_HOST",BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async"}},c.default},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/isValidChannel":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["cometd/cometd"])],M=t.dj.d(y,function(c){"use strict";var A={};function h(g){return c.Utils.isString(g)}function l(g){return g>="A"&&g<="Z"?!0:g>="a"&&g<="z"}function n(g){return g>="0"&&g<="9"}function o(g){switch(g){case" ":case"!":case"#":case"$":case"(":case")":case"*":case"+":case"-":case".":case"/":case"@":case"_":case"{":case"~":case"}":case":":case"\\":case",":return!0;default:return!1}}function i(g){if(!h(g)||g.length<2||g.charAt(0)!=="/")return!1;for(let e=1;e<g.length;++e){const a=g.charAt(e);if(!(l(a)||n(a)||o(a)))return!1}return!0}const m=function(g){return i("/matlab"+g)};return A.default=m,A.default},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/messageServiceFactory":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"])],M=t.dj.d(y,function(c){"use strict";var A={};const h=/AppServiceHost/i,l=o=>o.serviceName.match(h)!==null,n=(o,i)=>l(i)?o[c.APP_SERVICE_HOST.name]():o[c.MATLAB_SERVICE_HOST.name]();return A.default=function(i,m){if(m.serviceName){if(!m.serviceName.length||m.serviceName.length<5)throw new Error("serviceName must be longer than 4 characters")}else throw new Error("Must provide a serviceName");const g=n(i,m),e={};return["subscribe","unsubscribe","publish","isStarted","isConnected","isFatallyDisconnected","isDisconnected","setLatency","setErrorRate","getTransport","on","onConnected","onDisconnected"].forEach(a=>{e[a]=g[a].bind(g)}),e.messageService=g.messageService,e},A.default},E,P),E.exports=M},"mw-messageservice/messageserviceimpl/transportEnums":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){"use strict";var c={};return c.default={UNKNOWN:"unknown",LONG_POLLING:"long-polling",WEBSOCKET:"websocket"},c.default},E,P),E.exports=M},"mw-remote/EndPointsManager":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/array"]),t(t.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"]),t(t.dj.r.absMids["mw-remote/utils/SecurityUtils"])],M=t.dj.d(y,function(c,A,h,l){return c([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:["RouterLogin","CreateAccount","CurrentUser","Login","UpdateAccount","ServiceRegistry","ClientType","AuthorizationDetails","AcquireMatlab"],iframeProxyName:"remoteProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],iframeProxyName:"remoteWorkerAsyncProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",withCredentials:!1,acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",withCredentials:!1,acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(o,i,m,g,e){this.endPointsCollection[o]={routingHost:"",routingKey:"",pathSuffix:m,enabled:i,messages:[],iframeProxy:null,iframeProxyName:g,acceptsMessageContainerMessages:e}},getPathSuffixForEndPoint:function(o){return this.endPointsCollection[o].pathSuffix},setPathSuffixForEndPoint:function(o,i){this.endPointsCollection[o].pathSuffix=i},getEndPointNames:function(){const o={};let i;for(i in this.endPointsCollection)Object.prototype.hasOwnProperty.call(this.endPointsCollection,i)&&(o[i]=i);return o},setRoutingHostAndRoutingKey:function(o,i,m){if(i&&i.lastIndexOf("/")!==i.length-1&&(i+="/"),!l.isAllowed(i))throw new Error("Insecure endpoint.");this.endPointsCollection[o].routingHost=i,m&&(this.endPointsCollection[o].routingKey=m),this._setIframeRoutingHostAndRoutingkey(o)},_setIframeRoutingHostAndRoutingkey:function(o){const i=this.getIframeProxyClientForEndPoint(o);i&&i.setRemotePageHost(this.endPointsCollection[o].routingHost,this.endPointsCollection[o].routingKey,null,this.endPointsCollection[o].iframeProxyUrl,{withCredentials:this.endPointsCollection[o].withCredentials})},getRoutingHost:function(o){return this.endPointsCollection[o].routingHost},getRoutingKey:function(o){return this.endPointsCollection[o].routingKey},getMessageTypesMappedToEndPoint:function(o){return this.endPointsCollection[o].messages},isEndPointEnabled:function(o){return this.endPointsCollection[o].enabled},setMessageTypesToEndPoint:function(o,i){this.endPointsCollection[o].messages=i},enableEndPoint:function(o){this.endPointsCollection[o].enabled=!0},disableEndPoint:function(o){this.endPointsCollection[o].enabled=!1},getEndPointForMessageType:function(o){let i=null,m;for(m in this.endPointsCollection)if(Object.prototype.hasOwnProperty.call(this.endPointsCollection,m)&&(i=A.lastIndexOf(this.endPointsCollection[m].messages,o)>-1?m:i,i)){if(this.isEndPointEnabled(i))break;i=null}return i||this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(o){let i=this.endPointsCollection[o].routingHost+this.endPointsCollection[o].pathSuffix;return this.endPointsCollection[o].routingKey&&(i=i+"?routingkey="+this.endPointsCollection[o].routingKey),i},setIframeProxyClientForEndPoint:function(o,i){this.endPointsCollection[o].iframeProxy=i},getIframeProxyClientForEndPoint:function(o){let i=this.endPointsCollection[o].iframeProxy;return i||(i=new h(this.endPointsCollection[o].iframeProxyName),this.endPointsCollection[o].iframeProxy=i),i},isEndpointMessageContainerBased:function(o){return o&&this.endPointsCollection[o]?this.endPointsCollection[o].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(o,i){this.endPointsCollection[o]&&this.endPointsCollection[o].messages.indexOf(i)===-1&&this.endPointsCollection[o].messages.push(i)},removeMessageTypesFromEndPoint:function(o,i){if(this.endPointsCollection[o]){const m=this.endPointsCollection[o].messages.indexOf(i);m>-1&&this.endPointsCollection[o].messages.splice(m,1)}}})},E,P),E.exports=M},"mw-remote/Remote":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/_base/Deferred"]),t(t.dj.r.absMids["dojo/aspect"]),t(t.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"]),t(t.dj.r.absMids["mw-remote/impl/FaultManager"]),t(t.dj.r.absMids["mw-remote/impl/RequestManager"]),t(t.dj.r.absMids["mw-remote/impl/ResponseManager"]),t(t.dj.r.absMids["mw-remote/impl/Transaction"]),t(t.dj.r.absMids["mw-remote/impl/AutoDetectedTransaction"]),t(t.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),t(t.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),t(t.dj.r.absMids["mw-remote/UploadToWorker"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-remote/utils/RemoteUrlUtils"]),t(t.dj.r.absMids["mw-remote/serviceRegistryLookup!"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m,g,e,a,r,f,p,b){const d={reset:function(){let s=[];const v=new n,T=new i({faultManager:v}),R=new o({responseManager:T});d.faultManager=v,d.responseManager=T,d.requestManager=R,d._serviceRegistryLookup=b,d._uploadParameters={};const D=d.proxyClient=new l;d.createUploadIframeTarget=c.hitch(D,D.createUploadIframeTarget),d.cancelUpload=c.hitch(D,D.cancelUpload),e.setIframeProxyClientForEndPoint(e.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,D),e.setIframeProxyClientForEndPoint(e.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,D),m.construct=function(S){return S=S||{},e.getRoutingHost(e.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||d.setEndpoint(),S.allowedMessages=s,S.sendMessage=d.sendMessage,S.computeSessionId=d.getComputeSessionId,new g(S)},d.registerEndpointLevelFaultHandler=c.hitch(v,v.registerEndpointLevelFaultHandler),d.sendMessage=c.hitch(R,R.sendMessage),d.sendPayload=a.sendPayload,d.registerDefaultMessageFactory=c.hitch(R,R.registerDefaultMessageFactory),d.deregisterDefaultMessageFactory=c.hitch(R,R.deregisterDefaultMessageFactory),d.registerResponseHandler=c.hitch(T,T.registerResponseHandler),d.deregisterResponseHandler=c.hitch(T,T.deregisterResponseHandler),d.registerFaultHandler=c.hitch(v,v.registerFaultHandler),d.deregisterFaultHandler=c.hitch(v,v.deregisterFaultHandler),d.registerTopLevelFaultHandler=c.hitch(v,v.registerTopLevelFaultHandler),d.deregisterTopLevelFaultHandler=c.hitch(v,v.deregisterTopLevelFaultHandler),d.setServiceEndPoint=function(S,x,j){e.setRoutingHostAndRoutingKey(S,x,j)},d.setServicePathSuffixForEndPoint=function(S,x){e.setPathSuffixForEndPoint(S,x)},d.ignoreTopLevelFault=d.registerTopLevelFaultHandler,d.setComputeToken=function(S){d._uploadParameters.computeToken=S.computeSessionId,R.computeToken=S},d.setWorkerEndpoint=function(S,x){d._uploadParameters.routingKey=x,e.setRoutingHostAndRoutingKey(e.getEndPointNames().WORKER_ENDPOINT,S,x)},d.setEndpoint=function(S){if(!S){const x=d._serviceRegistryLookup.getServiceRegistryEndpoint("primary");x?S=x:(f.info("ServiceRegistryLookup is empty, falling back to localhost"),S="/")}if(!S||S==="/"){const x=(document.getElementsByTagName("base")[0]||{}).href;if(x!==void 0){const j=document.createElement("a");j.display="none",j.href=x,S=j.protocol+"//"+j.hostname+(j.port?":"+j.port:"")+"/"}else S=window.location.protocol+"//"+window.location.host+"/"}e.setRoutingHostAndRoutingKey(e.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,S),e.setRoutingHostAndRoutingKey(e.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,S),D.setRemotePageHost(S,void 0,void 0,void 0,{withCredentials:e.endPointsCollection[e.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT].withCredentials})},d.setAllowedMessages=function(S){s=S},d.allowAllMessages=function(){s=[]},d.getEndPoint=function(){return e.getRoutingHost(e.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)},d.getComputeSessionId=function(){return R.computeToken?R.computeToken.computeSessionId:null},d.getWorkerRoutingHost=function(){let S=e.getRoutingHost(e.getEndPointNames().WORKER_ENDPOINT);if(S)return S;if(S=d._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),!S||S==="/"){const x=(document.getElementsByTagName("base")[0]||{}).href;if(x!==void 0){const j=document.createElement("a");j.display="none",j.href=x,S=j.protocol+"//"+j.hostname+(j.port?":"+j.port:"")+"/"}else S=window.location.protocol+"//"+window.location.host+"/"}return S},d.getWorkerRoutingKey=function(){return e.getRoutingKey(e.getEndPointNames().WORKER_ENDPOINT)},d.getDownloadUrlForFile=S=>{if(!S)throw new Error("Invalid input arguments provided!");const x=new A,j=new URL(d.getWorkerRoutingHost()+"download"+S);return a.sendPayload(JSON.stringify({messages:{CreateCsrfToken:[{}]}}),e.getEndPointNames().WORKER_ENDPOINT).then(U=>{U.messages.CreateCsrfTokenResponse.forEach(function(F){F.messageFaults&&F.messageFaults.length>0||(j.searchParams.set("csrfToken",F.csrfToken),x.resolve(j))})}),x},d.upload=function(S,x){return new r().upload(S,x,{endpoint:d.getWorkerRoutingHost(),uploadParams:d._uploadParameters})},d.createWorkerRoutingHostUrl=function(S){return p.createWorkerRoutingHostUrl(S,{host:d.getWorkerRoutingHost(),sessionId:d.getComputeSessionId(),routingKey:d.getWorkerRoutingKey()})},d.getServiceRegistryEndpoint=function(S){return d._serviceRegistryLookup.getServiceRegistryEndpoint(S)},d.enableServerOnWorkerAsync=function(){e.enableEndPoint(e.getEndPointNames().WORKER_ASYNC_ENDPOINT)},d.disableServerOnWorkerAsync=function(){e.disableEndPoint(e.getEndPointNames().WORKER_ASYNC_ENDPOINT)},d.isServerOnWorkerAsyncEnabled=function(){return e.isEndPointEnabled(e.getEndPointNames().WORKER_ASYNC_ENDPOINT)},d.enableServerOnWorker=function(){e.enableEndPoint(e.getEndPointNames().WORKER_ENDPOINT)},d.disableServerOnWorker=function(){e.disableEndPoint(e.getEndPointNames().WORKER_ENDPOINT)},d.isWorkerEndpointEnabled=function(){return e.isEndPointEnabled(e.getEndPointNames().WORKER_ENDPOINT)},d.setWorkerOnlyMessageTypes=function(S){e.setMessageTypesToEndPoint(e.getEndPointNames().WORKER_ENDPOINT,S)},h.after(D,"onError",function(S){S&&v.handleNonTransactionFault(S)},!0),d.createNewEndPoint=function(S,x,j,L,U){this.getEndPointByName(S)||e.setUpNewEndPoint(S,x,j,L,U)},d.getUrlForEndPoint=function(S){return e.getRemoteUrlForEndPoint(S)},d.getEndPointByName=function(S){return e.getEndPointNames()[S]}}};return d.reset(),d},E,P),E.exports=M},"mw-remote/RemoteEndPointsManager":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-remote/EndPointsManager"])],M=t.dj.d(y,function(c){let A=null;return function(){return A===null&&(A=new c),A}()},E,P),E.exports=M},"mw-remote/ReplaceUploadIframe":(E,P,t)=>{"use strict";var y,M;y=[],M=t.dj.d(y,function(){"use strict";return class{constructor(c){this._xhr=null,this._uploadDestinationUrl=c.uploadDestinationUrl,this._computeToken=c.computeToken,this._routingkey=c.routingkey,this._fileDestination=c.fileDestination,this._csrfToken=c.csrfToken,this._postMessage=A=>{c.postMessage(A)}}_postMessageToParent(c){this._postMessage({data:c})}_createFormDataFromFileList(c){const A=new window.FormData,h="uploadFileName";for(let l=0;l<c.length;l++){const n=c[l];A.append(h,n,n.name)}return A}_createAndSendXhr(c){this._xhr=new XMLHttpRequest,this._xhr.upload.onprogress=A=>{this._postMessageToParent({type:"updateProgress",loaded:A.loaded,total:A.total})},this._xhr.onload=()=>{this._postMessageToParent({type:"uploadFinished",status:this._xhr.status,response:this._xhr.response})},this._xhr.onerror=()=>{this._postMessageToParent({type:"uploadError",status:this._xhr.status,response:this._xhr.response})},this._xhr.open("POST","".concat(this._uploadDestinationUrl,"?dest=").concat(this._fileDestination,"&computeToken=").concat(this._computeToken,"&routingkey=").concat(this._routingkey,"&csrfToken=").concat(this._csrfToken),!0),this._xhr.withCredentials=!0,this._xhr.send(c)}handleMessage(c){if(c.data instanceof FileList){const A=this._createFormDataFromFileList(c.data);this._createAndSendXhr(A);return}c.data==="cancelUpload"&&(this._xhr&&this._xhr.abort(),this._postMessageToParent({type:"uploadCanceled"}))}}},E,P),E.exports=M},"mw-remote/UploadToWorker":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/Deferred"]),t(t.dj.r.absMids["dojo/dom-construct"]),t(t.dj.r.absMids["mw-html-utils/HtmlUtils"]),t(t.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),t(t.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),t(t.dj.r.absMids["mw-remote/ReplaceUploadIframe"])],M=t.dj.d(y,function(c,A,h,l,n,o,i){return c([],{constructor:function(){},upload:function(g,e,a){const r=this;if(this._uploadHandler=new A(function(){r.postMessageToUploadIframe("cancelUpload"),r._unloadIframe()}),this._workerEndpoint=a.endpoint,g instanceof FileList){let f={csrfToken:void 0,validForMs:void 0};return o.sendPayload(JSON.stringify({messages:{CreateCsrfToken:[{}]}}),n.getEndPointNames().WORKER_ENDPOINT).then(function(b){b.messages.CreateCsrfTokenResponse.forEach(function(v){v.messageFaults&&v.messageFaults.length>0||(f={csrfToken:v.csrfToken,validForMs:v.validForMs})});const d=a.uploadParams,u=d.computeToken,s=d.routingKey;r._initiateUpload(g,{uploadDestinationUrl:r._workerEndpoint+"upload",computeToken:u,routingkey:s,fileDestination:encodeURIComponent(e),csrfToken:encodeURIComponent(f.csrfToken)})}),this._uploadHandler}},_initiateUpload:function(g,e){const a=this;this._eventCallBack=function(r){switch(r.data.type){case"updateProgress":a._uploadHandler.progress({loaded:r.data.loaded,total:r.data.total});break;case"uploadFinished":a._uploadHandler.resolve({status:r.data.status,response:r.data.response}),a._unloadIframe();break;case"uploadError":a._uploadHandler.reject({status:r.data.status,response:r.data.response});break;default:break}},e.postMessage=this._eventCallBack,this._ReplaceUploadIframe=new i(e),this.postMessageToUploadIframe(g)},_unloadIframe:function(){this._ReplaceUploadIframe=null},getHostName:function(g){return l.parseUrl(g).hostname},postMessageToUploadIframe:function(g){this._ReplaceUploadIframe&&this._ReplaceUploadIframe.handleMessage({data:g})}})},E,P),E.exports=M},"mw-remote/defaultMessageMapping":(E,P,t)=>{"use strict";var y,M;y=[],M=t.dj.d(y,function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],SaveSessionState:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"],AcquireMatlab:["ServiceRegistry"]}},E,P),E.exports=M},"mw-remote/iframeproxy/CheckUrlService":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/dom"]),t(t.dj.r.absMids["dojo/on"]),t(t.dj.r.absMids["dojo/request/script"]),t(t.dj.r.absMids["mw-log/Log"])],M=t.dj.d(y,function(c,A,h,l){"use strict";function n(o){if(!o)throw new Error("Expected a valid url in urlToEmptyJsFile");const i={};i.framedoc=null;const m="error",g=h.get(o,i,!0),e=c.byId(g.id,i.frameDoc),a=A(e,m,function(r){l.info("CheckUrlService detected an error accessing url: "+o),g.handleResponse(null,r),a.remove()});return g.promise}return n},E,P),E.exports=M},"mw-remote/iframeproxy/IframeProxyClient":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/connect"]),t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/Deferred"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/aspect"]),t(t.dj.r.absMids["dojo/dom-construct"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-remote/iframeproxy/CheckUrlService"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m){const g=A([],{constructor:function(){this._messageId=0,this._loaded=!1,this._pendingQueue=[],this._transactions={},this._uploadTargetCallbacks={},this._checkUrl=null,this._loadTimeoutHandle=null,this._checkUrlTimeout=null,this._errorRate=0,this._inFlightTransactions={},this._webSocket=null},setRemotePageHost:function(a,r,f,p){let b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a=this._combineUriPaths(a||"","/"),r=r||"",p=p||"",this.computeToken=f,this._withCredentials=this._withCredentials||!1,typeof b.withCredentials>"u"||b.withCredentials===null||(this._withCredentials=!!b.withCredentials),!(a===this._host&&r===this._key&&p===this._proxyUrl)&&(this._errorLoading=!1,this._host=a,this._key=r,this._proxyUrl=p,this._cleanupFailureChecks(),this._loaded=!0,this._flushPending())},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},sendMessage:function(a,r,f){const p=this;let b;this.computeToken&&(f=f||{},f.headers=f.headers||{},f.headers.computeToken=this.computeToken);const d=f||{},u=this._getNewMessageId();b={action:"sendMessage",id:u,endpoint:r,options:d,message:a};function s(){b={action:"abort",id:u},p._postMessage(b)}const v={deferred:new h(s),id:u};return this._errorLoading?v.deferred.reject("Error loading: "+this._url):(this._transactions[u]=v,this._postMessage(b)),v.deferred},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},_handleMessage:function(a){let r,f,p,b;const d=a.data.action;if(!d)throw new Error("Client unable to parse message, no action specified: "+JSON.stringify(a.data));switch(d){case"ready":this._cleanupFailureChecks(),this._loaded=!0,this._flushPending();break;case"sendMessageResponse":this._sendMessageResponse(a);break;case"uploadIframeMessage":r=a.data.id,f=a.data.message,this._uploadTargetCallbacks[r](f);break;case"websocketOpened":this.onWebsocketOpen();break;case"websocketClosed":p=a.data.message,this.onWebsocketClose(p);break;case"websocketMsg":b=a.data.message,this.onWebsocketMsg(b);break;case"websocketError":this.onWebsocketError();break;default:throw new Error("Unknown action: "+d+", data: "+JSON.stringify(a.data))}},_sendMessageResponse:function(a){let r;const f=a.data.id,p=a.data.responseType,b=a.data.message;if(!f||!p)throw new Error("Invalid message: "+JSON.stringify(a.data));const d=this._transactions[f];if(!d)throw new Error("Unknown transaction id: "+f+": "+JSON.stringify(a.data));if(delete this._transactions[f],!d.deferred.isCanceled()){if(p==="success"){try{r=b&&JSON.parse(b)}catch(u){r=b}r=r===""?{}:r,d.deferred.resolve(r);return}this.onError(b),d.deferred.reject(b)}},_cleanupFailureChecks:function(){this._checkUrlTimeout&&clearTimeout(this._checkUrlTimeout),this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle),this._checkUrl&&!this._checkUrl.isFulfilled()&&this._checkUrl.cancel("Timeout Occurred",!1),this._checkUrlTimeout=null,this._loadTimeoutHandle=null,this._checkUrl=null},_handleLoadTimeout:function(){let a;if(this._loaded)return;const r={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},f=this._transactions;this._transactions={},this._pendingQueue=[];for(a in f)Object.prototype.hasOwnProperty.call(f,a)&&f[a].deferred.reject("Timeout: "+this._url+" at "+new Date);this._errorLoading=!0,this.onError(r)},_handleXhrResponse:function(a,r){const f={action:"sendMessageResponse",id:a,responseType:"success",message:r};this._handleMessage({data:f})},_handleXhrFault:function(a,r){const f={action:"sendMessageResponse",id:a,responseType:"fault",message:r};this._handleMessage({data:f})},_sendXHRNow:function(a){let r,f,p,b,d,u,s;const v=a.data.action;if(!v)throw new Error("Unable to parse message, no action specified: "+JSON.stringify(a.data));let T;switch(v){case"sendMessage":if(r=a.data.id,f=a.data.endpoint,b=a.data.options,p=a.data.message,r&&f&&p)try{if(d=new XMLHttpRequest,this._inFlightTransactions[r]={xhr:d},u=!1,d.onreadystatechange=()=>{let R;d.readyState===0?(u=!0,this.handleXhrFault(r,"XHR readyState 0")):d.readyState===4&&!u&&(u=!0,R=d.status||0,R>=200&&R<300||R===304?this._handleXhrResponse(r,d.responseText):this._handleXhrFault(r,d.responseText)),u&&d&&(d.onreadystatechange=this._noop,d=null,delete this._inFlightTransactions[r].xhr,delete this._inFlightTransactions[r])},d.open("POST",f,!0),d.withCredentials=this._withCredentials,d.setRequestHeader("Content-Type",b.contentType?b.contentType:"application/json"),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.headers)for(s in b.headers)Object.prototype.hasOwnProperty.call(b.headers,s)&&d.setRequestHeader(s,b.headers[s]);d.send(p)}catch(R){this.handleXhrFault(r,"Unable to send data: "+R.toString())}else throw new Error("Invalid message to send: "+JSON.stringify(a.data));break;case"abort":r=a.data.id,this._inFlightTransactions[r]&&this._inFlightTransactions[r].xhr.abort();break;case"connectWebsocket":T=a.data.url,this._webSocket=new WebSocket(T),this._webSocket.onopen=()=>{this.onWebsocketOpen()},this._webSocket.onmessage=R=>{this.onWebsocketMsg(R)},this._webSocket.onclose=R=>{const D={code:R.code,reason:R.reason,wasClean:R.wasClean};this.onWebsocketClose(D)},this._webSocket.onerror=()=>{this.onWebsocketError()};break;case"websocketSend":this._webSocket.send(a.data.data);break;case"closeWebsocket":this._webSocket.close();break;default:throw new Error("Unknown action: "+v)}},_postMessageNow:function(a){const r=this;let f,p;function b(){if(r._errorRate>0&&Math.random()<r._errorRate&&a.action==="sendMessage"){if(f=a.id,p=r._transactions[f],p){delete r._transactions[f],i.error("Generating simulated error. Request was: ",JSON.stringify(a));const d="403 Forbidden;403";r.onError(d),p.deferred.reject(d)}}else r._sendXHRNow({data:a})}this._latency?setTimeout(b,this._latency):b()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this),this._pendingQueue=[]},_getNewMessageId:function(){return this._messageId+=1,this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(f,p){return f.length===0?p:(p.length>0&&(p[0]==="/"&&f.lastIndexOf("/")===f.length-1?p=p.substring(1):p[0]!=="/"&&f.lastIndexOf("/")!==f.length-1&&(f+="/")),f+p)})}});return g.WebSocket=A([],{constructor:function(a){const r=this;this.proxyClient=g.WebSocket.proxyClient,this.proxyClient.computeToken&&a.indexOf("?")>=0&&(a=a+"&computeToken="+this.proxyClient.computeToken);const f={action:"connectWebsocket",url:a};this.proxyClient._postMessage(f),n.after(this.proxyClient,"onWebsocketOpen",function(){r.onopen.apply(r,arguments)},!0),n.after(this.proxyClient,"onWebsocketMsg",function(){r.onmessage.apply(r,arguments)},!0),n.after(this.proxyClient,"onWebsocketClose",function(){r.onclose.apply(r,arguments)},!0),n.after(this.proxyClient,"onWebsocketError",function(){r.onerror.apply(r,arguments),r.proxyClient.onError.apply(r.proxyClient,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){const r={action:"websocketSend",data:a};this.proxyClient._postMessage(r)},close:function(){const a={action:"closeWebsocket"};this.proxyClient._postMessage(a)}}),g},E,P),E.exports=M},"mw-remote/impl/AutoDetectedTransaction":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["mw-remote/impl/JsonTransaction"]),t(t.dj.r.absMids["mw-remote/utils/SendMessageUtil"])],M=t.dj.d(y,function(c,A,h){return c([A],{_doSend:function(n){return h.sendPayload(n,this.endPointName)}})},E,P),E.exports=M},"mw-remote/impl/FaultManager":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/array"]),t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"])],M=t.dj.d(y,function(c,A,h){return A([],{constructor:function(n){n=n||{},this.faultHandlers=n.faultHandlers||{},this.topLevelHandlers=n.topLevelHandlers||[],this.endPointLevelHandlers=n.endPointLevelHandlers||{}},registerFaultHandler:function(n,o,i){i&&(o=h.hitch(i,o)),this.faultHandlers[n]=o},deregisterFaultHandler:function(n){delete this.faultHandlers[n]},registerTopLevelFaultHandler:function(n,o,i){let m;if(i&&(o=h.hitch(i,o)),h.isString(n)){if(n==="*")return m={matcher:n,handler:o},this.defaultTopLevelHandler=o,m;n=this._constructMatcherFromQuery(n)}return m={matcher:n,handler:o},this.topLevelHandlers.push(m),m},registerEndpointLevelFaultHandler:function(n,o,i,m){m&&(i=h.hitch(m,i)),h.isString(o)&&(o=this._constructMatcherFromQuery(o));const g={matcher:o,handler:i};return this.endPointLevelHandlers[n]||(this.endPointLevelHandlers[n]=[]),this.endPointLevelHandlers[n].push(g),g},deregisterTopLevelFaultHandler:function(n){const o=this.topLevelHandlers.indexOf(n);o>-1?this.topLevelHandlers.splice(o,1):n.matcher==="*"&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(n){const o=n.split("||"),i=[];return o.forEach(function(m){m=h.trim(m),m=m.replace(/([.])/g,"\\$1"),m=m.replace(/\*/g,".*"),i.push(new RegExp("^"+m+"$"))}),function(m){return c.some(i,function(g){return g.test(m.faultCode||m.code||"")})}},handleFault:function(n){let o;const i=function(g,e){let a;const r=n.getMessageClassifier(e);r&&(a=[g,r].join(":"),this.faultHandlers[a]&&this.faultHandlers[a](n.fault,n.context))};for(o in n.requestMessages)if(Object.prototype.hasOwnProperty.call(n.requestMessages,o)){this.faultHandlers[o]&&this.faultHandlers[o](n.fault,n.context);const m=n.requestMessages[o];Array.isArray(m)&&m.forEach(h.hitch(this,i,o))}this.faultHandlers["*"]&&this.faultHandlers["*"](n.fault,n.context),this.endPointLevelHandlers[n.endPointName]?this._handleEndpointLevelFault(n):this._handleTopLevelFault(n)},_handleEndpointLevelFault:function(n){let o=!1;const i=c.filter(this.endPointLevelHandlers[n.endPointName],function(m){return m.matcher.call(this,n.fault,n.context)},this);return i.length>0&&i[0].handler&&(o=!0,i[0].handler.call(this,n.fault,n.context,n)),o},_handleTopLevelFault:function(n){const o=c.filter(this.topLevelHandlers,function(m){return m.matcher.call(this,n.fault,n.context)},this),i=o.length>0?o[0].handler:this.defaultTopLevelHandler;i&&i.call(this,n.fault,n.context,n)},handleNonTransactionFault:function(n){const o=c.filter(this.topLevelHandlers,function(m){return m.matcher.call(this,n)},this),i=o.length>0?o[0].handler:this.defaultTopLevelHandler;i&&i.call(this,n)}})},E,P),E.exports=M},"mw-remote/impl/JsonTransaction":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/xhr"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),t(t.dj.r.absMids["mw-remote/impl/Transaction"])],M=t.dj.d(y,function(c,A,h,l,n){return c(n,{constructor:function(i){i=i||{},this.uuid=i.uuid||this._generateUuid()},_getRequest:function(i){const m=l.isEndpointMessageContainerBased(this.endPointName);let g=null;return m?(g={uuid:this.uuid,messages:i},this.computeToken&&(g.computeToken=this.computeToken)):Object.keys(i).forEach(function(a){g=i[a]}),this._sanitizeForJson(g),JSON.stringify(g,null,0)},_sanitizeForJson:function(i){let m;if(h.isArray(i))i.forEach(this._sanitizeForJson,this);else if(h.isObject(i))for(m in i)Object.prototype.hasOwnProperty.call(i,m)&&(i[m]===void 0?delete i[m]:(h.isObject(i[m])||h.isArray(i[m]))&&this._sanitizeForJson(i[m]))},_doSend:function(i){return A.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:i})},_processResponse:function(i){this.stopTime=new Date().getTime(),i?(i.fault&&(this.fault=i.fault),i.messages?this.responseMessages=i.messages:this.responseMessages=i):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(i){this.stopTime=new Date().getTime(),this.fault={faultCode:"Connection.Fault",message:i}}})},E,P),E.exports=M},"mw-remote/impl/RequestManager":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/array"]),t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/Deferred"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),t(t.dj.r.absMids["mw-remote/defaultMessageMapping"]),t(t.dj.r.absMids["mw-remote/impl/Transaction"])],M=t.dj.d(y,function(c,A,h,l,n,o,i){return A([],{defaultMapping:o,constructor:function(g){g=g||{},this.defaultFactories=g.defaultFactories||{},this.mockHandlers=g.mockHandlers||{},this.mapping=g.mapping||this.defaultMapping,this.responseManager=g.responseManager},registerDefaultMessageFactory:function(g,e,a){a&&(e=l.hitch(a,e)),this.defaultFactories[g]=e},deregisterDefaultMessageFactory:function(g){delete this.defaultFactories[g]},registerMockResponseGenerator:function(g,e,a){const r=this;e=l.hitch(a||this,e),this.mockHandlers[g]=function(f,p){let b;const d=i.construct(p);b=e(f,d),b||(b=new h,b.callback()),b.addCallback(function(){r.responseManager._processResult(d)})}},deregisterMockResponseGenerator:function(g){delete this.mockHandlers[g]},sendMessage:function(g,e,a){const r={},f={};let p,b;e=e||{},this._createAndFillTransactions(g,e,a,r,f);const d=Object.keys(r);for(p=0;p<d.length;p=p+1)b=d[p],this._callMocks(f[b]),r[b].send(),this.responseManager.handleTransaction(r[b])},_getTransaction:function(g,e){return i.construct({context:e,computeToken:this.computeToken,endPointName:g})},_getMockTransaction:function(g,e,a){return i.construct({context:e,computeToken:this.computeToken,endPointName:g,uuid:a})},_createAndFillTransactions:function(g,e,a,r,f){let p,b;const d=function(T){let R,D,S,x,j,L;const U=n.getEndPointForMessageType(T);if(j=r[U],L=f[U],j||(j=this._getTransaction(U,e),L=this._getMockTransaction(U,e,j.uuid),r[U]=j,f[U]=L),this.defaultFactories[T]){if(R=this.defaultFactories[T](j.context),!R)return;D=T.split(":"),S=D[0],x=D.slice(1,D.length).join(":"),this.mockHandlers[T]||j.addRequestMessage(S,R,x),L.addRequestMessage(S,R,x)}};let u,s;for(p in g)if(Object.prototype.hasOwnProperty.call(g,p)){const v=n.getEndPointForMessageType(p);u=f[v],s=r[v],r[v]||(s=this._getTransaction(v,e),u=this._getMockTransaction(v,e,s.uuid),r[v]=s,f[v]=u),b=[p,a].join(":"),this.mockHandlers[p]||this.mockHandlers[b]||s.addRequestMessage(p,g[p],a),u.addRequestMessage(p,g[p],a),this.mapping[b]?this.mapping[b].forEach(d,this):this.mapping[p]&&this.mapping[p].forEach(d,this)}},_callMocks:function(g){let e,a;const r=g.context;delete g.context;const f=function(b,d){let u;const s=e.getMessageClassifier(d);s&&(u=[b,s].join(":"),this.mockHandlers[u]&&this.mockHandlers[u]([d],e))};for(a in g.requestMessages)Object.prototype.hasOwnProperty.call(g.requestMessages,a)&&(e=l.mixin({},g),e.context=r,Object.prototype.hasOwnProperty.call(this.mockHandlers,a)&&this.mockHandlers[a](e.requestMessages[a],e),Array.isArray(e.requestMessages[a])?e.requestMessages[a].forEach(l.hitch(this,f,a)):f(a,e.requestMessages[a]));this.mockHandlers["*"]&&this.mockHandlers["*"](a,e.requestMessages[a],e)}})},E,P),E.exports=M},"mw-remote/impl/ResponseManager":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-remote/RemoteEndPointsManager"])],M=t.dj.d(y,function(c,A,h,l){return c([],{constructor:function(o){o=o||{},this.responseHandlers=o.responseHandlers||{},this.faultManager=o.faultManager,this.transactions=o.transactions||[]},registerResponseHandler:function(o,i,m){m&&(i=A.hitch(m,i)),this.responseHandlers[o]=i},deregisterResponseHandler:function(o){delete this.responseHandlers[o]},handleTransaction:function(o){this.transactions.push(o),o.deferred.addCallback(A.hitch(this,this._processAll,o)),o.deferred.addCallback(A.hitch(this,this._processResult,o)),o.deferred.addErrback(A.hitch(this,this._processAll,o)),o.deferred.addErrback(A.hitch(this,this._processFault,o))},_processAll:function(o){const i=this.transactions.indexOf(o);i>=0&&this.transactions.splice(i,1)},_processResult:function(o){o.getResponseMessageTypes().forEach(function(i){const m=o.responseMessages[i],g=[];try{Array.isArray(m)&&(m.forEach(function(e){let a;const r=o.getMessageClassifier(e);if(r){a=[i,r].join(":");const f=this;let p=!1;o.getRequestMessageTypes().forEach(function(b){const d=o.requestMessages[b];Array.isArray(d)?d.forEach(function(u){f.responseHandlers[a]&&u.uuid===e.uuid&&(f.responseHandlers[a]([e],o.context),p=!0)}):f.responseHandlers[a]&&d.uuid===e.uuid&&(f.responseHandlers[a]([e],o.context),p=!0)}),p||g.push(e)}else g.push(e)},this),g.length>0&&this.responseHandlers[i]&&this.responseHandlers[i](g,o.context),this.responseHandlers["*"]&&this.responseHandlers["*"](i,o.responseMessages[i],o.context))}catch(e){h.error(`Remote: Fault occurred while processing response.
Message: `+e.message+`
Type: `+i+`
Response: `+JSON.stringify(m,null,2))}},this),this._processUdcResponses(o),o.fault&&this.faultManager.handleFault(o)},_processUdcResponses:function(o){if(!l.isEndpointMessageContainerBased(o.endPointName)){const m=Object.keys(o.requestMessages)[0];this.responseHandlers[m]&&this.responseHandlers[m](o.responseMessages)}},_processFault:function(o){this.faultManager.handleFault(o)}})},E,P),E.exports=M},"mw-remote/impl/Transaction":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/Deferred"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),t(t.dj.r.absMids["mw-utils/Utils"])],M=t.dj.d(y,function(c,A,h,l,n){return c([],{constructor:function(i){i=i||{},this.requestMessages=i.requestMessages||{},this.responseMessages=i.responseMessages||{},this.context=i.context,this.computeToken=i.computeToken,this.uuidClassifierMap=i.uuidClassifierMap||{},this.endPointName=i.endPointName||null,this.allowedMessages=i.allowedMessages||[],this.ignoreMessageTypes=i.ignoreMessageTypes||[],this.sendMessage=i.sendMessage},addRequestMessage:function(i,m,g){if(!m)return;const e=l.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[i]||(this.requestMessages[i]=[]),h.isArray(m)?m.forEach(function(a){this.addRequestMessage(i,a,g)},this):e?(m.uuid=m.uuid||this._generateUuid(),g&&(this.uuidClassifierMap[m.uuid]=g),this.requestMessages[i].push(m)):this.requestMessages[i]=m,this.requestMessages=this._filterMessages(this.requestMessages)},_filterMessages:function(i){const m={};return this.getRequestMessageTypes().forEach(function(g){(this.allowedMessages.length===0||this.allowedMessages.indexOf(g)>=0)&&(m[g]=i[g])},this),m},getResponseMessageTypes:function(){let i;const m=[];for(i in this.responseMessages)Object.prototype.hasOwnProperty.call(this.responseMessages,i)&&m.push(i);return m},getRequestMessageTypes:function(){let i;const m=[];for(i in this.requestMessages)Object.prototype.hasOwnProperty.call(this.requestMessages,i)&&m.push(i);return m},getMessageClassifier:function(i){return i&&i.uuid&&Object.prototype.hasOwnProperty.call(this.uuidClassifierMap,i.uuid)?this.uuidClassifierMap[i.uuid]:""},send:function(){this._removeEmptyMessages(),this._isEmpty(this.requestMessages)?(this.deferred=new A,this.deferred.callback()):(this.startTime=new Date().getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(i,m){if(this.getRequestMessageTypes().indexOf(i)>-1)if(m){let g;for(g in this.uuidClassifierMap)Object.prototype.hasOwnProperty.call(this.uuidClassifierMap,g)&&m&&this.uuidClassifierMap[g]===m&&this.ignoreMessageTypes.push(i+":"+m)}else this.ignoreMessageTypes.push(i)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages)){let i;for(i in this.requestMessages)Object.prototype.hasOwnProperty.call(this.requestMessages,i)&&h.isArray(this.requestMessages[i])&&n.getArrayLength(this.requestMessages[i])===0&&delete this.requestMessages[i]}},_isEmpty:function(i){let m;for(m in i)if(Object.prototype.hasOwnProperty.call(i,m))return!1;return!0},_generateUuid:function(){return n.generateUuid()}})},E,P),E.exports=M},"mw-remote/serviceRegistryLookup":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/request/xhr"]),t(t.dj.r.absMids["mw-html-utils/HtmlUtils"]),t(t.dj.r.absMids["mw-remote/utils/SecurityUtils"])],M=t.dj.d(y,function(c,A,h){let l=!1;const n={};n._serviceData={},n.getServiceRegistryEndpoint=function(m){if(n._serviceData.serviceregistry){let g;const e=n._serviceData.serviceregistry.length;for(g=0;g<e;g+=1)if(n._serviceData.serviceregistry[g].name===m)return n._serviceData.serviceregistry[g].endpoint}return""};const o=function(g){let e=A.parseQueryString().mre;if(e){const a=new URL(e,window.location.href);if(h.isAllowed(a)){e=a.href;let r=g.serviceregistry;r=Array.isArray(r)?r:[];let f=!1;r.forEach(p=>{p.name&&p.name==="primary"&&(p.endpoint=e,f=!0)}),f||(r.push({name:"primary",endpoint:e}),g.serviceregistry=r)}}return g},i={_doXhr:function(g,e){return c(g,{handleAs:"json",failOk:!0,method:"GET",timeout:15e3,sync:e})},_reset:function(){l=!1,n._serviceData={}},load:function(g,e,a){if(l)a(n);else{const r=!e.async;i._doXhr("/serviceregistrylookup/1/service",r).then(function(f){f instanceof Object||(f={}),n._serviceData=o(f),l=!0,a(n)},function(){n._serviceData=o({}),l=!0,a(n)})}}};return i},E,P),E.exports=M},"mw-remote/utils/RemoteUrlUtils":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-log/Log"])],M=t.dj.d(y,function(c){const A=/^(?:[a-z]+:)?\/\//i,h=["localhost","127.0.0.1","[::1]"];return{createWorkerRoutingHostUrl:function(n,o){if(n==="about:blank")return n;let i=n,m="",g="";const e=o.host,a=o.sessionId,r=o.routingKey;let f=!0;try{if(m=new URL(e),this.isAbsoluteUrl(n))if(g=new URL(n),g.origin&&h.includes(g.hostname)){const p=g.pathname;i=new URL(p,m).href,g.search&&(g.searchParams.has("mre")&&g.searchParams.delete("mre"),i=i+g.search)}else g.origin&&g.hostname!==m.hostname&&(f=!1);else n&&n.startsWith("/")?i=m+n.substr(1,n.length):i=m+n;return f?(i=new URL(i),i.searchParams.set("mre",m),r&&a&&(i.search+="&routingkey="+r+"&computeToken="+encodeURIComponent(a)),i.href):i}catch(p){c.error("Input URL is malformed")}return i},isAbsoluteUrl:function(n){return!!A.test(n)}}},E,P),E.exports=M},"mw-remote/utils/SecurityUtils":(E,P,t)=>{"use strict";var y,M;y=[],M=t.dj.d(y,function(){const c=["localhost","127.0.0.1","[::1]"];return{isAllowed(A){return A instanceof URL||(A=new URL(A)),this._checkIfSameOrigin(A.origin)||this._checkIfMathWorksAllowedDomain(A.hostname)||this._checkIfAllowedLocalHost(A.hostname)},_checkIfSameOrigin:A=>A===window.location.protocol+"//"+window.location.host,_checkIfMathWorksAllowedDomain:A=>{const h=A;for(const l of[".matlab.com",".mathworks.com",".mathworks.cn",".mwcloudtest.com"])if(h.endsWith(l))return!0;return!1},_checkIfAllowedLocalHost:A=>!!c.includes(A)}},E,P),E.exports=M},"mw-remote/utils/SendMessageUtil":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),t(t.dj.r.absMids["dojo/_base/Deferred"])],M=t.dj.d(y,function(c,A){const h=function(n,o,i){return c.getIframeProxyClientForEndPoint(o).sendMessage(n,c.getRemoteUrlForEndPoint(o),i)};return{sendPayload:function(n,o,i){const m=new A;return h(n,o,i).then(function(e){m.resolve(e)}),m}}},E,P),E.exports=M},"mw-statemachine/StateMachine":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["mw-statemachine/statemachineimpl/State"])],M=t.dj.d(y,function(c,A){return c([],{constructor:function(l){l.stateMachine=this,this.state=new A(l)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(l,n){this.state.enter(l,n)},onEnterState:function(l){},onExitState:function(l){}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/EventTrigger":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/aspect"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],M=t.dj.d(y,function(c,A,h,l,n){return c(n,{constructor:function(){this.connection={}},enable:function(){A.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]),this.connection=h.after(this.context,this.name,A.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove(),this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/MessageTrigger":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["dojo/topic"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],M=t.dj.d(y,function(c,A,h,l,n){return c(n,{constructor:function(){const i=this.name.split(" ");(i.length<2||i[0]!=="subscribe")&&l.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name."),this.messageId=i[1]||"",this.subscrition={}},enable:function(){this.subscription=h.subscribe(this.messageId,A.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/RemoteTrigger":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-remote/Remote"]),t(t.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],M=t.dj.d(y,function(c,A,h,l,n){return c(n,{constructor:function(){const i=this.name.split(" ");(i.length<2||i[0]!=="response"&&i[0]!=="fault")&&h.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler."),(!l.registerResponseHandler||!l.registerFaultHandler)&&h.error("The remote package is not available, this type of trigger will not work."),this.messageId=i[1]||"",this.handlerType=i[0]},enable:function(){this.handlerType==="response"?l.registerResponseHandler(this.messageId,A.hitch(null,this.triggerHandler,this.name)):l.registerFaultHandler(this.messageId,A.hitch(null,this.triggerHandler,this.name))},disable:function(){this.handlerType==="response"?l.deregisterResponseHandler(this.messageId):l.deregisterFaultHandler(this.messageId)}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/State":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-statemachine/statemachineimpl/EventTrigger"]),t(t.dj.r.absMids["mw-statemachine/statemachineimpl/MessageTrigger"]),t(t.dj.r.absMids["mw-statemachine/statemachineimpl/RemoteTrigger"]),t(t.dj.r.absMids["mw-statemachine/statemachineimpl/TimeoutTrigger"]),t(t.dj.r.absMids["mw-statemachine/statemachineimpl/Transition"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m){let g;return g=c([],{constructor:function(a){this.stateMachine=a.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}},this.namespace=a.namespace||"",this.name=a.name||this.getDefaultName(),this.context=a.context||{},this.data=a.data||{},this.composition=a.composition||"XOR",this.defaultSubstate=a.defaultSubstate||"",this.constructSubstates(a.substates),this.constructTriggersAndTransitions(a.transitions),this.active=a.active||!1},getDefaultName:function(){let a,r;return this.namespace.length>0?(a=this.namespace.split("."),r=a.pop()):h.warn("State: state name is not specified."),r||""},constructSubstates:function(a){const r={};let f,p;for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&(p=a[f],p.name&&p.name!==f&&h.error("State: error constructing substate: "+f+", the specified names don't match: "+p.name),p.name=f,p.namespace=p.namespace||[this.namespace,this.name].join("."),p.stateMachine=p.stateMachine||this.stateMachine,p.context=p.context||this.context,r[p.name]=new g(p));this.substates=r},constructTriggersAndTransitions:function(a){let r;const f={},p=[];let b;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(b=this.constructTrigger(r),b&&p.push(b),f[r]=this.constructTransition(r,a[r]));this.transitions=f,this.triggers=p},constructTrigger:function(a){let r,f;const p=a.split(" ");return p.length===2?p[0]==="subscribe"?f=n:p[0]==="response"||p[0]==="fault"?f=o:p[0]==="timeout"&&(f=i):(a!=="onEnterState"||a!=="onExitState")&&(f=l),f&&(r=new f({name:a,context:this.context,triggerHandler:A.hitch(this,this.handleTrigger)})),r},constructTransition:function(a,r){let f,p;return(A.isFunction(r)||A.isString(r)||A.isArray(r))&&(a==="onEnterState"||a==="onExitState"?(f=r,r={},r.action=f,r.target=""):(p=r,r={},r.target=p)),r.state=this,new m(r)},enter:function(a,r){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(r))),a?this.changeSubstates(a,r):this.changeToDefaultSubstate(r)},exit:function(){const a=this.activeSubstates();this.active=!1,this.disableTriggers(),a.forEach(function(r){r.exit()}),this.handleTrigger("onExitState"),this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(a){a.enable()})},disableTriggers:function(){this.triggers.forEach(function(a){a.disable()})},handleTrigger:function(a){let r,f;this.transitions[a]&&(f=Array.prototype.slice.call(arguments,1,arguments.length),r=this.transitions[a].handleTrigger(a,f),r&&(A.isString(r)||(f=r.args,r=r.target),this.stateMachine._changeState(r,f)))},changeSubstates:function(a,r){const f=this.activeSubstates();this.substates[a]&&(f.length>=0&&f[0].name!==a&&f.forEach(function(p){p.exit()}),this.substates[a].enter(void 0,r))},changeToDefaultSubstate:function(a){this.activeSubstates().length===0&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,a)},activeSubstates:function(){const a=[];let r;for(r in this.substates)Object.prototype.hasOwnProperty.call(this.substates,r)&&this.substates[r].active&&a.push(this.substates[r]);return a}}),g},E,P),E.exports=M},"mw-statemachine/statemachineimpl/TimeoutTrigger":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],M=t.dj.d(y,function(c,A,h,l){return c(l,{constructor:function(){const o=this.name.split(" ");(o.length<2||o[0]!=="timeout")&&h.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler."),this.timeoutInSeconds=parseFloat(o[1]),this.handlerType=o[0]},enable:function(){this.disable(),this.timeoutHandle=setTimeout(A.hitch(null,this.triggerHandler,this.name),this.timeoutInSeconds*1e3)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/Transition":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["mw-log/Log"])],M=t.dj.d(y,function(c,A,h){return c([],{constructor:function(n){this.state={},this.target="",this.condition=null,this.action=null,c.safeMixin(this,n)},handleTrigger:function(n,o){let i="";return this.checkCondition(n,o)&&(this.runAction(n,o),i=this.getTarget(n,this.target,o)),i},checkCondition:function(n,o){return this.condition?A.hitch(this.state.context,this.condition).apply(null,[n,this.state.data].concat(o)):!0},runAction:function(n,o){let i;const m=this;this.action&&(i=A.hitch(this.state.context,this.action),i.apply(null,[n,m.state.data].concat(o)))},getTarget:function(n,o,i){let m,g,e,a;if(A.isString(o))g=o;else if(A.isFunction(o))e=A.hitch(this.state.context,o),g=e.apply(null,[n,this.state.data].concat(i));else if(A.isArray(o))for(m=0;m<o.length;m+=1){if(g=this.getTarget(n,o[m],i),A.isString(g)){g={target:g},A.mixin(g,a);break}if(g&&g.target){A.mixin(g,a);break}a=g||{}}else h.warn("Transition: improper target: ",o);return g}})},E,P),E.exports=M},"mw-statemachine/statemachineimpl/Trigger":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"])],M=t.dj.d(y,function(c){return c([],{constructor:function(h){this.name="",this.context={},this.triggerHandler=h.triggerHandler||function(){},c.safeMixin(this,h)},enable:function(){},disable:function(){}})},E,P),E.exports=M},"mw-utils/Utils":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["mw-deprecation-utils/deprecation"])],M=t.dj.d(y,function(c){"use strict";var A={};return A.default={generateUuid:function(){return this._uuidFromTemplate("xxxxxxxx").toUpperCase()},generateUUIDv4:function(){return this._uuidFromTemplate("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")},_uuidFromTemplate:function(h){return h.replace(/[xy]/g,function(l){const n=Math.random()*16|0;return(l==="x"?n:n&3|8).toString(16)})},isImageData:function(h){return!!h&&(typeof window=="object"&&window.ImageData&&h instanceof window.ImageData||Object.prototype.hasOwnProperty.call(h,"width")&&Object.prototype.hasOwnProperty.call(h,"height")&&Object.prototype.hasOwnProperty.call(h,"data"))},isArray:function(h){return c.deprecated({deprecated:{module:"mw-utils/Utils",method:"isArray"},geckNumber:1444368}),Array.isArray(h)},getArrayLength:function(h){let l=0;return Array.isArray(h)?(h.forEach(function(n){n&&(l+=1)}),l):!1},isWhitespace:function(h){return/^\s+$/.test(h)},removeSurroundingNewLines:function(h){for(;h.charAt(0)===`
`;)h=h.substring(1);for(;h.charAt(h.length-1)===`
`;)h=h.substring(0,h.length-1);return h},getFirstUniqueElement:function(h,l){let n=null;return l.some(function(o){return h.indexOf(o)===-1?(n=o,!0):!1}),n},unionOfWordSets:function(h,l,n){h=this._stringToArray(h),l=this._stringToArray(l);const o=this.unionOfArrays(h,l);return n?o.join(" "):o},intersectionOfWordSets:function(h,l,n){h=this._stringToArray(h),l=this._stringToArray(l);const o=this.intersectionOfArrays(h,l);return n?o.join(" "):o},differenceOfWordSets:function(h,l,n){h=this._stringToArray(h),l=this._stringToArray(l);const o=this.unique(this.differenceOfArrays(h,l));return n?o.join(" "):o},unionOfArrays:function(h,l){return this.unique(h.concat(l))},intersectionOfArrays:function(h,l){return this.nonunique(h.concat(l))},differenceOfArrays:function(h,l){if(window.Map===void 0)return this._legacyDifferenceOfArrays(h,l);let n,o,i;const m=new Map,g=[];for(i=0;i<l.length;i++)m.set(l[i],null);for(i=0;i<h.length;i++)o=h[i],n=m.has(o),n||g.push(o);return g},_legacyDifferenceOfArrays:function(h,l){return this.unique(h.filter(function(n){return l.indexOf(n)===-1}))},unique:function(h){return h.filter(function(l,n){return h.indexOf(l)===n})},nonunique:function(h){return this.unique(h.filter(function(l,n){return h.indexOf(l)!==n}))},arrayEquals:function(h,l,n){if(h===l)return!0;if(h.length!==l.length)return!1;n||(n=function(o,i){return o===i});for(let o=0,i=h.length;o<i;o++)if(!n(h[o],l[o]))return!1;return!0},removeEmptyElements:function(h){return h.filter(function(l){return!(l===""||l===null||l===void 0)})},_stringToArray:function(h){return this._isString(h)?this.removeEmptyElements(h.split(" ")):h},_isString:function(h){return typeof h=="string"||h instanceof String}},A.default},E,P),E.exports=M},"rtc/abstract/AbstractDestroyable":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["rtc/dojo/aspect"])],M=t.dj.d(y,function(c,A){return c(null,{own:function(){this.__handles__||(this.__cleanupHandle__=A.before(this,"destroy",this._destroyAllHandles.bind(this)),this.__handles__=[]);for(var h=0;h<arguments.length;h++){var l=arguments[h];if(this.__handles__.push(l),l.then){var n=this._removeHandle.bind(this,l);l.then(n,n)}}return arguments},destroyHandles:function(h){h.forEach(this.destroyHandle,this)},destroyHandle:function(h){this._removeHandle(h),this._destroyHandle(h)},_removeHandle:function(h){if(this.__handles__){var l=this.__handles__.indexOf(h);l!==-1&&(this.__handles__.splice(l,1),this.__handles__.length===0&&(delete this.__handles__,this.__cleanupHandle__.remove(),delete this.__cleanupHandle__))}},_destroyAllHandles:function(){this.__handles__&&(this.__handles__.forEach(this._destroyHandle,this),delete this.__handles__,this.__cleanupHandle__.remove(),delete this.__cleanupHandle__)},_destroyHandle:function(h){if(h.then&&h.cancel)h.cancel();else if(h.destroyRecursive)h.destroyRecursive();else if(h.destroy)h.destroy();else if(h.remove)h.remove();else throw new Error("Can't find a valid method on the handle for destroying. See AbstractDestroyable for details.")},destroy:function(){this._destroyed=!0}})},E,P),E.exports=M},"rtc/abstract/AbstractPlugin":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["rtc/abstract/AbstractDestroyable"])],M=t.dj.d(y,function(c,A){return c(A,{})},E,P),E.exports=M},"rtc/core/provider/PluginProvider":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["rtc/abstract/AbstractPlugin"])],M=t.dj.d(y,function(c,A){return c(null,{requires:function(){},isApplicable:function(){return!0},createInstance:function(){throw new Error("Unimplemented API: createInstance")},destroyInstance:function(h){h&&h.isInstanceOf&&h.isInstanceOf(A)&&h.destroy()},priority:function(){return 1}})},E,P),E.exports=M},"rtc/datamodel/BackingStore":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["rtc/abstract/AbstractPlugin"])],M=t.dj.d(y,function(c){class A extends c{getStorageData(){return""}getUniqueId(){throw new Error("Unimplemented API: MW.rtc.datamodel.BackingStore.getUniqueId")}onLoadComplete(l){}onLocationUpdated(l){}hasLocationOnDisk(){throw new Error("Unimplemented API: MW.rtc.datamodel.BackingStore.hasLocationOnDisk")}}return A},E,P),E.exports=M},"rtc/datamodel/EditorFileExtensionUtils":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){return{FILE_EXTENSIONS:{M:"m",MLX:"mlx",MLAPP:"mlapp",P:"p"},_fileExtensionMap:{},addFileExtensionsForLanguage:function(c,A){A.forEach(function(h){var l=h.toLowerCase();this._fileExtensionMap[l]?this._fileExtensionMap[l].indexOf(c)===-1&&this._fileExtensionMap[l].push(c):this._fileExtensionMap[l]=[c]}.bind(this))},getLanguagesForFileExtension:function(c){return this._fileExtensionMap[c.toLowerCase()]||[]},removeExtensionsForLanguage:function(c){Object.keys(this._fileExtensionMap).forEach(function(A){this._fileExtensionMap[A].includes(c)&&(this._fileExtensionMap[A].length===1?delete this._fileExtensionMap[A]:this._fileExtensionMap[A]=this._fileExtensionMap[A].filter(function(h){return h!==c}))}.bind(this))}}},E,P),E.exports=M},"rtc/datamodel/FileBackingStoreUtilities":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["mw-filename-utils/FileNameUtil"]),t(t.dj.r.absMids["rtc/datamodel/EditorFileExtensionUtils"]),t(t.dj.r.absMids["rtc/datamodel/InMemoryBackingStore"])],M=t.dj.d(y,function(c,A,h){const l=function(n){return c.checkFileNameExtension(n,[A.FILE_EXTENSIONS.M,A.FILE_EXTENSIONS.MLX,A.FILE_EXTENSIONS.MLAPP])};return{DEFAULT_FILE_PATH:"untitled.mlx",isMatlabCodeFileOrBuffer:function(n){return n instanceof h||typeof n.getFileName=="function"&&l(n.getFileName())},getAbsoluteFilePathFromBackingStore:function(n){return typeof n.getAbsoluteFilePath=="function"?n.getAbsoluteFilePath():""},accountForPFilesAndCompareToBackingStore:function(n,o){return this.mapPFileToMFile(o)===n.getUniqueId()},mapPFileToMFile:function(n){return c.checkFileNameExtension(n,A.FILE_EXTENSIONS.P)?c.getFileNameNoExtension(n)+"."+A.FILE_EXTENSIONS.M:n},hasFileLocation:function(n){return n.file&&n.file.fileInfo.location},getShortDisplayName:function(n){return this.hasFileLocation(n)||this._isMLXFile(n)?n.getFileName():c.getFileNameNoExtension(n.getFileName())},getLongName:function(n){return this.hasFileLocation(n)||this._isMLXFile(n)?this.getAbsoluteFilePathFromBackingStore(n):c.getFileNameNoExtension(n.getFileName())},_isMLXFile:function(n){return n.getFileExtension()===c.LIVE_SCRIPT_EXTENSION}}},E,P),E.exports=M},"rtc/datamodel/InMemoryBackingStore":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["rtc/datamodel/BackingStore"]),t(t.dj.r.absMids["mw-utils/Utils"])],M=t.dj.d(y,function(c,A,h){return c(A,{constructor:function(l){this.uniqueId=l||h.generateUuid()},getUniqueId:function(){return this.uniqueId},hasLocationOnDisk:function(){return!1}})},E,P),E.exports=M},"rtc/dirtystate/States":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){return Object.freeze({DIRTY:"dirty",CLEAN:"clean"})},E,P),E.exports=M},"rtc/pluggability/PluginRegistryModule":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/Deferred"])],M=t.dj.d(y,function(c,A){return c(null,{constructor:function(h,l){this._registryName=h,this._registry=l},initialize:function(h){const l=new A,n=this._getExports();return l.resolve(n),l.promise},_getExports:function(){let h={exports:{}};return h.exports[this._registryName]=this._registry,h}})},E,P),E.exports=M},"rtc/plugins/contextmenu/ContextMenuContributor":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["rtc/abstract/AbstractPlugin"]),t(t.dj.r.absMids["rtc/plugins/contextmenu/ContextMenuItemTypes"]),t(t.dj.r.absMids["rtc/plugins/contextmenu/ContextMenuUtilities"])],M=t.dj.d(y,function(c,A,h,l,n,o){return c(l,{constructor:function(){this.groupMenuItemsMap={},this.hiddenGroupsList=[],this.hiddenActionsList=[]},addActionsToMap:function(i,m){m.forEach(function(g){this.addActionToMap(i,g)},this)},addActionToMap:function(i,m){typeof m=="string"?m={actionId:m,type:n.DEFAULT,priority:0}:(h.assert(m.actionId!=="","Must have action ID"),h.assert(m.type!=="","Must have type"),m.priority===void 0&&(m.priority=0));var g=this.groupMenuItemsMap[i];g||(g=[],this.groupMenuItemsMap[i]=g);var e=o.findMenuItemByActionId(m.actionId,g);e||g.push(m)},removeActionFromMap:function(i){for(var m in this.groupMenuItemsMap){var g=this.groupMenuItemsMap[m];if(g){var e=o.findMenuItemByActionId(i,g);e&&g.splice(e.index,1),g.length===0?delete this.groupMenuItemsMap[m]:this.groupMenuItemsMap[m]=g}}},contributeToContextMenu:function(i){var m={};return this.updateActions(i),this._getGroupsToContribute(i).forEach(function(g){m[g]=this._getMenuItemsToContribute(g)},this),m},updateActions:function(){this.hiddenActionsList=[]},hideAction:function(i){this.hiddenActionsList.push(i)},hideGroup:function(i){this.hiddenGroupsList.push(i)},_getGroupsToContribute:function(){var i=Object.keys(this.groupMenuItemsMap).filter(function(m){return this.hiddenGroupsList.indexOf(m)<0},this);return this.hiddenGroupsList=[],i},_getMenuItemsToContribute:function(i){var m=A.clone(this.groupMenuItemsMap[i].filter(function(g){return this.hiddenActionsList.indexOf(g.actionId||g.label)<0},this));return this._filterHiddenSubmenuItems(m)},_filterHiddenSubmenuItems:function(i){return i.forEach(m=>{if(m.children&&m.children.length>0){const g=this._getSubMenuItemsToContribute(m);m.children=g}}),i},_getSubMenuItemsToContribute:function(i){var m=i.children.filter(function(g){return this.hiddenActionsList.indexOf(g.actionId)<0},this);return m}})},E,P),E.exports=M},"rtc/plugins/contextmenu/ContextMenuGroups":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){return{SPELLING:"Spelling",TABLE:"Table",TYPO_CORRECTION:"TypoCorrection",SYMBOLIC_SUGGESTIONS:"SymbolicSuggestions",CODE_ANALYZER:"CodeAnalyzer",INCREMENTER:"Incrementer",MODE_INTERACTION:"ModeInteraction",SELECTIONS:"Selections",LIVE_APPS_VIEWS:"LiveAppsView",LIVE_CONTROLS:"LiveControls",AUTORUN_SECTION:"AutorunSection",LIVE_APPS_ACTIONS:"LiveAppsActions",COPY_PASTE:"copyPaste",DEFAULT:"Default",REFACTORING:"Refactoring",DELETE:"Delete",SECTIONS:"Sections",CODE_SECTIONS:"CodeSections",LIVE_APPS_COPYPASTE:"LiveAppsCopyPaste",LIVE_APPS_GENERAL:"LiveAppsGeneral",CLEAR_OUTPUT:"ClearOutput",RICH_TEXT:"RichText",ALIGN:"Align",MATRIX:"Matrix",SET:"Set",TOGGLE:"Toggle",TOGGLE_ALL_STATUS:"ToggleAllStatus",CLEAR_ALL:"ClearAll",RUN_TO_LINE:"RunToLine",SPLIT_SCREEN:"SplitScreen",BOOKMARKS:"Bookmarks",BOOKMARKS_CLEAR_ALL:"BookmarksClear",MARGIN:"Margin",PRINT:"Print",COMMANDS:"CommandWindow"}},E,P),E.exports=M},"rtc/plugins/contextmenu/ContextMenuItemTypes":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){return{DEFAULT:"0",CHECKBOX:"1",RADIOBUTTON:"2",POPUP:"3",SEPARATOR:"4"}},E,P),E.exports=M},"rtc/plugins/contextmenu/ContextMenuUtilities":(E,P,t)=>{var y,M;y=[],M=t.dj.d(y,function(){return{addContextMenuListenerWithHandle:function(c,A){return c.addEventListener("contextmenu",A),{remove:function(){c.removeEventListener("contextmenu",A)}}},findMenuItemByActionId:function(c,A){var h=null,l=-1;return A.some(function(n,o){if(n.actionId===c)return h=n,l=o,!0}),h?{item:h,index:l}:null},hasParentWithAttribute:function(c,A){for(;c;){if(c.classList.contains(A))return!0;c=c.parentElement}return!1},getTargetElement:function(c,A){return document.elementFromPoint(c,A)}}},E,P),E.exports=M},"matlabtest_testcreation_ui/MatlabTestPluginRegistryModule":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["rtc/pluggability/PluginRegistryModule"]),t(t.dj.r.absMids["matlabtest_testcreation_ui/plugin/CreateTestFromFunctionContextMenuContributorProvider"])],M=t.dj.d(y,function(c){const A="MatlabTestPluginRegistry",h=[{id:"rtc.test.functionToTest.contributor",path:"matlabtest_testcreation_ui/plugin/CreateTestFromFunctionContextMenuContributorProvider",subsystem:"contextmenucontributor",family:"refactoringtools"}];return new c(A,h)},E,P),E.exports=M},"matlabtest_testcreation_ui/plugin/CreateTestFromFunctionContextMenuContributor":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["rtc/plugins/contextmenu/ContextMenuContributor"]),t(t.dj.r.absMids["rtc/plugins/contextmenu/ContextMenuGroups"]),t(t.dj.r.absMids["mw-mvm/UserMvm"]),t(t.dj.r.absMids["matlabtest_testcreation_ui/plugin/TestCreationAction"]),t(t.dj.r.absMids["dojo/i18n!matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/MATLABTestCreation"]),t(t.dj.r.absMids["rtc/datamodel/FileBackingStoreUtilities"]),t(t.dj.r.absMids["mw-mvm/RunOptions"]),t(t.dj.r.absMids["rtc/dirtystate/States"]),t(t.dj.r.absMids["rtc/dojo/aspect"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m,g,e){const a=l.getMVM(),r="matlabtest_testCreation";return c(A,{_GROUP_ID:"TestCreationGroup",ACTION_ID:"rtc_create_test_for_function",async constructor(f,p,b,d,u,s,v){this._actionService=p,this._contextMenuContributor=b,this._filestructureservice=d,this._backingStore=u,this._isJavaToolstrip=s,this._dirtyStateModel=v,this.finalPath="",this.own(e.after(this._contextMenuContributor,"updateActions",this._updateActions.bind(this),!0));const T=[{id:this.ACTION_ID,key:"ctrl_shift_h",platformKey:{mac:"meta_alt_g"},enabled:!0,text:o.ContextMenuText,callback:this._createTestCallback.bind(this)}];this._actionService.loadActions(T),await this._getFeatureFlagValue()&&["m","mlx"].includes(this._backingStore.file.fileInfo.type)&&(h.TEST_CREATION_GROUP=this._GROUP_ID,this._contextMenuContributor.addActionToMap(h.TEST_CREATION_GROUP,this.ACTION_ID))},async _getFeatureFlagValue(){return a.getFeatures().getFeature(r)},async _updateActions(f){["m","mlx"].includes(this._backingStore.file.fileInfo.type)&&await this._filestructureservice.whenReady(async function(){await n.checkForFileValidityOnContextMenuLoad(this._filestructureservice,this._contextMenuContributor,h,this._backingStore)}.bind(this))},async _saveFileIfNeededUsingBackStoreContent(f){const p=this._backingStore,b=i.hasFileLocation(this._backingStore);let d=!1;if(b.length===0)if(await this._setFinalPath(),this._isJavaToolstrip)this._dirtyStateModel._currentState=g.DIRTY,await p._saveLoadContributor.save(this.finalPath[0],{communicationModel:"NO_PROMPT"}),this._dirtyStateModel._currentState=g.CLEAN;else try{d=!await p.save(f)}catch(u){if(u.errorId!=="save_cancelled"&&u.message!=="save_cancelled"&&u.errorId!=="read_only_file"&&u.message!=="read_only_file")throw u}else this._dirtyStateModel._currentState===g.DIRTY&&(await p.save(this._backingStore.getAbsoluteFilePath()),this._dirtyStateModel._currentState=g.CLEAN);return d},async _setFinalPath(){if(this._backingStore.file.fileInfo.location.length===0)try{this.finalPath=await a.feval("pwd",1,[])}catch(f){}},async _createTestCallback(){if(this._contextMenuContributor.groupMenuItemsMap.TestCreationGroup!==void 0&&n.isFileValid(this._filestructureservice,this._backingStore)===!0){if(await this._saveFileIfNeededUsingBackStoreContent(this._backingStore.file.fileInfo.name))return;let p=this._backingStore.file.fileInfo.location;const b=this._backingStore.file.fileInfo.name,d=b.substring(0,b.lastIndexOf("."));p.length===0&&d.length===0&&(p=this.finalPath[0]),n.isClassFile(this._filestructureservice)?await n.createTestForClass(p,d,b):await n.createTestForFunction(p,d,b)}}})},E,P),E.exports=M},"matlabtest_testcreation_ui/plugin/CreateTestFromFunctionContextMenuContributorProvider":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/_base/lang"]),t(t.dj.r.absMids["rtc/core/provider/PluginProvider"]),t(t.dj.r.absMids["matlabtest_testcreation_ui/plugin/CreateTestFromFunctionContextMenuContributor"])],M=t.dj.d(y,function(c,A,h,l){return c(h,{requires(){return{createInstance:["rtc.eventhandler","rtc.actionservice","rtc.contextmenu.documentcontributor","matlab.languageanalysis.filestructureservice","rtc.backingstore","rtc.integration.isJavaToolstrip","commoneditor.dirtystatemodel"]}},createInstance(n,o,i,m,g,e,a){return l(n,o,i,m,g,e,a)}})},E,P),E.exports=M},"matlabtest_testcreation_ui/plugin/TestCreationAction":(E,P,t)=>{var y,M;y=[t(t.dj.r.absMids["rtc/abstract/AbstractDestroyable"]),t(t.dj.r.absMids["rtc/dojo/aspect"]),t(t.dj.r.absMids["mw-mvm/UserMvm"])],M=t.dj.d(y,function(c,A,h){const l=h.getMVM(),n="ClassdefFile";return{async checkForFileValidityOnContextMenuLoad(o,i,m,g){this.isFileValid(o,g)===!1&&i.hideGroup(m.TEST_CREATION_GROUP)},isFileValid(o,i){return!(o.hasTreeError()||o.isClassBasedTest()||o.isFunctionBasedTest()||this.isInClassFolder(i))},isFileValidIgnoringTreeErrors(o,i){return!(o.isClassBasedTest()||o.isFunctionBasedTest()||this.isInClassFolder(i))},isInClassFolder(o){const i=o.file.fileInfo;return i.parent.split(i.separator).pop().startsWith("@")},isClassFile(o){return o.getFileType()===n},async createTestForFunction(o,i,m){await l.feval("matlabtest.internal.testcreation.createNewTestFile",0,[o,i,m])},async createTestForClass(o,i,m){await l.feval("matlabtest.internal.testcreation.createNewTestFile",0,[o,i,m,!0])}}},E,P),E.exports=M},"matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/MATLABTestCreation":(E,P,t)=>{E.exports={root:{CannotGenerateDialogText:"Unable to generate test for this file.",CannotGenerateDialogTitle:"MATLAB Editor",ClassNotFound:'Unable to find a class named "${0}".',ContextMenuText:"Create Test",FunctionNotFound:'Unable to find a function named "${0}".',GeneralTopPageComment:"% This is an autogenerated sample test for file ",NoTestsGeneratedForClass:"No Test methods generated because the ${0} class is abstract, is an enumeration, or has no public methods.",ToolstripButtonDescription:"Generate test for file",ToolstripButtonText:`Generate 
Test`,ToolstripSectionText:"TEST"},"ja-jp":!0}},"matlabtest_testcreation_ui/resources/MATLABTest/matlabtest_test_creation/nls/ja-jp/MATLABTestCreation":(E,P,t)=>{E.exports={CannotGenerateDialogText:"\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u7528\u306E\u30C6\u30B9\u30C8\u3092\u751F\u6210\u3067\u304D\u307E\u305B\u3093\u3002",CannotGenerateDialogTitle:"MATLAB \u30A8\u30C7\u30A3\u30BF\u30FC",ClassNotFound:'"${0}" \u3068\u3044\u3046\u540D\u524D\u306E\u30AF\u30E9\u30B9\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3002',ContextMenuText:"\u30C6\u30B9\u30C8\u306E\u4F5C\u6210",FunctionNotFound:'Unable to find a function named "${0}".',GeneralTopPageComment:"% \u3053\u308C\u306F\u30D5\u30A1\u30A4\u30EB\u7528\u306B\u81EA\u52D5\u751F\u6210\u3055\u308C\u305F\u30B5\u30F3\u30D7\u30EB \u30C6\u30B9\u30C8\u3067\u3059 ",NoTestsGeneratedForClass:"${0} \u30AF\u30E9\u30B9\u304C\u3001\u62BD\u8C61\u307E\u305F\u306F\u5217\u6319\u3067\u3042\u308B\u304B\u3001\u30D1\u30D6\u30EA\u30C3\u30AF \u30E1\u30BD\u30C3\u30C9\u3092\u3082\u305F\u306A\u3044\u305F\u3081\u3001\u30C6\u30B9\u30C8 \u30E1\u30BD\u30C3\u30C9\u306F\u751F\u6210\u3055\u308C\u307E\u305B\u3093\u3067\u3057\u305F\u3002",ToolstripButtonDescription:"\u30D5\u30A1\u30A4\u30EB\u7528\u306E\u30C6\u30B9\u30C8\u3092\u751F\u6210\u3057\u307E\u3059",ToolstripButtonText:`\u30C6\u30B9\u30C8\u306E 
\u751F\u6210`,ToolstripSectionText:"\u30C6\u30B9\u30C8"}},"mw-mvm/CapabilitiesList":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-mvm/Capability"])],M=t.dj.d(y,function(c){return{capabilityFullList:[c.InteractiveCommandLine,c.Swing,c.ComplexSwing,c.LocalClient,c.WebWindow,c.ModalDialogs,c.Debugging],getFullCapabilitiesList:function(){return this.capabilityFullList.slice()},getCapabilitiesListDiff:function(h,l){var n=h.filter(function(o){return l.indexOf(o)<0});return n}}},E,P),E.exports=M},"mw-mvm/Capability":(E,P,t)=>{"use strict";var y,M;y=[],M=t.dj.d(y,function(){var c={};return c.InteractiveCommandLine="InteractiveCommandLine",c.Swing="Swing",c.ComplexSwing="ComplexSwing",c.LocalClient="LocalClient",c.WebWindow="WebWindow",c.ModalDialogs="ModalDialogs",c.Debugging="Debugging",c},E,P),E.exports=M},"mw-mvm/ExecutionStatus":(E,P,t)=>{"use strict";var y,M;/*!
 * The outcome of executing some M-code.
 */y=[],M=t.dj.d(y,function(){var c={};c.inEXECUTION_SUCCESS="inEXECUTION_SUCCESS";/*! < it worked */c.inCOMPILE_ERROR="inCOMPILE_ERROR";/*! < couldn't parse it */c.inRUNTIME_ERROR="inRUNTIME_ERROR";/*! < parsed it, but it bombed when I ran it */c.inEXECUTION_DBQUIT="inEXECUTION_DBQUIT";/*! < dbquit from code */c.inEXECUTION_CTRLC="inEXECUTION_CTRLC";/*! < user interrupted execution */c.inCOMM_ERROR="inCOMM_ERROR";/*! communication error (e.g., connection closed) -- can happen only when
* using MATLAB as a compute server through an IPC protocol like MIPC */return c.inEXECUTION_STATUS_MAX="inEXECUTION_STATUS_MAX",c},E,P),E.exports=M},"mw-mvm/RunOptions":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["mw-mvm/CapabilitiesList"]),t(t.dj.r.absMids["mw-mvm/WhenToDequeue"])],M=t.dj.d(y,function(c,A,h){return c(null,{constructor:function(n){typeof n!="object"?this._timeout=n:(this._timeout=n.timeout,this.dequeueMode=n.dequeueMode,this.queueName=n.queueName,this.disableBreakPoints=n.disableBreakpoints,n.capabilitiesList!==void 0&&(this.capabilitiesList=n.capabilitiesList.slice()),n.groupNames!==void 0&&(this.groupNames=n.groupNames.slice()),n.outTextCallback!==void 0&&this.setOutTextCallback(n.outTextCallback),n.errTextCallback!==void 0&&this.setErrTextCallback(n.errTextCallback),n.suppressDebugControlOutput!==void 0&&(this.suppressDebugControlOutput=n.suppressDebugControlOutput),n.outSinkTraits&&(this.outSinkTraits=n.outSinkTraits),n.errSinkTraits&&(this.errSinkTraits=n.errSinkTraits),n.commandWindowColSize&&(this.commandWindowColSize=n.commandWindowColSize),n.commandWindowRowSize&&(this.commandWindowRowSize=n.commandWindowRowSize)),this.eventNames=[],this._eventCallbackMap={}},getTimeOut:function(){return this._timeout},setTimeOut:function(n){this.timeout=n},setDequeueMode:function(n){this.dequeueMode=n},getDequeueMode:function(){return this.dequeueMode},setQueueName:function(n){this.queueName=n},getQueueName:function(){return this.queueName},disableBreakpoints:function(n){this.disableBreakPoints=n},areBreakPointsDisabled:function(){return this.disableBreakPoints},setCallback:function(n,o){this.eventNames.push(n),this._eventCallbackMap[n]=o},getEventCallbacks:function(){return this._eventCallbackMap},getCapabilitiesList:function(){if(this.capabilitiesList!==void 0)return this.capabilitiesList.slice()},setCapabilities:function(n){n?this.capabilitiesList=n.slice():this.capabilitiesList=[]},getGroupNames:function(){if(this.groupNames!==void 0)return this.groupNames.slice()},setGroupNames:function(n){n?this.groupNames=n.slice():this.groupNames=void 0},getCommandWindowColSize:function(){return this.commandWindowColSize},setCommandWindowColSize:function(n){this.commandWindowColSize=n},getCommandWindowRowSize:function(){return this.commandWindowRowSize},setCommandWindowRowSize:function(n){this.commandWindowRowSize=n},setOutTextCallback:function(n,o){this.outSink=n,this.outSinkTraits=o,this.outSink===null?this.useNullOutSink=!0:this.useNullOutSink=!1},setErrTextCallback:function(n,o){this.errSink=n,this.errSinkTraits=o,this.errSink===null?this.useNullErrSink=!0:this.useNullErrSink=!1},getOutTextCallback:function(){if(this.outSink!==void 0)return this.outSink},getErrTextCallback:function(){if(this.errSink!==void 0)return this.errSink},setSuppressDebugControlOutput:function(n){this.suppressDebugControlOutput=n},getSuppressDebugControlOutput:function(){return this.suppressDebugControlOutput},getOutSinkTraits:function(){return this.outSinkTraits},getErrSinkTraits:function(){return this.errSinkTraits},_serializeAndVerifyRunOptions:function(){var n={},o={};if(this.dequeueMode){var i=Object.keys(h).some(function(r){return h[r]===this.dequeueMode}.bind(this));if(!i)return n.error="Unknown Dequeue Mode "+this.dequeueMode,n;o.dequeueMode=this.dequeueMode}if(this.queueName)if(typeof this.queueName=="string"||this.queueName instanceof String)o.queueName=this.queueName;else return n.error="Invalid QueueName",n;if(this.capabilitiesList!==void 0){if(Array.isArray(this.capabilitiesList)){var m=A.getFullCapabilitiesList(),g=this.capabilitiesList.some(function(r){return m.indexOf(r)===-1});if(g)return n.error="Undefined Capability",n}else return n.error="Invalid Capability",n;o.capabilitiesList=this.capabilitiesList.slice()}if(this.outSink!==void 0&&(this.outSink===null?o.useNullOutSink=!0:typeof this.outSink=="function"||this.outSink instanceof Function?o.useNullOutSink=!1:n.error="Invalid outTextCallback"),this.errSink!==void 0&&(this.errSink===null?o.useNullErrSink=!0:typeof this.errSink=="function"||this.errSink instanceof Function?o.useNullErrSink=!1:n.error="Invalid errTextCallback"),this.groupNames!==void 0)if(Array.isArray(this.groupNames)){var e=this.groupNames.every(function(r){return typeof r=="string"||r instanceof String});if(e===!1)return n.error="Invalid groupNames",n;o.groupNames=this.groupNames.slice()}else return n.error="Invalid groupNames",n;if(this._eventCallbackMap!==void 0){var a=Object.keys(this._eventCallbackMap).every(function(r){return typeof this._eventCallbackMap[r]=="function"||this._eventCallbackMap[r]instanceof Function}.bind(this));if(a===!1)return n.error="Invalid setCallback",n}if(this.suppressDebugControlOutput)if(typeof this.suppressDebugControlOutput=="boolean"||this.suppressDebugControlOutput instanceof Boolean)o.suppressDebugControlOutput=this.suppressDebugControlOutput;else return n.error="Invalid suppressDebugControlOutput",n;if(this.errSinkTraits!==void 0&&(o.errSinkTraits=this.errSinkTraits),this.outSinkTraits!==void 0&&(o.outSinkTraits=this.outSinkTraits),this.commandWindowColSize!==void 0)if((typeof this.commandWindowColSize=="number"||this.commandWindowColSize instanceof Number)&&this.commandWindowColSize>=0&&Number.isInteger(this.commandWindowColSize))o.commandWindowColSize=this.commandWindowColSize;else return n.error="Invalid commandWindowColSize",n;if(this.commandWindowRowSize!==void 0)if((typeof this.commandWindowRowSize=="number"||this.commandWindowRowSize instanceof Number)&&this.commandWindowRowSize>=0&&Number.isInteger(this.commandWindowRowSize))o.commandWindowRowSize=this.commandWindowRowSize;else return n.error="Invalid commandWindowRowSize",n;return n.runOptions=o,n}})},E,P),E.exports=M},"mw-mvm/UserMvm":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-mvm/impl/MVM"])],M=t.dj.d(y,function(c){return{getMVM:function(){return c.get("user-mvm")}}},E,P),E.exports=M},"mw-mvm/WhenToDequeue":(E,P,t)=>{"use strict";var y,M;y=[],M=t.dj.d(y,function(){let c={};return c.DEQUEUE_AT_PPE="DEQUEUE_AT_PPE",c.DEQUEUE_AT_PAUSE="DEQUEUE_AT_PAUSE",c.DEQUEUE_AT_PROMPT="DEQUEUE_AT_PROMPT",c.DEQUEUE_AT_NON_DEBUG_PROMPT="DEQUEUE_AT_NON_DEBUG_PROMPT",c.DEQUEUE_AT_DEBUG_PROMPT="DEQUEUE_AT_DEBUG_PROMPT",c.DEQUEUE_AT_IDLE="DEQUEUE_AT_IDLE",c.DEQUEUE_AT_BOOTSTRAP="DEQUEUE_AT_BOOTSTRAP",c},E,P),E.exports=M},"mw-mvm/impl/AttachDetach":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["mw-mvm/impl/ConnectionData"]),t(t.dj.r.absMids["mw-mvm/impl/MVMConnection"])],M=t.dj.d(y,function(c,A,h){return c(null,{constructor:function(l,n,o){const i={mvmID:n,supportedApiVersions:["r24a0"]},m=new A(l,Promise.resolve("/mvm"),o);this._attachConnection=new h(m,"attach"),this._detachConnection=new h(m,"detach"),this._attachPromise=this._attachConnection.makeRequest(i).then(function(e){this._apiVersion=e.apiVersion,this._channelPrefix=e.channelPrefix}.bind(this)),this._attachRequestID=i.requestID;const g=new A(l,this.getChannelPrefix(),o);this._stillAliveConnection=new h(g,"connection"),this._stillAliveConnection.subscribe("stillAlive","_stillAlive",this).catch(function(e){this.getChannelPrefix().then(function(){throw e},function(a){if(a!==e)throw e})}.bind(this))},destroy:function(){const l={requestIDtoDetach:this._attachRequestID};this._detachConnection.makeRequest(l).finally(function(){this._attachConnection.destroy(),this._detachConnection.destroy(),this._stillAliveConnection.destroy()}.bind(this))},getAPIVersion:function(){return this._attachPromise.then(function(){return this._apiVersion}.bind(this))},getChannelPrefix:function(){return this._attachPromise.then(function(){return this._channelPrefix}.bind(this))},_stillAlive:function(){}})},E,P),E.exports=M},"mw-mvm/impl/Bang":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-mvm/RunOptions"])],M=t.dj.d(y,function(c){return class{constructor(h){this._mvm=h}process(h){return this._mvm.feval("matlab.internal.singlekeypress.bang.process",0,[h],new c({queueName:"SingleKeyPress"}))}}},E,P),E.exports=M},"mw-mvm/impl/Connection":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"])],M=t.dj.d(y,function(c){return c(null,{constructor:function(A,h,l){this._subscriptionPromise=A,this._subscriptionPromise.catch(function(){}),this._uId=h,this._eventMgr=l},destroy:function(){this.disconnect()},isValid:function(){return this._eventMgr._isConnected(this._uId)?this._subscriptionPromise:Promise.reject("Disconnected")},disconnect:function(){return this._eventMgr._disconnect(this._uId)}})},E,P),E.exports=M},"mw-mvm/impl/ConnectionData":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-log/Log"])],M=t.dj.d(y,function(c){return class{constructor(h,l,n){c.assert(h!==void 0,"messageService must be defined"),c.assert(l!==void 0,"channelPrefixPromise must be defined"),c.assert(l.then!==void 0,"channelPrefixPromise must be a promise"),c.assert(n!==void 0,"requestQueue must be defined"),this._messageService=h,this._channelPrefixPromise=l,this._requestQueue=n}onChannelPrefix(){return this._channelPrefixPromise}queueRequest(h,l,n){this._requestQueue.queueRequest(this._channelPrefixPromise,h,l,n)}getMessageService(){return this._messageService}}},E,P),E.exports=M},"mw-mvm/impl/Debugger":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["mw-mvm/impl/MVMConnection"])],M=t.dj.d(y,function(c,A){return c(null,{constructor:function(h){this._setGlobalBreakpointConnection=new A(h,"setGlobalBreakpoint"),this._clearGlobalBreakpointConnection=new A(h,"clearGlobalBreakpoint"),this._setLineBreakpointConnection=new A(h,"setLineBreakpoint"),this._clearLineBreakpointConnection=new A(h,"clearLineBreakpoint"),this._clearAllBreakpointsConnection=new A(h,"clearAllBreakpoints"),this._breakInDebuggerConnection=new A(h,"breakInDebugger")},setLineBreakpoint:function(h){const l={breakpoint:h};return this._setLineBreakpointConnection.makeRequest(l)},setGlobalBreakpoint:function(h){const l={breakpoint:h};return this._setGlobalBreakpointConnection.makeRequest(l)},clearLineBreakpoint:function(h){const l={breakpoint:h};return this._clearLineBreakpointConnection.makeRequest(l)},clearGlobalBreakpoint:function(h){const l={breakpoint:h};return this._clearGlobalBreakpointConnection.makeRequest(l)},clearAllBreakpoints:function(){const h={};return this._clearAllBreakpointsConnection.makeRequest(h)},breakInDebugger:function(){const h={};this._breakInDebuggerConnection.makeRequest(h)},destroy:function(){this._setGlobalBreakpointConnection.destroy(),this._clearGlobalBreakpointConnection.destroy(),this._setLineBreakpointConnection.destroy(),this._clearLineBreakpointConnection.destroy(),this._clearAllBreakpointsConnection.destroy(),this._breakInDebuggerConnection.destroy()}})},E,P),E.exports=M},"mw-mvm/impl/EvalFevalCancel":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["mw-mvm/impl/MVMConnection"]),t(t.dj.r.absMids["mw-mvm/impl/MVMPromise"]),t(t.dj.r.absMids["mw-mvm/impl/RuntimeException"])],M=t.dj.d(y,function(c,A,h,l){return c(null,{constructor:function(n,o){this._fevalConnection=new A(n,"feval"),this._evalConnection=new A(n,"eval"),this._cancelConnection=new A(n,"cancel"),this._cancelGroupConnection=new A(n,"cancelGroup"),this._interruptConnection=new A(n,"interrupt"),this._textConnection=new A(n,"text"),this._textConnection.subscribe("output","_handleOutput",this).catch(function(i){}),this._textConnection.subscribe("error","_handleError",this).catch(function(i){}),this._eventMgr=o,this._outSinkMap={},this._errSinkMap={}},feval:function(n,o,i,m,g){if(!this._isStringValid(n))return this._makeRejectedPromise("Invalid function name.");if(o==null||!(typeof o=="number"||o instanceof Number)||o<0)return this._makeRejectedPromise("Invalid numberOfOutput.");let e=[];if(i!==void 0){if(!Array.isArray(i))return this._makeRejectedPromise("Invalid inputArgs");e=i.map(function(r){return JSON.stringify(r)})}if(g!==void 0&&(!this._isStringValid(g)||!(g==="preferMDAShort"||g==="alwaysMDALong")))return this._makeRejectedPromise("Invalid MDA Output Format.");const a={function:n,rhsArgs:e,numOutputsExpected:o};return g!==void 0&&(a.mdaOutputFormat=g),this._commonEvalFevalImpl(m,a,this._fevalConnection)},eval:function(n,o,i){if(!this._isStringValid(n))return this._makeRejectedPromise("Invalid string");const m={command:n,isUserEval:i};return this._commonEvalFevalImpl(o,m,this._evalConnection)},cancelGroup:function(n,o){const i={requestGroupNametoCancel:n};return o!==void 0&&(i.interrupt=o),this._cancelGroupConnection.makeRequest(i)},interrupt:function(){const n={};return this._interruptConnection.makeRequest(n)},_getOutSink:function(n){if(n in this._outSinkMap)return this._outSinkMap[n]},_getErrSink:function(n){if(n in this._errSinkMap)return this._errSinkMap[n]},_makeRejectedPromise:function(n){const o=h.makeControlObject(),i=new h(o);return o.reject(new l("inCOMPILE_ERROR",n,1)),i},destroy:function(){this._fevalConnection.destroy(),this._evalConnection.destroy(),this._textConnection.destroy();const n=!1;this._cancelConnection.destroy(n),this._cancelGroupConnection.destroy(n),this._interruptConnection.destroy(!1)},_commonEvalFevalImpl:function(n,o,i){const m=h.makeControlObject();let g;const e=new h(m,function(p){return g?this._makeCancelRequest(g,p):Promise.reject(new l("inCOMM_ERROR","missing requestID"))}.bind(this));let a,r;if(n){if(r=n._serializeAndVerifyRunOptions(),r.error)return m.reject(new l("inCOMPILE_ERROR",r.error,1)),e;r.runOptions.eventConnections=this._prepareRunOptionEvents(n,e),a=n.getTimeOut()}o.runOptions=r?r.runOptions:void 0;const f=i.makeRequest(o,a,this._makeCancelRequest.bind(this));return g=o.requestID,n&&(this._outSinkMap[g]=n.getOutTextCallback(),this._errSinkMap[g]=n.getErrTextCallback()),f.then(function(p){p&&p.result?m.resolve(p.result):m.resolve()},function(p){m.reject(p)}).finally(function(){g in this._outSinkMap&&delete this._outSinkMap[g],g in this._errSinkMap&&delete this._errSinkMap[g]}.bind(this)),e},_handleOutput:function(n){const o=n.data,i=this._getOutSink(o.requestID);i&&i(o.text)},_handleError:function(n){const o=n.data,i=this._getErrSink(o.requestID);i&&i(o.text)},_makeCancelRequest:function(n,o){if(n===void 0)return this._makeRejectedPromise("Empty requestIDtoCancel");const i={requestIDtoCancel:n};return o!==void 0&&(i.interrupt=o),this._cancelConnection.makeRequest(i)},_prepareRunOptionEvents:function(n,o){const i=n.getEventCallbacks(),m={};return i!==void 0&&Object.keys(i).forEach(function(g){const e=i[g],a=function(f){Promise.resolve().then(function(){}).then(function(){e(f)})},r=this._eventMgr._runOptionsSubscribe(g,a);m[r._uId]=g,o.catch(function(){}).finally(function(){r.destroy()})}.bind(this)),m},_isStringValid:function(n){return n!=null&&(typeof n=="string"||n instanceof String)}})},E,P),E.exports=M},"mw-mvm/impl/EventManager":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["mw-mvm/impl/Connection"]),t(t.dj.r.absMids["mw-mvm/impl/MVMConnection"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-utils/Utils"])],M=t.dj.d(y,function(c,A,h,l,n){return c(null,{constructor:function(o){this._subscribeConnection=new h(o,"subscribeEvent"),this._disconnectConnection=new h(o,"disconnectEvent"),this._eventConnection=new h(o,"event"),this._eventConnection.subscribe("fireEvent","_handleEvent",this).catch(function(i){o.onChannelPrefix().then(function(){throw i},function(m){if(m!==i)throw i})}),this._callbackMap={}},subscribe:function(o,i){if(o===void 0)return new A(Promise.reject(new Error("eventName is not defined")),"invalid",this);const m={eventName:o},g=this._subscribeConnection.makeRequest(m);return this._subscribeHelper(m.requestID,i,g)},destroy:function(){for(const i in this._callbackMap)this._disconnect(i);this._eventConnection.destroy(),this._subscribeConnection.destroy(),this._disconnectConnection.destroy(!1)},_disconnect:function(o){if(!this._isConnected(o))return Promise.resolve();this._callbackMap[o]=function(){};const i={requestIDtoDisconnect:o};return this._disconnectConnection.makeRequest(i).then(function(){delete this._callbackMap[o]}.bind(this),function(g){throw delete this._callbackMap[o],g}.bind(this))},_runOptionsSubscribe:function(o,i){const m=n.generateUuid();return this._subscribeHelper(m,i,Promise.resolve())},_subscribeHelper:function(o,i,m){return this._callbackMap[o]=i,new A(m,o,this)},_handleEvent:function(o){const i=o.data;if(!this._isConnected(i.requestID))return;const m=this._callbackMap[i.requestID];m(i.eventData)},_isConnected:function(o){return o in this._callbackMap}})},E,P),E.exports=M},"mw-mvm/impl/MVM":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-messageservice/MessageService"]),t(t.dj.r.absMids["mw-utils/Utils"]),t(t.dj.r.absMids["mw-mvm/impl/AttachDetach"]),t(t.dj.r.absMids["mw-mvm/impl/ConnectionData"]),t(t.dj.r.absMids["mw-mvm/impl/Debugger"]),t(t.dj.r.absMids["mw-mvm/impl/EvalFevalCancel"]),t(t.dj.r.absMids["mw-mvm/impl/EventManager"]),t(t.dj.r.absMids["mw-mvm/impl/MVMSink"]),t(t.dj.r.absMids["mw-mvm/impl/RuntimeException"]),t(t.dj.r.absMids["mw-fctrl/Features"]),t(t.dj.r.absMids["mw-mvm/impl/More"]),t(t.dj.r.absMids["mw-mvm/impl/Pause"]),t(t.dj.r.absMids["mw-mvm/impl/Bang"]),t(t.dj.r.absMids["mw-mvm/impl/RootWindowContainer"]),t(t.dj.r.absMids["mw-mvm/impl/RequestQueue"])],M=t.dj.d(y,function(c,A,h,l,n,o,i,m,g,e,a,r,f,p,b,d,u){const s=d.getGlobalMVMVariable,v=d.releaseGlobalMVMVariable,T=c(null,{constructor:function(D,S,x){A.assert(D==="user-mvm","Only user-mvm is supported at this time"),h.isStarted()||h.start(),this._MVMid=D,this._destroyCallback=S,this._refCount=0,this._attach=new n(h,this._MVMid,x.requestQueue);const j=new o(h,this._attach.getChannelPrefix(),x.requestQueue);this._mvmSink=new e(j),this._eventManager=new g(j),this._evalFevalCancel=new m(j,this._eventManager),this._outputCallback={},this._errorCallback={},this._debugger=new i(j),this._errSinkTraits={},this._outSinkTraits={},this._features=new r(this._MVMid)},feval:function(R,D,S,x,j){return this._evalFevalCancel.feval(R,D,S,x,j)},eval:function(R,D,S){return this._evalFevalCancel.eval(R,D,S)},cancelGroup:function(R,D){return this._evalFevalCancel.cancelGroup(R,D)},interrupt:function(){return this._evalFevalCancel.interrupt()},destroy:function(){--this._refCount,!(this._refCount>0)&&(this._features&&this._features.destroy(),this._evalFevalCancel&&this._evalFevalCancel.destroy(),this._eventManager&&this._eventManager.destroy(),this._debugger&&this._debugger.destroy(),this._mvmSink&&this._mvmSink.destroy(),this._attach&&this._attach.destroy(),v(),this._destroyCallback())},getFeatures:function(){return this._features},whenMVMReady:function(){return this._attach.getChannelPrefix().then(function(){},function(R){throw new Error("MVM rejected connection")})},setTextCallbacks:function(R){return this._mvmSink.setSinks(R.outputCallback,R.errorCallback,R.outSinkTraits,R.errSinkTraits)},getEventManager:function(){return this._eventManager},getDebugger:function(){return this._debugger},getMore:function(){return this._more===void 0&&(this._more=new f(this)),this._more},getPause:function(){return this._pause===void 0&&(this._pause=new p(this)),this._pause},getBang:function(){return this._bang===void 0&&(this._bang=new b(this)),this._bang}});return{get:function(R){let D=this._mvmMap[R];if(D===void 0){const S=s(R);D=new T(R,function(){delete this._mvmMap[R]}.bind(this),S),this._mvmMap[R]=D}return++D._refCount,D},_mvmMap:{}}},E,P),E.exports=M},"mw-mvm/impl/MVMConnection":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["mw-mvm/impl/RuntimeException"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-mvm/ExecutionStatus"]),t(t.dj.r.absMids["mw-utils/Utils"])],M=t.dj.d(y,function(c,A,h,l,n){const o=function(){let i,m;return{promise:new Promise(function(e,a){i=e,m=a}),resolve:i,reject:m}};return c(null,{constructor:function(i,m){h.assert(i!==void 0,"connectionData must be defined"),h.assert(m!==void 0,"channelPostfix must be defined"),this._subscriptionPromises=[],this._subscribeArgs=[],this._requestPromiseMap={},this._connectionData=i,this._connectionData.onChannelPrefix().then(function(g){this._channelPrefix=g+"/"+m,this._requestChannel=this._channelPrefix+"/request"}.bind(this),function(g){}),this._subscribeImpl("response","_handleResponse",this).catch(function(g){}),this._cancelPendingSubscriptions=!1},subscribe:function(i,m,g){const e=function(a){Promise.resolve(a).then(function(r){g?g[m](r):m(r)})};return this._subscribeImpl(i,e)},makeRequest:function(i,m,g){const e=n.generateUuid(),a=function(){e in this._requestPromiseMap&&delete this._requestPromiseMap[e]}.bind(this),r=o();let f=r.promise.then(function(p){return a(),p},function(p){throw a(),p});if(this._requestPromiseMap[e]={resolve:r.resolve,reject:r.reject},i.requestID=e,this._connectionData.queueRequest(this._subscriptionPromises,function(){this._connectionData.getMessageService().publish(this._requestChannel,i).catch(function(p){r.reject(new A(l.inCOMM_ERROR,p))})}.bind(this),function(p){r.reject(new A(l.inCOMM_ERROR,p))}),m!==void 0){const p=setTimeout(this._handleTimeout.bind(this,e,g),m);f=f.finally(function(){clearTimeout(p)})}return f},destroy:function(i){if(i===void 0&&(i=!0),i)for(const m in this._requestPromiseMap)this._requestPromiseMap[m].reject(new A(l.inCOMM_ERROR,"mvm is being destroyed"));for(this._cancelPendingSubscriptions=!0;this._subscribeArgs.length>0;){const m=this._subscribeArgs.shift();this._connectionData.getMessageService().unsubscribe(...m).then(function(){},function(e){})}},_subscribeImpl:function(i,m,g){const e=o();return this._subscriptionPromises.push(e.promise),this._connectionData.onChannelPrefix().then(async function(){if(this._cancelPendingSubscriptions){e.resolve();return}let a;g?a=[this._channelPrefix+"/"+i,m,g]:a=[this._channelPrefix+"/"+i,m],this._subscribeArgs.push(a);try{await this._connectionData.getMessageService().subscribe(...a),e.resolve()}catch(r){e.reject(new A(l.inCOMM_ERROR,r))}}.bind(this),function(a){e.reject(a)}),e.promise},_handleTimeout:function(i,m){if(i in this._requestPromiseMap){const g=this._requestPromiseMap[i];delete this._requestPromiseMap[i],g.reject(new A(l.inCOMM_ERROR,"Canceled because of timeout"))}m!==void 0&&m(i,!0)},_handleResponse:function(i){const m=i.data;if(m.requestID in this._requestPromiseMap)if(m.error===void 0)this._requestPromiseMap[m.requestID].resolve(m);else{const g=new A(m.error.status,m.error.msg,m.error.id,m.error.functionName,m.error.frames,m.error.causes);this._requestPromiseMap[m.requestID].reject(g)}}})},E,P),E.exports=M},"mw-mvm/impl/MVMPromise":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-mvm/impl/RuntimeException"]),t(t.dj.r.absMids["mw-mvm/ExecutionStatus"])],M=t.dj.d(y,function(c,A){return class extends Promise{static makeControlObject(){return{resolve:void 0,reject:void 0}}constructor(l,n){super(function(o,i){l.resolve=o,l.reject=function(m){if(!m.isRuntimeException||!m.isRuntimeException())throw console.error(`Reject should be called with RuntimeException object. Stack Trace: 
`),console.trace(),new c(A.inCOMM_ERROR,"Attemptted to reject non-RuntimeException error with message:"+m.msg,m.id,m.functionName,m.frames,m.causes);i(m)}}),this._cancel=n,this._cancel===void 0&&(this.cancel=void 0)}cancel(l){return l===void 0&&(l=!1),this._cancel(l)}static get[Symbol.species](){return Promise}}},E,P),E.exports=M},"mw-mvm/impl/MVMSink":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-mvm/impl/MVMConnection"])],M=t.dj.d(y,function(c){return class{constructor(h){this._mvmSinkConnection=new c(h,"mvmSinks"),this._mvmSinkConnection.subscribe("output","_handleOutput",this).catch(function(l){h.onChannelPrefix().then(function(){throw l},function(n){if(n!==l)throw l})})}setSinks(h,l,n,o){this._outCallback=h,this._errCallback=l,h===null&&!(h instanceof Function)&&(n=null),l===null&&!(l instanceof Function)&&(o=null);const i={outSinkTraits:n,errSinkTraits:o};return this._mvmSinkConnection.makeRequest(i)}destroy(){this._mvmSinkConnection.destroy()}_handleOutput(h){const l=h.data;switch(l.stream){case 0:typeof this._outCallback=="function"&&this._outCallback(l.text);break;case 1:typeof this._errCallback=="function"&&this._errCallback(l.text);break;default:}}}},E,P),E.exports=M},"mw-mvm/impl/More":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-mvm/RunOptions"])],M=t.dj.d(y,function(c){return class{constructor(h){this._mvm=h}_fevalHelper(h,l){const n=new c({queueName:"SingleKeyPress"});return l&&n.setGroupNames(l),this._mvm.feval(h,0,[],n)}nextPage(h){return this._fevalHelper("matlab.internal.singlekeypress.more.nextpage",h)}nextLine(h){return this._fevalHelper("matlab.internal.singlekeypress.more.nextline",h)}quit(h){return this._fevalHelper("matlab.internal.singlekeypress.more.quit",h)}}},E,P),E.exports=M},"mw-mvm/impl/Pause":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-mvm/RunOptions"])],M=t.dj.d(y,function(c){return class{constructor(h){this._mvm=h}resume(){return this._mvm.feval("matlab.internal.singlekeypress.pause.resume",0,[],new c({queueName:"SingleKeyPress"}))}}},E,P),E.exports=M},"mw-mvm/impl/RequestQueue":(E,P,t)=>{"use strict";var y,M;y=[],M=t.dj.d(y,function(){return class{constructor(){this._requestPromise=Promise.resolve()}queueRequest(A,h,l,n){let o=[this._requestPromise,A];h&&Symbol.iterator in Object(h)&&o.push(...h),this._requestPromise=Promise.all(o).then(l,function(i){n&&n(i)})}}},E,P),E.exports=M},"mw-mvm/impl/RootWindowContainer":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["mw-mvm/impl/RequestQueue"])],M=t.dj.d(y,function(c){let A;const h=()=>{if(A)return A;{let i=window;for(;i.opener&&i.opener!==i;)i=i.opener;return A=i,A}};return{_getRootWindow:h,getGlobalMVMVariable:i=>{const m=h();if(m._RootWindowContainer)m._RootWindowContainer.refCount++;else{const g=new c;m._RootWindowContainer={requestQueue:g,refCount:1}}return{requestQueue:m._RootWindowContainer.requestQueue}},releaseGlobalMVMVariable:()=>{const i=h();i._RootWindowContainer&&i._RootWindowContainer.refCount>0&&i._RootWindowContainer.refCount--,i._RootWindowContainer&&i._RootWindowContainer.refCount===0&&delete i._RootWindowContainer},cleanUpGlobalResources:()=>{const i=h();i._RootWindowContainer&&delete i._RootWindowContainer}}},E,P),E.exports=M},"mw-mvm/impl/RuntimeException":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["mw-mvm/impl/StackFrame"])],M=t.dj.d(y,function(c,A){const h=c(null,{constructor:function(n,o,i,m,g,e){this._status=n,this._msg=o,this._id=i,this._functionName=m,this._frames=[],this._causes=[],g&&g.forEach(function(a){this._frames.push(new A(a.file,a.func,a.line))},this),e&&e.forEach(function(a){this._causes.push(new h(a.status,a.msg,a.id,a.functionName,a.frames,a.causes))},this)},getID:function(){return this._id},getMsg:function(){return this._msg},getExecutionStatus:function(){return this._status},getFunctionName:function(){return this._functionName},getStackFrames:function(){return this._frames},getCauses:function(){return this._causes},isRuntimeException:function(){return!0}});return h},E,P),E.exports=M},"mw-mvm/impl/StackFrame":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"])],M=t.dj.d(y,function(c){return c(null,{constructor:function(h,l,n){this._file=h,this._func=l,this._line=n},getFileName:function(){return this._file},getFunctionName:function(){return this._func},getLineNumber:function(){return this._line}})},E,P),E.exports=M},"mw-fctrl/Features":(E,P,t)=>{"use strict";var y,M;y=[t(t.dj.r.absMids["dojo/_base/declare"]),t(t.dj.r.absMids["dojo/Deferred"]),t(t.dj.r.absMids["mw-log/Log"]),t(t.dj.r.absMids["mw-messageservice/MessageService"]),t(t.dj.r.absMids["mw-utils/Utils"])],M=t.dj.d(y,function(c,A,h,l,n){return c(null,{_channels:{ADDCB:"/fctrl/addcb",ADDCB_RESPONSE:"/fctrl/response/addcb",RMCB:"/fctrl/rmcb",RMCB_RESPONSE:"/fctrl/response/rmcb",SET:"/fctrl/set",SET_RESPONSE:"/fctrl/response/set"},constructor:function(o=""){l.isStarted()||l.start(),this._mvmID=o,this._uuid=n.generateUuid(),this._counter=0,this._cache={},this._responses={},l.subscribe(this._channels.ADDCB_RESPONSE,"_fctrlCbResponse",this),l.subscribe(this._channels.SET_RESPONSE,"_fctrlSetResponse",this)},destroy:function(){Object.values(this._cache).forEach(o=>{o.destroy()})},getFeature:function(o){const i=new A,m=this._getCache(o),g=this;return m.deferred.then(function(e){i.resolve(g._clone(m.current.value))},function(e){i.reject(g._clone(e.error))}),i},setFeature:function(o,i){const m=new A,g=this._getCache(o),e=this._nextid(),a={id:e,mvm:this._mvmID,name:o,value:i},r=this;return g.deferred.then(function(f){r._responses[e]=function(p){Object.prototype.hasOwnProperty.call(p.data,"error")?m.reject(p.data):m.resolve(p.data)},h.info("assigning feature: "+o+" = "+i),l.publish(r._channels.SET,a)},function(f){m.reject(r._clone(f.error))}),m},addCallback:function(o,i){const m=this._nextid(),g=new A,e=this,a=this._getCache(o);a.deferred.then(function(f){const p=function(){const b={name:e._clone(o),value:e._clone(a.current.value)};i(b)};a.callbacks[m]=p,p()},function(f){g.reject(e._clone(f.error))});const r=c(null,{constructor:function(f){this._func=f},destroy:function(){this._func()},disconnect:function(){const f=this._func;this._func=function(){},f()}});return new r(function(){delete a.callbacks[m]})},_nextid:function(){return++this._counter,JSON.stringify({uuid:this._uuid,counter:this._counter})},_getCache:function(o){if(!Object.prototype.hasOwnProperty.call(this._cache,o)){h.info("accessing feature: "+o);const i=this._nextid(),m=new A,g=this,e={id:i,name:o,mvm:this._mvmID},a={deferred:m,current:void 0,callbacks:{},destroy:function(){l.publish(g._channels.RMCB,e)}};this._cache[o]=a,this._responses[i]=function(r){a.current=r.data,h.info(r.data),h.assert(Object.prototype.hasOwnProperty.call(r.data,"value")||Object.prototype.hasOwnProperty.call(r.data,"error"),"msg.data: "+JSON.stringify(r.data)),m.isFulfilled()||(Object.prototype.hasOwnProperty.call(r.data,"error")?m.reject(r.data):m.resolve(a)),Object.prototype.hasOwnProperty.call(a.current,"value")&&Object.values(a.callbacks).forEach(p=>{p()})},l.publish(this._channels.ADDCB,e)}return this._cache[o]},_fctrlCbResponse:function(o){const i=o.data.id;if(Object.prototype.hasOwnProperty.call(this._responses,i)){const m=this._responses[i];m(o)}},_fctrlSetResponse:function(o){const i=o.data.id;if(Object.prototype.hasOwnProperty.call(this._responses,i)){const m=this._responses[i];delete this._responses[i],m(o)}},_clone:function(o){if(o==null||typeof o!="object")return o;{const i={};return Object.entries(o).forEach(m=>{const[g,e]=m;i[g]=this._clone(e)}),i}}})},E,P),E.exports=M},833:(E,P,t)=>{E.exports=t}},E=>{var P=y=>E(E.s=y),t=P(833)}]);
